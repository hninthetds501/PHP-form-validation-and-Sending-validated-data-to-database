<!DOCTYPE html>
<!-- saved from url=(0083)https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html -->
<html class=" js flexbox flexboxlegacy no-touch websqldatabase indexeddb history csscolumns csstransforms localstorage sessionstorage no-applicationcache svg inlinesvg zoom" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#" itemscope="" itemtype="http://schema.org/Book http://schema.org/ItemPage" data-offline-url="/" data-url="/library/view/programming-php-3rd/9781449361068/ch04s08.html" data-archive="9781449361068" data-publishers="O&#39;Reilly Media, Inc." data-htmlfile-name="ch04s08.html" data-epub-title="Programming PHP, 3rd Edition" data-federated-auth-enabled="true" data-env="production" data-debug="0"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Regular Expressions - Programming PHP, 3rd Edition [Book]</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/output.5275cc14dc3c.css" type="text/css">
    <link href="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/2018_font_face.css">
    

    <meta property="og:title" content="Programming PHP, 3rd Edition">
    <meta itemprop="isPartOf" content="/library/view/programming-php-3rd/9781449361068/">
    <meta itemprop="name" content="Regular Expressions">
    
    <meta property="og:url" itemprop="url" content="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html">
    <meta property="og:site_name" content="O’Reilly Online Learning">
    <meta property="og:image" itemprop="thumbnailUrl" content="https://www.oreilly.com/library/cover/9781449361068/">
    
    <meta property="og:image:secure_url" itemprop="thumbnailUrl" content="https://learning.oreilly.com/library/cover/9781449361068/360h/">
    <meta property="og:description" itemprop="description" name="description" content="Regular Expressions If you need more complex searching functionality than the previous methods provide, you can use regular expressions. A regular expression is a string that represents a pattern. …  - Selection from Programming PHP, 3rd Edition [Book]">
    
    <meta itemprop="inLanguage" content="en">
    
    <meta itemprop="publisher" content="O&#39;Reilly Media, Inc.">
    
    <meta property="og:type" content="article">
    <meta property="og:book:isbn" itemprop="isbn" content="9781449392772">
    
    <meta property="og:book:author" itemprop="author" content="Rasmus Lerdorf">
    <meta property="og:book:author" itemprop="author" content="Kevin Tatroe">
    <meta property="og:book:author" itemprop="author" content="Peter MacIntyre">
    
    <meta property="og:book:tag" itemprop="about" content="Core Programming">
    <meta property="og:book:tag" itemprop="about" content="Design">
    <meta property="og:book:tag" itemprop="about" content="Web Development">
    
    
    
    <meta property="og:image:width" content="400">
    <meta property="og:image:height" content="400">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@OReillyMedia">

<!-- Start Visual Website Optimizer Asynchronous Code -->
<script id="twitter-wjs" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/widgets.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/cool-2.1.15.min.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/munchkin.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/ec.js.download"></script><script async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/insight.beta.min.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/tvu7up89sc39.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/analytics.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/bat.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/f.txt"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/insight.min.js.download"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/f.txt"></script><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/js"></script><script async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/gtm.js.download"></script><script type="text/javascript">
var _vwo_code=(function(){
var account_id=291788,
settings_tolerance=2000,
library_tolerance=2500,
use_existing_jquery=false,
/* DO NOT EDIT BELOW THIS LINE */
f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
</script><script src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/j.php" type="text/javascript"></script>
<!-- End Visual Website Optimizer Asynchronous Code -->

    <link class="t-canonical-link" rel="canonical" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html">

    <link rel="shortcut icon" href="https://www.oreilly.com/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="apple-touch-icon" href="https://www.oreilly.com/library/view/static/images/apple-touch-icon.png">
    

  
    <style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content font,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}@page{margin:5px !important}#sbo-rt-content p{margin:8px 0 0;text-align:left}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link{text-decoration:none;color:#8e0012}#sbo-rt-content sup{font-size:x-small;vertical-align:super}#sbo-rt-content sub{font-size:smaller;vertical-align:sub}#sbo-rt-content span.lineannotation{font-style:italic;color:red;font-family:serif}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#FFF}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content h1{font-size:1.5em;font-weight:bold;font-family:sans-serif,"DejaVuSans";margin-top:20px !important}#sbo-rt-content h2{font-size:1.3em;font-weight:bold;font-family:sans-serif,"DejaVuSans";color:#8e0012;margin:15px 0 8px 0 !important}#sbo-rt-content h3{font-size:1.1em;font-weight:bold;font-family:sans-serif,"DejaVuSans";margin:10px 0 8px 0 !important}#sbo-rt-content h4{font-size:bold;font-weight:1em;font-family:sans-serif,"DejaVuSans";color:#555;margin:9px 0 !important}#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;page-break-after:avoid}#sbo-rt-content div.titlepage{page-break-inside:avoid}#sbo-rt-content div.chapter>div.titlepage:first-child h1.title,#sbo-rt-content div.preface>div.titlepage:first-child h1.title,#sbo-rt-content div.appendix>div.titlepage:first-child h1.title{font-size:2em;line-height:1;margin-bottom:15px}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{margin:10px 0 !important;text-align:center;-webkit-border-radius:5px;border-radius:5px;border:1px solid #000;background-color:transparent;padding:5px !important;page-break-inside:avoid}#sbo-rt-content div.figure p.title,#sbo-rt-content div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.informalfigure{text-align:center;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:10px 0 !important;-webkit-border-radius:5px;border-radius:5px;border:1px solid #000;background-color:transparent;font-size:90%;padding:10px 8px !important;page-break-inside:avoid}#sbo-rt-content div.sidebar p.title{font-weight:bold;font-size:1em;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar ol{margin-left:15px}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div.caution,#sbo-rt-content div.sidebar div.important{margin:10px 12.5% !important;font-size:90%;padding:10px 5px !important;width:75%}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div.note{background-color:#f1f6fc;border:none}#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div.caution{background-color:#fce5e8}#sbo-rt-content div.sidebar div.important{background-color:#FBEC5D}#sbo-rt-content div.sidebar div.figure{border:none}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:10px 0 10px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div.example{margin:10px 0 15px 0 !important}#sbo-rt-content div.example p.title{font-style:italic;font-weight:normal;font-family:serif,"DejaVuSerif";margin:10px 0 5px 0 !important}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div.example-contents pre.programlisting,#sbo-rt-content div.example-contents pre.screen{margin:0}#sbo-rt-content span.gray{color:#4C4C4C}#sbo-rt-content div.book div.titlepage h1.title{font-size:3em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content div.book div.titlepage h2.subtitle{text-align:center;color:#000;margin:0 !important;font-style:italic;font-family:serif;font-size:1.5em}#sbo-rt-content div.book div.titlepage div.author h3{font-size:2em;font-family:sans-serif,"DejaVuSans";font-weight:bold;color:#8e0012;margin:50px 0 !important;text-align:center}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content div.preface[title="Dedication"]>div.titlepage h1.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content div.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif,"DejaVuSerif";font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif,"DejaVuSerif";margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10pt}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content section.chapter div.titlepage div.author{margin-bottom:40px}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-style:italic;font-family:serif,"DejaVuSerif"}#sbo-rt-content blockquote div.attribution{margin:5px 0 0 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p{font-style:normal}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div.footnote{font-size:90%}#sbo-rt-content div.refnamediv h2,#sbo-rt-content div.refnamediv h3,#sbo-rt-content div.refsynopsisdiv h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refentry div.refsect1 h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refsect2 h3{font-size:1em;color:#000;margin-top:10px !important;margin-bottom:0 !important}#sbo-rt-content div.refnamediv p{margin-left:15px !important}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important}#sbo-rt-content dd{margin-left:1.5em !important}#sbo-rt-content dd,#sbo-rt-content li{text-align:left}#sbo-rt-content ol{list-style-type:decimal;margin-top:8px !important;margin-bottom:8px !important;margin-left:20px !important;padding-left:25px !important}#sbo-rt-content ol ol{list-style-type:lower-alpha}#sbo-rt-content ol ol ol{list-style-type:lower-roman}#sbo-rt-content ul{list-style-type:square;margin-top:8px !important;margin-bottom:8px !important;margin-left:5px !important;padding-left:20px !important}#sbo-rt-content ul ul{list-style-type:none;padding-left:0 !important;margin-left:0 !important}#sbo-rt-content ul ul li p:before{content:"— "}#sbo-rt-content ul ul ul li p:before{content:""}#sbo-rt-content ul ul ul{list-style-type:square;margin-left:20px !important;padding-left:30px !important}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist{margin-left:20px !important;margin-bottom:10px}#sbo-rt-content table.simplelist td{border:none;font-size:90%}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content div.calloutlist dd{padding-left:40px !important}#sbo-rt-content div.calloutlist img{padding:0}#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.tip,#sbo-rt-content div.note,#sbo-rt-content div.warning,#sbo-rt-content div.caution,#sbo-rt-content div.important{margin:10px 0 !important;-webkit-border-radius:5px;border-radius:5px;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip,#sbo-rt-content div.note{border:1px solid #6cafd0;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div.caution{border:1px solid #8e0012;background-color:#fce5e8}#sbo-rt-content div.important{background-color:#FFF68F;border:1px solid #615E3F}#sbo-rt-content div.tip h3,#sbo-rt-content div.note h3,#sbo-rt-content div.warning h3,#sbo-rt-content div.caution h3,#sbo-rt-content div.important h3{font:bold 90%;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important;color:#000}#sbo-rt-content div.table,#sbo-rt-content table{margin:10px auto !important;max-width:95%;border-collapse:collapse;border-spacing:0}#sbo-rt-content div.table,#sbo-rt-content div.informaltable{page-break-inside:avoid}#sbo-rt-content tr{border-bottom:1px solid #c3c3c3}#sbo-rt-content tr th{border-bottom:#9d9d9d 2px solid !important;border-top:#9d9d9d 2px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content th{font-family:sans-serif,"DejaVuSans";color:#000;font-weight:bold}#sbo-rt-content td,#sbo-rt-content th{padding:.3em;text-align:left;vertical-align:baseline;font-size:80%}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table p.title{font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";margin:20px 0 0 0 !important;text-align:center;padding:0}#sbo-rt-content table code{font-size:smaller}#sbo-rt-content div.equation p.title{font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{font-weight:bold}#sbo-rt-content div.index dt{line-height:140%}#sbo-rt-content div.index a.indexterm{color:#8e0012}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif,"DejaVuSerif";text-align:left}
    </style><script async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/MathJax.js.download"></script>
  




<script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/munchkin.js(1).download"></script><script src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/f(1).txt"></script><script src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/f(2).txt"></script><link type="text/css" rel="stylesheet" href="chrome-extension://ekcknfleddaejiggabkjphpflidckbig/zg.css"><style type="text/css">.drift-conductor-item iframe,
.drift-frame-controller {
  display: block;
  min-width: 0;
  max-width: none;
  min-height: 0;
  max-height: none;
}

.drift-conductor-item iframe {
  border: none !important;
  background: transparent !important;
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
}

.drift-conductor-item.with-transition {
  -webkit-transition: opacity .5s ease, -webkit-transform .5s ease;
  transition: opacity .5s ease, -webkit-transform .5s ease;
  -o-transition: opacity .5s ease, -o-transform .5s ease;
  -moz-transition: opacity .5s ease, transform .5s ease, -moz-transform .5s ease;
  transition: opacity .5s ease, transform .5s ease;
  transition: opacity .5s ease, transform .5s ease, -webkit-transform .5s ease, -moz-transform .5s ease, -o-transform .5s ease;
}

.drift-conductor-item.with-height-transition {
  -webkit-transition: max-height .5s ease, opacity .5s ease, -webkit-transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, -webkit-transform .5s ease;
  -o-transition: max-height .5s ease, opacity .5s ease, -o-transform .5s ease;
  -moz-transition: max-height .5s ease, opacity .5s ease, transform .5s ease, -moz-transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, transform .5s ease, -webkit-transform .5s ease, -moz-transform .5s ease, -o-transform .5s ease;
}

.drift-conductor-item {
  position: fixed;
  -webkit-transform: translateZ(0);
     -moz-transform: translateZ(0);
          transform: translateZ(0);
  z-index: 2147483647;
}

.drift-frame-controller {
  bottom: 12px;
}

.drift-frame-controller-align-left {
  left: 12px;
}

.drift-frame-controller-align-right {
  right: 12px;
}

.drift-frame-chat:not(iframe) {
  bottom: -webkit-calc(12px + 52px + 12px);
  bottom: -moz-calc(12px + 52px + 12px);
  bottom: calc(12px + 52px + 12px); /* vertical margin x 2 + widget icon size */
  right: 0;
  width: 100%;
  height: 100%;
  min-width: 320px;
  opacity: 0;

  -webkit-transform: translateY(88px);

     -moz-transform: translateY(88px);

      -ms-transform: translateY(88px);

       -o-transform: translateY(88px);

          transform: translateY(88px);
}

.drift-frame-chat:not(iframe).drift-chat-open {
  opacity: 1;
  -webkit-transform: translateY(0px);
     -moz-transform: translateY(0px);
      -ms-transform: translateY(0px);
       -o-transform: translateY(0px);
          transform: translateY(0px)
}

.drift-frame-chat-align-left {
  left: 12px;
}

.drift-frame-chat-align-right {
  right: 12px;
}

.drift-frame-takeover {
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  min-height: 100%;
  min-width: 100%;
}

.drift-frame-emailCapture {
  bottom: 0;
  height: -webkit-calc(100% + 30px);
  height: -moz-calc(100% + 30px);
  height: calc(100% + 30px);
}

.drift-frame-emailCapture-align-left {
  left: 0;
}

.drift-frame-emailCapture-align-right {
  right: 0;
}

.drift-frame-slider {
  bottom: 6px;
  height: -webkit-calc(100% + 20px);
  height: -moz-calc(100% + 20px);
  height: calc(100% + 20px);
}

.drift-frame-slider-align-left {
  left: 0px;
}

.drift-frame-slider-align-right {
  right: 72px;
}

.drift-widget-content-box {
  background: rgba(0,0,0,.5);
  width: 100%;
  height: 100%;

  position: fixed;
  z-index: 2147483647;
  top: 0;
  left: 0;
}

.drift-widget-content-box > * {
  margin: 0 auto;
  position: relative;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
     -moz-transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
       -o-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  max-height: 80%;

}

@media
(max-height: 685px),
(min-width: 369px) and (max-width: 380px),
(max-width: 367px),

(min-device-width: 320px)
and (max-device-width: 480px)
and (-webkit-min-device-pixel-ratio: 2)
and (orientation: portrait)

{
  .drift-frame--mobile.drift-frame-chat.drift-chat-open {
    bottom: 0;
  }

  .drift-frame--mobile.drift-frame-controller.drift-chat-open {
    display: none;
  }

  .drift-frame--mobile iframe.drift-frame-chat {
    width: 1px !important;
    min-width: 100%;

    height: 1px !important;
    min-height: 100%;
  }

  html.drift-widget-parent--chat-open,
  html.drift-widget-parent--chat-open > body {
    overflow: hidden !important;
    position: static !important;
  }
}
</style><style type="text/css" id="kampyleStyle">.noOutline{outline: none !important;}.wcagOutline:focus{outline: 1px dashed #595959 !important;outline-offset: 2px !important;transition: none !important;}</style></head>
<body class="js-preview-content library">


<div class="skipToMain" id="skipToMain"><a href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#maincontent"><span class="skipToMain-text">Skip to main content</span></a></div>
<header role="banner" class="global">
  <div class="global-nav">
    <div class="content">
      <nav role="navigation" aria-label="site sections">
        <a href="https://www.oreilly.com/" class="logo" title="home page" aria-current="page"><img src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/oreilly_logo_mark_red.svg" onerror="this.src=&#39;https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red_@2x.png&#39;; this.onerror=null;" alt="O&#39;Reilly home"></a>

        <button id="mobileNavButton" class="mobileNavButton mobileNavButton--collapse mobileNavButton--3dx" type="button" aria-expanded="false" aria-controls="menuList">
          <span class="mobileNavButton-box">
            <span class="mobileNavButton-inner"></span>
          </span>
        </button>


        <ul id="menuList" class="menuList mobileHidden ">
          <li class="menuList-itemsP1">
            <ul>
              
  <li class="menuList-item menuList-signIn"><a class="t-sign-in" href="https://learning.oreilly.com/accounts/login/?next=/library/view/programming-php-3rd/9781449361068/ch04s08.html" onmousedown="dataLayer.push({&#39;event&#39;: &#39;eventTracker&#39;, &#39;eventCat&#39;: &#39;Outbound Links&#39;, &#39;eventAct&#39;:&#39;Oreilly&#39;, &#39;eventLbl&#39;: &#39;learning.oreilly.com/accounts/login/?next=/library/view/programming-php-3rd/9781449361068/ch04s08.html&#39;, &#39;eventVal&#39;: 0, &#39;nonInteraction&#39;: 0});">Sign In</a></li>


              <li class="menuList-item menuList-tryNow"><a class="menuList-cta" href="https://learning.oreilly.com/register/" onmousedown="dataLayer.push({&#39;event&#39;: &#39;eventTracker&#39;, &#39;eventCat&#39;: &#39;Outbound Links&#39;, &#39;eventAct&#39;:&#39;Oreilly&#39;, &#39;eventLbl&#39;: &#39;learning.oreilly.com/register/&#39;, &#39;eventVal&#39;: 0, &#39;nonInteraction&#39;: 0});">Try Now</a></li>
            </ul>
          </li>
          <li class="menuList-itemsP2">
            <ul>
              <li class="menuList-item"><a href="https://www.oreilly.com/online-learning/teams.html">Teams</a></li>
              <li class="menuList-item"><a href="https://www.oreilly.com/online-learning/individuals.html">Individuals</a></li>
              <li class="menuList-item menuList-itemWithSub"><a href="https://www.oreilly.com/online-learning/features.html">Features</a>
                <ul class="menuList-subList">
                  <li class="menuList-subItem"><a href="https://www.oreilly.com/online-learning/feature-certification.html">Certifications</a></li>
                  <li class="menuList-subItem"><a href="https://www.oreilly.com/online-learning/intro-interactive-learning.html">Interactive learning</a></li>
                  <li class="menuList-subItem"><a href="https://www.oreilly.com/online-learning/live-online-sessions.html">Live online sessions</a></li>
                </ul>
              </li>
              <li class="menuList-item"><a href="https://www.oreilly.com/whats-new.html">What’s New</a></li>
              <li class="menuList-item menuList-forMarketers"><a href="https://www.oreilly.com/content-marketing-solutions.html">O’Reilly for marketers</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </div>


  <div class="global-search">
    <div id="globalSearchContent" class="content">
      <form id="js-search-form" class="t-navigation-form" action="https://learning.oreilly.com/search/">
        
        <script type="application/ld+json">
        {
          "@context": "http://schema.org",
          "@type": "WebSite",
          "url": "https://learning.oreilly.com",
          "potentialAction": {
            "@type": "SearchAction",
            "target": "https://learning.oreilly.com/search/?q={search_term_string}",
            "query-input": "required name=search_term_string"
          }
        }
        </script>
        <input data-search-text-focus="See everything available through O’Reilly online learning and start a free trial. Explore now." data-search-text-idle="See everything available through O’Reilly online learning and start a free trial. Explore now." id="search" type="search" name="query" placeholder="See everything available through O’Reilly online learning and start a free trial. Explore now." autocomplete="off" required="">
        <input type="submit" value="Search" class="search-submit" autocomplete="off">
      <div class="autocomplete-suggestions" style="position: absolute; display: none; z-index: 9999;"></div><div class="autocomplete-suggestions" style="position: absolute; display: none; z-index: 9999;"></div></form>
    </div>
  </div>
</header>

    
    
        <div class="sbo-menu-top">
           
            <section class="sbo-toc-container">
                <a href="https://learning.oreilly.com/library/view/programming-php-3rd/9781449361068/" class="sbo-toc-thumb" onmousedown="dataLayer.push({&#39;event&#39;: &#39;eventTracker&#39;, &#39;eventCat&#39;: &#39;Outbound Links&#39;, &#39;eventAct&#39;:&#39;Oreilly&#39;, &#39;eventLbl&#39;: &#39;learning.oreilly.com/library/view/programming-php-3rd/9781449361068/&#39;, &#39;eventVal&#39;: 0, &#39;nonInteraction&#39;: 0});">
                    <span class="sbo-title ss-list">
                        
                            <h1 class="t-title">Programming PHP, 3rd Edition by Rasmus Lerdorf, Kevin Tatroe, Peter MacIntyre</h1>
                        
                    </span>
                </a>
            </section>
             
        </div>
    





<section id="trial-overlay">
  <div class="trial-overlay-content">
    <p>Get <em>Programming PHP, 3rd Edition</em> now with O’Reilly <span class="nowrap">online learning.</span></p>

    <p>O’Reilly members experience live online training, plus books, videos, and digital content from <span class="nowrap">200+ publishers.</span></p>

    <div class="controls">
      <a href="https://learning.oreilly.com/register/" class="button-primary" data-ga-label="Bottom CTA" onmousedown="dataLayer.push({&#39;event&#39;: &#39;eventTracker&#39;, &#39;eventCat&#39;: &#39;Outbound Links&#39;, &#39;eventAct&#39;:&#39;Oreilly&#39;, &#39;eventLbl&#39;: &#39;learning.oreilly.com/register/&#39;, &#39;eventVal&#39;: 0, &#39;nonInteraction&#39;: 0});">Start your free trial</a>
    </div>
    <a class="modal-dismiss" aria-label="modal dismiss"></a>
  </div>
</section>

<main role="main" id="maincontent">
  <div role="document" class="document">
  	
<section id="sbo-reader">
    
    

<div class="sbo-reader-content sbo-sample-reader ">
    
    <div id="sbo-rt-content" class="sbo-rt-content">
    <div id="test-content-id"><div class="sect1" title="Regular Expressions"><div class="titlepage"><div><div><h1 class="title"><a id="regular_expressions"></a>Regular Expressions</h1></div></div></div><p>If <a id="ch4-regex" class="indexterm"></a><a id="I_indexterm4_id638906" class="indexterm"></a>you need more complex searching functionality than the
    previous methods provide, you can use regular expressions. A regular
    expression is a string that represents a <span class="emphasis"><em>pattern</em></span>. The
    regular expression functions compare that pattern to another string and
    see if any of the string matches the pattern. Some functions tell you
    whether there was a match, while others make changes to the string.</p><p>There are three uses for regular expressions: matching, which can
    also be used to extract information from a string; substituting new text
    for matching text; and splitting a string into an array of smaller chunks.
    PHP has functions for all. For instance, <code class="literal">preg_match()</code> does a regular expression
    match.</p><p>Perl has long been considered the benchmark for powerful regular
    expressions. PHP uses a C library called <span class="emphasis"><em>pcre</em></span> to
    provide almost complete support for Perl’s arsenal of regular expression
    features. Perl regular expressions act on arbitrary binary data, so you
    can safely match with patterns or strings that contain the NUL-byte
    (<code class="literal">\x00</code>).</p><div class="sect2" title="The Basics"><div class="titlepage"><div><div><h2 class="title"><a id="the_basics"></a>The Basics</h2></div></div></div><p>Most characters in a regular expression are literal characters,
      meaning that they match only themselves. For instance, if you search for
      the regular expression <code class="literal">"/cow/"</code> in the
      string <code class="literal">"Dave was a cowhand"</code>, you get
      a match because <code class="literal">"cow"</code> occurs in that
      string.</p><p>Some<a id="I_indexterm4_id638975" class="indexterm"></a><a id="I_indexterm4_id638987" class="indexterm"></a><a id="I_indexterm4_id638996" class="indexterm"></a><a id="I_indexterm4_id639004" class="indexterm"></a> characters have special meanings in regular expressions.
      For instance, a caret (<code class="literal">^</code>) at the
      beginning of a regular expression indicates that it must match the
      beginning of the string (or, more precisely,
      <span class="emphasis"><em>anchors</em></span> the regular expression to the beginning of
      the string):</p><a id="I_programlisting4_id639022"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^cow/"</code><code class="p">,</code> <code class="s2">"Dave was a cowhand"</code><code class="p">);</code> <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^cow/"</code><code class="p">,</code> <code class="s2">"cowabunga!"</code><code class="p">);</code>         <code class="c1">// returns true</code></pre><p>Similarly, <a id="I_indexterm4_id639031" class="indexterm"></a><a id="I_indexterm4_id639043" class="indexterm"></a>a dollar sign (<code class="literal">$</code>) at
      the end of a regular expression means that it must match the end of the
      string (i.e., anchors the regular expression to the end of the
      string):</p><a id="I_programlisting4_id639060"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/cow$/"</code><code class="p">,</code> <code class="s2">"Dave was a cowhand"</code><code class="p">);</code> <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/cow$/"</code><code class="p">,</code> <code class="s2">"Don't have a cow"</code><code class="p">);</code>   <code class="c1">// returns true</code></pre><p>A <a id="I_indexterm4_id639070" class="indexterm"></a><a id="I_indexterm4_id639081" class="indexterm"></a>period (<code class="literal">.</code>) in a regular
      expression matches any single character:</p><a id="I_programlisting4_id639098"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c.t/"</code><code class="p">,</code> <code class="s2">"cat"</code><code class="p">);</code> <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c.t/"</code><code class="p">,</code> <code class="s2">"cut"</code><code class="p">);</code> <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c.t/"</code><code class="p">,</code> <code class="s2">"c t"</code><code class="p">);</code> <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c.t/"</code><code class="p">,</code> <code class="s2">"bat"</code><code class="p">);</code> <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c.t/"</code><code class="p">,</code> <code class="s2">"ct"</code><code class="p">);</code>  <code class="c1">// returns false</code></pre><p>If<a id="I_indexterm4_id639108" class="indexterm"></a><a id="I_indexterm4_id639116" class="indexterm"></a><a id="I_indexterm4_id639126" class="indexterm"></a><a id="I_indexterm4_id639134" class="indexterm"></a> you want to match one of these special characters (called
      a <span class="emphasis"><em>metacharacter</em></span>), you have to escape it with a
      backslash:</p><a id="I_programlisting4_id639150"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/</code><code class="se">\$</code><code class="s2">5\.00"</code><code class="p">,</code> <code class="s2">"Your bill is $5.00 exactly"</code><code class="p">);</code> <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/$5.00"</code><code class="p">,</code> <code class="s2">"Your bill is $5.00 exactly"</code><code class="p">);</code>   <code class="c1">// returns false</code></pre><p>Regular<a id="I_indexterm4_id639159" class="indexterm"></a><a id="I_indexterm4_id639169" class="indexterm"></a> expressions are case-sensitive by default, so the regular
      expression <code class="literal">"/cow/"</code> doesn’t match the
      string <code class="literal">"COW"</code>. If you want to perform
      a case-insensitive match, you specify a flag to indicate a
      case-insensitive match (as you’ll see later in this chapter).</p><p>So far, we haven’t done anything we couldn’t have done with the
      string functions we’ve already seen, like <code class="literal">strstr()</code>. The real power of regular
      expressions comes from their ability to specify abstract patterns that
      can match many different character sequences. You can specify three
      basic types of abstract patterns in a regular expression:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A set of acceptable characters that can appear in the string
          (e.g., alphabetic characters, numeric characters, specific
          punctuation characters)</p></li><li class="listitem"><p>A set of alternatives for the string (e.g., <code class="literal">"com"</code>, <code class="literal">"edu"</code>, <code class="literal">"net"</code>, or <code class="literal">"org"</code>)</p></li><li class="listitem"><p>A repeating sequence in the string (e.g., at least one but not
          more than five numeric characters)</p></li></ul></div><p>These three kinds of patterns can be combined in countless ways to
      create regular expressions that match such things as valid phone numbers
      and URLs.</p></div><div class="sect2" title="Character Classes"><div class="titlepage"><div><div><h2 class="title"><a id="character_classes"></a>Character Classes</h2></div></div></div><p>To<a id="I_indexterm4_id639251" class="indexterm"></a><a id="I_indexterm4_id639261" class="indexterm"></a><a id="ch4-ccs" class="indexterm"></a><a id="ch4-ccs2" class="indexterm"></a> specify a set of acceptable characters in your pattern,
      you can either build a character class yourself or use a predefined one.
      You can build your own character class by enclosing the acceptable
      characters in square brackets:</p><a id="I_programlisting4_id639294"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c[aeiou]t/"</code><code class="p">,</code> <code class="s2">"I cut my hand"</code><code class="p">);</code>     <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c[aeiou]t/"</code><code class="p">,</code> <code class="s2">"This crusty cat"</code><code class="p">);</code>   <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c[aeiou]t/"</code><code class="p">,</code> <code class="s2">"What cart?"</code><code class="p">);</code>        <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c[aeiou]t/"</code><code class="p">,</code> <code class="s2">"14ct gold"</code><code class="p">);</code>         <code class="c1">// returns false</code></pre><p>The regular expression engine finds a <code class="literal">"c"</code>, then checks that the next character is
      one of <code class="literal">"a"</code>, <code class="literal">"e"</code>, <code class="literal">"i"</code>,
      <code class="literal">"o"</code>, or <code class="literal">"u"</code>. If it isn’t a vowel, the match fails and
      the engine goes back to looking for another <code class="literal">"c"</code>. If a vowel is found, the engine checks
      that the next character is a <code class="literal">"t"</code>. If
      it is, the engine is at the end of the match and returns <code class="literal">true</code>. If the next character isn’t a <code class="literal">"t"</code>, the engine goes back to looking for
      another <code class="literal">"c"</code>.</p><p>You<a id="I_indexterm4_id639369" class="indexterm"></a><a id="I_indexterm4_id639381" class="indexterm"></a> can negate a character class with a caret (<code class="literal">^</code>) at the start:</p><a id="I_programlisting4_id639397"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c[^aeiou]t/"</code><code class="p">,</code> <code class="s2">"I cut my hand"</code><code class="p">);</code>   <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c[^aeiou]t/"</code><code class="p">,</code> <code class="s2">"Reboot chthon"</code><code class="p">);</code>   <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/c[^aeiou]t/"</code><code class="p">,</code> <code class="s2">"14ct gold"</code><code class="p">);</code>       <code class="c1">// returns false</code></pre><p>In this case, the regular expression engine is looking for a
      <code class="literal">"c"</code> followed by a character that
      isn’t a vowel, followed by a <code class="literal">"t"</code>.</p><p>You<a id="I_indexterm4_id639422" class="indexterm"></a><a id="I_indexterm4_id639430" class="indexterm"></a> can define a range of characters with a hyphen (<code class="literal">-</code>). This simplifies character classes like
      “all letters” and “all digits”:</p><a id="I_programlisting4_id639444"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[0-9]%/"</code><code class="p">,</code> <code class="s2">"we are 25% complete"</code><code class="p">);</code>          <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[0123456789]%/"</code><code class="p">,</code> <code class="s2">"we are 25% complete"</code><code class="p">);</code>   <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[a-z]t/"</code><code class="p">,</code> <code class="s2">"11th"</code><code class="p">);</code>                         <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[a-z]t/"</code><code class="p">,</code> <code class="s2">"cat"</code><code class="p">);</code>                          <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[a-z]t/"</code><code class="p">,</code> <code class="s2">"PIT"</code><code class="p">);</code>                          <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[a-zA-Z]!/"</code><code class="p">,</code> <code class="s2">"11!"</code><code class="p">);</code>                       <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[a-zA-Z]!/"</code><code class="p">,</code> <code class="s2">"stop!"</code><code class="p">);</code>                     <code class="c1">// returns true</code></pre><p>When<a id="I_indexterm4_id639456" class="indexterm"></a><a id="I_indexterm4_id639468" class="indexterm"></a><a id="I_indexterm4_id639479" class="indexterm"></a><a id="I_indexterm4_id639489" class="indexterm"></a> you are specifying a character class, some special
      characters lose their meaning while others take on new meanings. In
      particular, the <code class="literal">$</code> anchor and the
      period lose their meaning in a character class, while the <code class="literal">^</code> character is no longer an anchor but negates
      the character class if it is the first character after the open bracket.
      For instance, <code class="literal">[^\]]</code> matches any
      nonclosing bracket character, while <code class="literal">[$.^]</code> matches any dollar sign, period, or
      caret.</p><p>The various regular expression libraries define shortcuts for
      character classes, including digits, alphabetic characters, and
      <a id="I_indexterm4_id639528" class="indexterm"></a><a id="I_indexterm4_id639537" class="indexterm"></a>whitespace.</p></div><div class="sect2" title="Alternatives"><div class="titlepage"><div><div><h2 class="title"><a id="alternatives"></a>Alternatives</h2></div></div></div><p>You<a id="I_indexterm4_id639553" class="indexterm"></a><a id="I_indexterm4_id639561" class="indexterm"></a><a id="I_indexterm4_id639573" class="indexterm"></a> can use the vertical pipe (<code class="literal">|</code>) character to specify alternatives in a
      regular expression:</p><a id="I_programlisting4_id639590"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/cat|dog/"</code><code class="p">,</code> <code class="s2">"the cat rubbed my legs"</code><code class="p">);</code>      <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/cat|dog/"</code><code class="p">,</code> <code class="s2">"the dog rubbed my legs"</code><code class="p">);</code>      <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/cat|dog/"</code><code class="p">,</code> <code class="s2">"the rabbit rubbed my legs"</code><code class="p">);</code>   <code class="c1">// returns false</code></pre><p>The precedence of alternation can be a surprise: <code class="literal">"/^cat|dog$/"</code> selects from <code class="literal">"^cat"</code> and <code class="literal">"dog$"</code>, meaning that it matches a line that
      either starts with <code class="literal">"cat"</code> or ends with
      <code class="literal">"dog"</code>. If you want a line that
      contains just <code class="literal">"cat"</code> or <code class="literal">"dog"</code>, you need to use the regular expression
      <code class="literal">"/^(cat|dog)$/"</code>.</p><p>You can combine character classes and alternation to, for example,
      check for strings that don’t start with a capital letter:</p><a id="I_programlisting4_id639649"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^([a-z]|[0-9])/"</code><code class="p">,</code> <code class="s2">"The quick brown fox"</code><code class="p">);</code>   <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^([a-z]|[0-9])/"</code><code class="p">,</code> <code class="s2">"jumped over"</code><code class="p">);</code>           <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^([a-z]|[0-9])/"</code><code class="p">,</code> <code class="s2">"10 lazy dogs"</code><code class="p">);</code>          <code class="c1">// returns true</code></pre></div><div class="sect2" title="Repeating Sequences"><div class="titlepage"><div><div><h2 class="title"><a id="repeating_sequences"></a>Repeating Sequences</h2></div></div></div><p>To <a id="ch4-quant" class="indexterm"></a><a id="ch4-quant2" class="indexterm"></a><a id="ch4-quant3" class="indexterm"></a>specify a repeating pattern, you use something called a
      <span class="emphasis"><em>quantifier</em></span>. The quantifier goes after the pattern
      that’s repeated and says how many times to repeat that pattern. <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#regular_expression_quantifiers" title="Table 4-6. Regular expression quantifiers">Table&nbsp;4-6</a> shows the quantifiers that
      are supported by both PHP’s regular expressions.</p><div class="table"><a id="regular_expression_quantifiers"></a><p class="title">Table&nbsp;4-6.&nbsp;Regular expression quantifiers</p><div class="table-contents"><table summary="Regular expression quantifiers" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="text-align: left" valign="bottom"><p>Quantifier</p></th><th style="text-align: left" valign="bottom"><p>Meaning</p></th></tr></thead><tbody><tr><td style="text-align: left" valign="top"><p><code class="literal">?</code></p></td><td style="text-align: left" valign="top"><p>0 or 1<a id="I_indexterm4_id639764" class="indexterm"></a><a id="I_indexterm4_id639774" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">*</code></p></td><td style="text-align: left" valign="top"><p>0 or more<a id="I_indexterm4_id639805" class="indexterm"></a><a id="I_indexterm4_id639815" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">+</code></p></td><td style="text-align: left" valign="top"><p>1 or more<a id="I_indexterm4_id639846" class="indexterm"></a><a id="I_indexterm4_id639857" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">{</code> <em class="replaceable"><code>n</code></em>
              <code class="literal">}</code></p></td><td style="text-align: left" valign="top"><p>Exactly
              <em class="replaceable"><code>n</code></em> times<a id="I_indexterm4_id639898" class="indexterm"></a><a id="I_indexterm4_id639908" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">{</code> <em class="replaceable"><code>n</code></em>
              <code class="literal">,</code>
              <em class="replaceable"><code>m</code></em> <code class="literal">}</code></p></td><td style="text-align: left" valign="top"><p>At least
              <em class="replaceable"><code>n</code></em>, no more than
              <em class="replaceable"><code>m</code></em> times</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">{</code> <em class="replaceable"><code>n</code></em>
              <code class="literal">,}</code></p></td><td style="text-align: left" valign="top"><p>At least
              <em class="replaceable"><code>n</code></em> times</p></td></tr></tbody></table></div></div><p>To repeat a single character, simply put the quantifier after the
      character:</p><a id="I_programlisting4_id639992"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/ca+t/"</code><code class="p">,</code> <code class="s2">"caaaaaaat"</code><code class="p">);</code>   <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/ca+t/"</code><code class="p">,</code> <code class="s2">"ct"</code><code class="p">);</code>          <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/ca?t/"</code><code class="p">,</code> <code class="s2">"caaaaaaat"</code><code class="p">);</code>   <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/ca*t/"</code><code class="p">,</code> <code class="s2">"ct"</code><code class="p">);</code>          <code class="c1">// returns true</code></pre><p>With quantifiers and character classes, we can actually do
      something useful, like matching valid U.S. telephone<a id="I_indexterm4_id640003" class="indexterm"></a><a id="I_indexterm4_id640011" class="indexterm"></a><a id="I_indexterm4_id640019" class="indexterm"></a> numbers:</p><a id="I_programlisting4_id640029"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[0-9]{3}-[0-9]{3}-[0-9]{4}/"</code><code class="p">,</code> <code class="s2">"303-555-1212"</code><code class="p">);</code>    <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[0-9]{3}-[0-9]{3}-[0-9]{4}/"</code><code class="p">,</code> <code class="s2">"64-9-555-1234"</code><code class="p">);</code>   <code class="c1">// returns false</code></pre></div><div class="sect2" title="Subpatterns"><div class="titlepage"><div><div><h2 class="title"><a id="subpatterns"></a>Subpatterns</h2></div></div></div><p>You<a id="I_indexterm4_id640044" class="indexterm"></a><a id="I_indexterm4_id640054" class="indexterm"></a><a id="I_indexterm4_id640062" class="indexterm"></a><a id="I_indexterm4_id640069" class="indexterm"></a> can use parentheses to group bits of a regular expression
      together to be treated as a single unit called a
      <span class="emphasis"><em>subpattern</em></span>:</p><a id="I_programlisting4_id640080"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/a (very )+big dog/"</code><code class="p">,</code> <code class="s2">"it was a very very big dog"</code><code class="p">);</code>   <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^(cat|dog)$/"</code><code class="p">,</code> <code class="s2">"cat"</code><code class="p">);</code>                                <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^(cat|dog)$/"</code><code class="p">,</code> <code class="s2">"dog"</code><code class="p">);</code>                                <code class="c1">// returns true</code></pre><p>The parentheses also cause the substring that matches the
      subpattern to be captured. If you pass an array as the third argument to
      a match function, the array is populated with any captured
      substrings:</p><a id="I_programlisting4_id640093"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/([0-9]+)/"</code><code class="p">,</code> <code class="s2">"You have 42 magic beans"</code><code class="p">,</code> <code class="nv">$captured</code><code class="p">);</code>
<code class="c1">// returns true and populates $captured</code></pre><p>The zeroth element of the array is set to the entire string being
      matched against. The first element is the substring that matched the
      first subpattern (if there is one), the second element is the substring
      that matched the second subpattern, and so on.</p></div><div class="sect2" title="Delimiters"><div class="titlepage"><div><div><h2 class="title"><a id="delimiters"></a>Delimiters</h2></div></div></div><p>Perl-style<a id="I_indexterm4_id640112" class="indexterm"></a><a id="I_indexterm4_id640123" class="indexterm"></a><a id="I_indexterm4_id640133" class="indexterm"></a><a id="I_indexterm4_id640140" class="indexterm"></a> regular expressions emulate the Perl syntax for patterns,
      which means that each pattern must be enclosed in a pair of delimiters.
      Traditionally, the slash (<code class="literal">/</code>)
      character is used; for example, <code class="literal">/</code><em class="replaceable"><code>pattern</code></em><code class="literal">/</code>. However, any nonalphanumeric character
      other than the backslash character (<code class="literal">\</code>) can be used to delimit a Perl-style
      pattern. This is useful when matching strings containing slashes, such
      as filenames. For example, the following are equivalent:</p><a id="I_programlisting4_id640174"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/\/usr\/local\//"</code><code class="p">,</code> <code class="s2">"/usr/local/bin/perl"</code><code class="p">);</code>   <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"#/usr/local/#"</code><code class="p">,</code> <code class="s2">"/usr/local/bin/perl"</code><code class="p">);</code>      <code class="c1">// returns true</code></pre><p>Parentheses (<code class="literal">()</code>), curly braces
      (<code class="literal">{}</code>), square brackets (<code class="literal">[]</code>), and angle brackets (<code class="literal">&lt;&gt;</code>) can be used as pattern
      delimiters:</p><a id="I_programlisting4_id640206"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"{/usr/local/}"</code><code class="p">,</code> <code class="s2">"/usr/local/bin/perl"</code><code class="p">);</code>      <code class="c1">// returns true</code></pre><p>The section <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#trailing_options" title="Trailing Options">Trailing Options</a> discusses the
      single-character modifiers you can put after the closing delimiter to
      modify the behavior of the regular expression engine. A very useful one
      is <code class="literal">x</code>, which makes the regular
      expression engine strip whitespace
      and <code class="literal">#</code>-marked comments from the
      regular expression before matching. These two patterns are the same, but
      one is much easier to read:</p><a id="I_programlisting4_id640238"></a><pre class="programlisting">'/([[:alpha:]]+)\s+\1/'
'/(          # start capture
[[:alpha:]]+ #   a word
\s+          #   whitespace
\1           #   the same word again
  )          # end capture
/x'</pre></div><div class="sect2" title="Match Behavior"><div class="titlepage"><div><div><h2 class="title"><a id="match_behavior"></a>Match Behavior</h2></div></div></div><p>The<a id="I_indexterm4_id640251" class="indexterm"></a><a id="I_indexterm4_id640263" class="indexterm"></a> period (<code class="literal">.</code>) matches any
      character except for a newline (<code class="literal">\n</code>).
      The dollar sign (<code class="literal">$</code>) matches at the
      end of the string or, if the string ends with a newline, just before
      that newline:</p><a id="I_programlisting4_id640291"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/is (.*)$/"</code><code class="p">,</code> <code class="s2">"the key is in my pants"</code><code class="p">,</code> <code class="nv">$captured</code><code class="p">);</code>
<code class="c1">// $captured[1] is 'in my pants'</code></pre></div><div class="sect2" title="Character Classes"><div class="titlepage"><div><div><h2 class="title"><a id="character_classes-id1"></a>Character Classes</h2></div></div></div><p>As<a id="ch4-charc" class="indexterm"></a><a id="ch4-charc2" class="indexterm"></a> shown in <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#character_classes-id2" title="Table 4-7. Character classes">Table&nbsp;4-7</a>,
      Perl-compatible regular expressions define a number of named sets of
      characters that you can use in character classes. The expansions in
      <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#character_classes-id2" title="Table 4-7. Character classes">Table&nbsp;4-7</a> are for English. The actual
      letters vary from locale to locale.</p><p>Each<a id="I_indexterm4_id640342" class="indexterm"></a><a id="I_indexterm4_id640351" class="indexterm"></a> <code class="literal">[:</code>
      <em class="replaceable"><code>something</code></em> <code class="literal">:]</code> class can be used in place of a character
      in a character class. For instance, to find any character that’s a
      digit, an uppercase letter, or an “at” sign (<code class="literal">@</code>), use the following regular
      expression:</p><a id="I_programlisting4_id640381"></a><pre class="programlisting">[@[:digit:][:upper:]]</pre><p>However, you can’t use a character class as the endpoint of a
      range:</p><a id="I_programlisting4_id640389"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[A-[:lower:]]/"</code><code class="p">,</code> <code class="s2">"string"</code><code class="p">);</code><code class="c1">// invalid regular expression</code></pre><p>Some locales consider certain character sequences as if they were
      a single character—these are called <span class="emphasis"><em>collating
      sequences</em></span>. To match one of these multicharacter sequences in
      a character class, enclose it with <code class="literal">[.</code>
      and <code class="literal">.]</code>. For example, if your locale
      has the collating sequence <code class="literal">ch</code>, you
      can match <code class="literal">s</code>, <code class="literal">t</code>, or <code class="literal">ch</code>
      with this character class:</p><a id="I_programlisting4_id640437"></a><pre class="programlisting">[st[.ch.]]</pre><p>The<a id="I_indexterm4_id640443" class="indexterm"></a><a id="I_indexterm4_id640450" class="indexterm"></a><a id="I_indexterm4_id640458" class="indexterm"></a><a id="I_indexterm4_id640466" class="indexterm"></a> final extension to character classes is the <em class="filename">equivalence class</em>, specified by enclosing the
      character in <code class="literal">[=</code> and <code class="literal">=]</code>. Equivalence classes match characters that
      have the same collating order, as defined in the current locale. For
      example, a locale may define <code class="literal">a</code>,
      <code class="literal">á</code>, and <code class="literal">ä</code> as having the same sorting precedence. To
      match any one of them, the equivalence class is <code class="literal">[=a=]</code>.</p><div class="table"><a id="character_classes-id2"></a><p class="title">Table&nbsp;4-7.&nbsp;Character classes</p><div class="table-contents"><table summary="Character classes" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col><col></colgroup><thead><tr><th style="text-align: left" valign="bottom"><p>Class</p></th><th style="text-align: left" valign="bottom"><p>Description</p></th><th style="text-align: left" valign="bottom"><p>Expansion</p></th></tr></thead><tbody><tr><td style="text-align: left" valign="top"><p><code class="literal">[:alnum:]</code></p></td><td style="text-align: left" valign="top"><p>Alphanumeric
              characters</p></td><td style="text-align: left" valign="top"><p><code class="literal">[0-9a-zA-Z]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:alpha:]</code></p></td><td style="text-align: left" valign="top"><p>Alphabetic characters
              (letters)</p></td><td style="text-align: left" valign="top"><p><code class="literal">[a-zA-Z]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:ascii:]</code></p></td><td style="text-align: left" valign="top"><p>7-bit
              ASCII</p></td><td style="text-align: left" valign="top"><p><code class="literal">[\x01-\x7F]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:blank:]</code></p></td><td style="text-align: left" valign="top"><p>Horizontal whitespace
              (space, tab)</p></td><td style="text-align: left" valign="top"><p><code class="literal">[ \t]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:cntrl:]</code></p></td><td style="text-align: left" valign="top"><p>Control
              characters</p></td><td style="text-align: left" valign="top"><p><code class="literal">[\x01-\x1F]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:digit:]</code></p></td><td style="text-align: left" valign="top"><p>Digits</p></td><td style="text-align: left" valign="top"><p><code class="literal">[0-9]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:graph:]</code></p></td><td style="text-align: left" valign="top"><p>Characters that use ink
              to print (nonspace, noncontrol)</p></td><td style="text-align: left" valign="top"><p><code class="literal">[^\x01-\x20]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:lower:]</code></p></td><td style="text-align: left" valign="top"><p>Lowercase
              letter</p></td><td style="text-align: left" valign="top"><p><code class="literal">[a-z]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:print:]</code></p></td><td style="text-align: left" valign="top"><p>Printable character
              (graph class plus space and tab)</p></td><td style="text-align: left" valign="top"><p><code class="literal">[\t\x20-\xFF]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:punct:]</code></p></td><td style="text-align: left" valign="top"><p>Any punctuation
              character, such as the period (<code class="literal">.</code>) and the semicolon (<code class="literal">;</code>)</p></td><td style="text-align: left" valign="top"><p><code class="literal">[-!"#$%&amp;'()*+,./:;&lt;=&gt;?@[\\\]^_'{|}~]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:space:]</code></p></td><td style="text-align: left" valign="top"><p>Whitespace (newline,
              carriage return, tab, space, vertical tab)</p></td><td style="text-align: left" valign="top"><p><code class="literal">[\n\r\t \x0B]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:upper:]</code></p></td><td style="text-align: left" valign="top"><p>Uppercase
              letter</p></td><td style="text-align: left" valign="top"><p><code class="literal">[A-Z]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[:xdigit:]</code></p></td><td style="text-align: left" valign="top"><p>Hexadecimal
              digit</p></td><td style="text-align: left" valign="top"><p><code class="literal">[0-9a-fA-F]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\s</code></p></td><td style="text-align: left" valign="top"><p>Whitespace<a id="I_indexterm4_id640972" class="indexterm"></a><a id="I_indexterm4_id640984" class="indexterm"></a></p></td><td style="text-align: left" valign="top"><p><code class="literal">[\r\n \t]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\S</code></p></td><td style="text-align: left" valign="top"><p>Nonwhitespace</p></td><td style="text-align: left" valign="top"><p><code class="literal">[^\r\n \t]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\w</code></p></td><td style="text-align: left" valign="top"><p>Word (identifier)
              character</p></td><td style="text-align: left" valign="top"><p><code class="literal">[0-9A-Za-z_]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\W</code></p></td><td style="text-align: left" valign="top"><p>Nonword (identifier)
              character</p></td><td style="text-align: left" valign="top"><p><code class="literal">[^0-9A-Za-z_]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\d</code></p></td><td style="text-align: left" valign="top"><p>Digit</p></td><td style="text-align: left" valign="top"><p><code class="literal">[0-9]</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\D</code></p></td><td style="text-align: left" valign="top"><p>Nondigit<a id="I_indexterm4_id641139" class="indexterm"></a><a id="I_indexterm4_id641147" class="indexterm"></a></p></td><td style="text-align: left" valign="top"><p><code class="literal">[^0-9]</code></p></td></tr></tbody></table></div></div></div><div class="sect2" title="Anchors"><div class="titlepage"><div><div><h2 class="title"><a id="anchors"></a>Anchors</h2></div></div></div><p>An<a id="ch4-anch" class="indexterm"></a><a id="ch4-anch2" class="indexterm"></a> anchor limits a match to a particular location in the
      string (anchors do not match actual characters in the target string).
      <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#anchors-id1" title="Table 4-8. Anchors">Table&nbsp;4-8</a> lists the anchors supported by regular
      expressions.</p><div class="table"><a id="anchors-id1"></a><p class="title">Table&nbsp;4-8.&nbsp;Anchors</p><div class="table-contents"><table summary="Anchors" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="text-align: left" valign="bottom"><p>Anchor</p></th><th style="text-align: left" valign="bottom"><p>Matches</p></th></tr></thead><tbody><tr><td style="text-align: left" valign="top"><p><code class="literal">^</code></p></td><td style="text-align: left" valign="top"><p>Start of string<a id="I_indexterm4_id641256" class="indexterm"></a><a id="I_indexterm4_id641268" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">$</code></p></td><td style="text-align: left" valign="top"><p>End of string<a id="I_indexterm4_id641296" class="indexterm"></a><a id="I_indexterm4_id641308" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[[:&lt;:]]</code></p></td><td style="text-align: left" valign="top"><p>Start of word<a id="I_indexterm4_id641337" class="indexterm"></a><a id="I_indexterm4_id641350" class="indexterm"></a><a id="I_indexterm4_id641360" class="indexterm"></a><a id="I_indexterm4_id641367" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">[[:&gt;:]]</code></p></td><td style="text-align: left" valign="top"><p>End of word<a id="I_indexterm4_id641395" class="indexterm"></a><a id="I_indexterm4_id641408" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\b</code></p></td><td style="text-align: left" valign="top"><p>Word boundary (between
              <code class="literal">\w</code> and <code class="literal">\W</code> or at start or end of
              string)<a id="I_indexterm4_id641448" class="indexterm"></a><a id="I_indexterm4_id641458" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\B</code></p></td><td style="text-align: left" valign="top"><p>Nonword boundary (between
              <code class="literal">\w</code> and <code class="literal">\w</code>, or <code class="literal">\W</code> and <code class="literal">\W</code>)</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\A</code></p></td><td style="text-align: left" valign="top"><p>Beginning of
              string</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\Z</code></p></td><td style="text-align: left" valign="top"><p>End of string or before
              <code class="literal">\n</code> at end</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">\z</code></p></td><td style="text-align: left" valign="top"><p>End of
              string</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">^</code></p></td><td style="text-align: left" valign="top"><p>Start of line (or after
              <code class="literal">\n</code> if <code class="literal">/m</code> flag is enabled)</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">$</code></p></td><td style="text-align: left" valign="top"><p>End of line (or before
              <code class="literal">\n</code> if <code class="literal">/m</code> flag is enabled)</p></td></tr></tbody></table></div></div><p>A word boundary is defined as the point between a whitespace
      character and an identifier (alphanumeric or underscore)
      character:</p><a id="I_programlisting4_id641634"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/[[:&lt;:]]gun[[:&gt;:]]/"</code><code class="p">,</code> <code class="s2">"the Burgundy exploded"</code><code class="p">);</code>   <code class="c1">// returns false</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/gun/"</code><code class="p">,</code> <code class="s2">"the Burgundy exploded"</code><code class="p">);</code>                 <code class="c1">// returns true</code></pre><p>Note that the beginning and end of a string also qualify as
      word<a id="I_indexterm4_id641646" class="indexterm"></a><a id="I_indexterm4_id641654" class="indexterm"></a> boundaries.</p></div><div class="sect2" title="Quantifiers and Greed"><div class="titlepage"><div><div><h2 class="title"><a id="quantifiers_and_greed"></a>Quantifiers and Greed</h2></div></div></div><p>Regular<a id="ch4-greed" class="indexterm"></a><a id="ch4-greed2" class="indexterm"></a><a id="ch4-greed3" class="indexterm"></a><a id="ch4-greed4" class="indexterm"></a> expression quantifiers are typically
      <span class="emphasis"><em>greedy</em></span>. That is, when faced with a quantifier, the
      engine matches as much as it can while still satisfying the rest of the
      pattern. For instance:</p><a id="I_programlisting4_id641720"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/(&lt;.*&gt;)/"</code><code class="p">,</code> <code class="s2">"do &lt;b&gt;not&lt;/b&gt; press the button"</code><code class="p">,</code> <code class="nv">$match</code><code class="p">);</code>
<code class="c1">// $match[1] is '&lt;b&gt;not&lt;/b&gt;'</code></pre><p>The regular expression matches from the first less-than sign to
      the last greater-than sign. In effect, the <code class="literal">.*</code> matches everything after the first
      less-than sign, and the engine backtracks to make it match less and less
      until finally there’s a greater-than sign to be matched.</p><p>This<a id="I_indexterm4_id641741" class="indexterm"></a><a id="I_indexterm4_id641751" class="indexterm"></a> greediness can be a problem. Sometimes you need
      <span class="emphasis"><em>minimal (nongreedy) </em></span><span class="emphasis"><em>matching</em></span>—that is,
      quantifiers that match as few times as possible to satisfy the rest of
      the pattern. Perl provides a parallel set of quantifiers that match
      minimally. They’re easy to remember, because they’re the same as the
      greedy quantifiers, but with a question mark (<code class="literal">?</code>) appended. <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#greedy_and_nongreedy_quantifiers_in_perl" title="Table 4-9. Greedy and nongreedy quantifiers in Perl-compatible regular expressions">Table&nbsp;4-9</a> shows the
      corresponding greedy and nongreedy quantifiers supported by Perl-style
      regular expressions.</p><div class="table"><a id="greedy_and_nongreedy_quantifiers_in_perl"></a><p class="title">Table&nbsp;4-9.&nbsp;Greedy and nongreedy quantifiers in Perl-compatible regular
        expressions</p><div class="table-contents"><table summary="Greedy and nongreedy quantifiers in Perl-compatible regular
        expressions" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="text-align: left" valign="bottom"><p>Greedy
              quantifier</p></th><th style="text-align: left" valign="bottom"><p>Nongreedy
              quantifier</p></th></tr></thead><tbody><tr><td style="text-align: left" valign="top"><p><code class="literal">?</code></p></td><td style="text-align: left" valign="top"><p><code class="literal">??</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">*</code></p></td><td style="text-align: left" valign="top"><p><code class="literal">*?</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">+</code></p></td><td style="text-align: left" valign="top"><p><code class="literal">+?</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">{m}</code></p></td><td style="text-align: left" valign="top"><p><code class="literal">{m}?</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">{m,}</code></p></td><td style="text-align: left" valign="top"><p><code class="literal">{m,}?</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">{m,n}</code></p></td><td style="text-align: left" valign="top"><p><code class="literal">{m,n}?</code></p></td></tr></tbody></table></div></div><p>Here’s how to match a tag using a nongreedy quantifier:</p><a id="I_programlisting4_id641958"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/(&lt;.*?&gt;)/"</code><code class="p">,</code> <code class="s2">"do &lt;b&gt;not&lt;/b&gt; press the button"</code><code class="p">,</code> <code class="nv">$match</code><code class="p">);</code>
<code class="c1">// $match[1] is "&lt;b&gt;"</code></pre><p>Another, faster way is to use a character class to match every
      non-greater-than character up to the next greater-than<a id="I_indexterm4_id641969" class="indexterm"></a><a id="I_indexterm4_id641977" class="indexterm"></a><a id="I_indexterm4_id641985" class="indexterm"></a><a id="I_indexterm4_id641993" class="indexterm"></a> sign:</p><a id="I_programlisting4_id642003"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/(&lt;[^&gt;]*&gt;)/"</code><code class="p">,</code> <code class="s2">"do &lt;b&gt;not&lt;/b&gt; press the button"</code><code class="p">,</code> <code class="nv">$match</code><code class="p">);</code>
<code class="c1">// $match[1] is '&lt;b&gt;'</code></pre></div><div class="sect2" title="Noncapturing Groups"><div class="titlepage"><div><div><h2 class="title"><a id="noncapturing_groups"></a>Noncapturing Groups</h2></div></div></div><p>If <a id="I_indexterm4_id642019" class="indexterm"></a><a id="I_indexterm4_id642029" class="indexterm"></a><a id="I_indexterm4_id642037" class="indexterm"></a><a id="I_indexterm4_id642043" class="indexterm"></a><a id="I_indexterm4_id642048" class="indexterm"></a><a id="I_indexterm4_id642056" class="indexterm"></a>you enclose a part of a pattern in parentheses, the text
      that matches that subpattern is captured and can be accessed later.
      Sometimes, though, you want to create a subpattern without capturing the
      matching text. In Perl-compatible regular expressions, you can do this
      using the <code class="literal">(?:</code>
      <em class="replaceable"><code>subpattern</code></em> <code class="literal">)</code> construct:</p><a id="I_programlisting4_id642081"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/(?:ello)(.*)/"</code><code class="p">,</code> <code class="s2">"jello biafra"</code><code class="p">,</code> <code class="nv">$match</code><code class="p">);</code>
<code class="c1">// $match[1] is " biafra"</code></pre></div><div class="sect2" title="Backreferences"><div class="titlepage"><div><div><h2 class="title"><a id="backreferences"></a>Backreferences</h2></div></div></div><p>You<a id="I_indexterm4_id642096" class="indexterm"></a><a id="I_indexterm4_id642107" class="indexterm"></a><a id="I_indexterm4_id642117" class="indexterm"></a><a id="I_indexterm4_id642125" class="indexterm"></a> can refer to text captured earlier in a pattern with a
      <span class="emphasis"><em>backreference</em></span>: <code class="literal">\1</code> refers to the contents of the first
      subpattern, <code class="literal">\2</code> refers to the second,
      and so on. If you nest subpatterns, the first begins with the first
      opening parenthesis, the second begins with the second opening
      parenthesis, and so on.</p><p>For instance, this identifies doubled words:</p><a id="I_programlisting4_id642150"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/([[:alpha:]]+)\s+</code><code class="se">\1</code><code class="s2">/"</code><code class="p">,</code> <code class="s2">"Paris in the the spring"</code><code class="p">,</code> <code class="nv">$m</code><code class="p">);</code>
<code class="c1">// returns true and $m[1] is "the"</code></pre><p>The <code class="literal">preg_match()</code> function
      captures at most 99 subpatterns; subpatterns after the 99th are
      ignored.</p></div><div class="sect2" title="Trailing Options"><div class="titlepage"><div><div><h2 class="title"><a id="trailing_options"></a>Trailing Options</h2></div></div></div><p>Perl-style<a id="ch4-flag" class="indexterm"></a><a id="ch4-flag2" class="indexterm"></a><a id="ch4-flag3" class="indexterm"></a> regular expressions let you put single-letter options
      (flags) after the regular expression pattern to modify the
      interpretation, or behavior, of the match. For instance, to match
      case-insensitively, simply use the <code class="literal">i</code>
      flag:</p><a id="I_programlisting4_id642213"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/cat/i"</code><code class="p">,</code> <code class="s2">"Stop, Catherine!"</code><code class="p">);</code> <code class="c1">// returns true</code></pre><p><a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#perl_flags" title="Table 4-10. Perl flags">Table&nbsp;4-10</a> shows the modifiers from Perl that
      are supported in Perl-compatible regular expressions.</p><div class="table"><a id="perl_flags"></a><p class="title">Table&nbsp;4-10.&nbsp;Perl flags</p><div class="table-contents"><table summary="Perl flags" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="text-align: left" valign="bottom"><p>Modifier</p></th><th style="text-align: left" valign="bottom"><p>Meaning</p></th></tr></thead><tbody><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/i</code></p></td><td style="text-align: left" valign="top"><p>Match
              case-insensitively<a id="I_indexterm4_id642289" class="indexterm"></a><a id="I_indexterm4_id642301" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/s</code></p></td><td style="text-align: left" valign="top"><p>Make period (<code class="literal">.</code>) match any character,
              <span class="emphasis"><em>including</em></span> newline (<code class="literal">\n</code>)</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/x</code></p></td><td style="text-align: left" valign="top"><p>Remove whitespace and
              comments from the pattern</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/m</code></p></td><td style="text-align: left" valign="top"><p>Make caret (<code class="literal">^</code>) match after, and dollar sign
              (<code class="literal">$</code>) match before, internal
              newlines (<code class="literal">\n</code>)</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/e</code></p></td><td style="text-align: left" valign="top"><p>If the replacement string
              is PHP code, <code class="literal">eval()</code> it to get
              the actual replacement string</p></td></tr></tbody></table></div></div><p>PHP’s Perl-compatible regular expression functions also support
      other modifiers that aren’t supported by Perl, as listed in <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#additional_php_flags" title="Table 4-11. Additional PHP flags">Table&nbsp;4-11</a>.</p><div class="table"><a id="additional_php_flags"></a><p class="title">Table&nbsp;4-11.&nbsp;Additional PHP flags</p><div class="table-contents"><table summary="Additional PHP flags" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="text-align: left" valign="bottom"><p>Modifier</p></th><th style="text-align: left" valign="bottom"><p>Meaning</p></th></tr></thead><tbody><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/U</code></p></td><td style="text-align: left" valign="top"><p>Reverses the greediness
              of the subpattern; <code class="literal">*</code> and
              <code class="literal">+</code> now match as little as
              possible, instead of as much as possible</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/u</code></p></td><td style="text-align: left" valign="top"><p>Causes pattern strings to
              be treated as UTF-8</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/X</code></p></td><td style="text-align: left" valign="top"><p>Causes a backslash
              followed by a character with no special meaning to emit an
              error</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/A</code></p></td><td style="text-align: left" valign="top"><p>Causes the beginning of
              the string to be anchored as if the first character of the
              pattern were <code class="literal">^</code></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/D</code></p></td><td style="text-align: left" valign="top"><p>Causes the <code class="literal">$</code> character to match only at the end
              of a line</p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">/</code><em class="replaceable"><code>regexp</code></em><code class="literal">/S</code></p></td><td style="text-align: left" valign="top"><p>Causes the expression
              parser to more carefully examine the structure of the pattern,
              so it may run slightly faster the next time (such as in a
              loop)</p></td></tr></tbody></table></div></div><p>It’s possible to use more than one option in a single pattern, as
      demonstrated in the following<a id="I_indexterm4_id642673" class="indexterm"></a><a id="I_indexterm4_id642681" class="indexterm"></a><a id="I_indexterm4_id642689" class="indexterm"></a> example:</p><a id="I_programlisting4_id642698"></a><pre class="programlisting"><code class="nv">$message</code> <code class="o">=</code> <code class="o">&lt;&lt;&lt;</code> <code class="nx">END</code>
<code class="nx">To</code><code class="o">:</code> <code class="nx">you</code><code class="o">@</code><code class="nx">youcorp</code>
<code class="nx">From</code><code class="o">:</code> <code class="nx">me</code><code class="o">@</code><code class="nx">mecorp</code>
<code class="nx">Subject</code><code class="o">:</code> <code class="nx">pay</code> <code class="nx">up</code>

<code class="nx">Pay</code> <code class="nx">me</code> <code class="k">or</code> <code class="k">else</code><code class="o">!</code>
<code class="nx">END</code><code class="p">;</code>

<code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/^subject: (.*)/im"</code><code class="p">,</code> <code class="nv">$message</code><code class="p">,</code> <code class="nv">$match</code><code class="p">);</code>
<code class="nb">print_r</code><code class="p">(</code><code class="nv">$match</code><code class="p">);</code>

<span class="strong"><strong><code class="nx">pay</code> <code class="nx">up</code></strong></span></pre></div><div class="sect2" title="Inline Options"><div class="titlepage"><div><div><h2 class="title"><a id="inline_options"></a>Inline Options</h2></div></div></div><p>In <a id="I_indexterm4_id642719" class="indexterm"></a><a id="I_indexterm4_id642729" class="indexterm"></a><a id="I_indexterm4_id642736" class="indexterm"></a><a id="I_indexterm4_id642744" class="indexterm"></a>addition to specifying pattern-wide options after the
      closing pattern delimiter, you can specify options within a pattern to
      have them apply only to part of the pattern. The syntax for this
      is:</p><a id="I_programlisting4_id642753"></a><pre class="programlisting">(?<em class="replaceable"><code>flags</code></em>:<em class="replaceable"><code>subpattern</code></em>)</pre><p>For example, only the word “PHP” is case-insensitive in this
      example:</p><a id="I_programlisting4_id642767"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s1">'/I like (?i:PHP)/'</code><code class="p">,</code> <code class="s1">'I like pHp'</code><code class="p">);</code>  <code class="c1">// returns true</code></pre><p>The <code class="literal">i</code>, <code class="literal">m</code>, <code class="literal">s</code>,
      <code class="literal">U</code>, <code class="literal">x</code>, and <code class="literal">X</code>
      options can be applied internally in this fashion. You can use multiple
      options at once:</p><a id="I_programlisting4_id642808"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s1">'/eat (?ix:foo   d)/'</code><code class="p">,</code> <code class="s1">'eat FoOD'</code><code class="p">);</code> <code class="c1">// returns true</code></pre><p>Prefix an option with a hyphen (<code class="literal">-</code>) to turn it off:</p><a id="I_programlisting4_id642823"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s1">'/(?-i:I like) PHP/i'</code><code class="p">,</code> <code class="s1">'I like pHp'</code><code class="p">);</code>   <code class="c1">// returns true</code></pre><p>An alternative form enables or disables the flags until the end of
      the enclosing subpattern or pattern:</p><a id="I_programlisting4_id642833"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s1">'/I like (?i)PHP/'</code><code class="p">,</code> <code class="s1">'I like pHp'</code><code class="p">);</code>  <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s1">'/I (like (?i)PHP) a lot/'</code><code class="p">,</code> <code class="s1">'I like pHp a lot'</code><code class="p">,</code> <code class="nv">$match</code><code class="p">);</code>
<code class="c1">// $match[1] is 'like pHp'</code></pre><p>Inline flags do not enable capturing. You need an additional set
      of capturing parentheses to do that.</p></div><div class="sect2" title="Lookahead and Lookbehind"><div class="titlepage"><div><div><h2 class="title"><a id="lookahead_and_lookbehind"></a>Lookahead and Lookbehind</h2></div></div></div><p>In<a id="ch4-look" class="indexterm"></a><a id="ch4-look2" class="indexterm"></a> patterns it’s sometimes useful to be able to say “match
      here if this is next.” This is particularly common when you are
      splitting a string. The regular expression describes the separator,
      which is not returned. You can use <span class="emphasis"><em>lookahead</em></span> to
      make sure (without matching it, thus preventing it from being returned)
      that there’s more data after the separator. Similarly,
      <span class="emphasis"><em>lookbehind</em></span> checks the preceding text.</p><p>Lookahead and lookbehind come in two forms:
      <span class="emphasis"><em>positive</em></span> and <span class="emphasis"><em>negative</em></span>. A
      positive lookahead or lookbehind says “the next/preceding text must be
      like this.” A negative lookahead or lookbehind indicates “the
      next/preceding text must not be like this.” <a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#lookahead_and_lookbehind_assertions" title="Table 4-12. Lookahead and lookbehind assertions">Table&nbsp;4-12</a> shows the four
      constructs you can use in Perl-compatible patterns. None of the
      constructs captures text.</p><div class="table"><a id="lookahead_and_lookbehind_assertions"></a><p class="title">Table&nbsp;4-12.&nbsp;Lookahead and lookbehind assertions</p><div class="table-contents"><table summary="Lookahead and lookbehind assertions" style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="text-align: left" valign="bottom"><p>Construct</p></th><th style="text-align: left" valign="bottom"><p>Meaning</p></th></tr></thead><tbody><tr><td style="text-align: left" valign="top"><p><code class="literal">(?=</code><em class="replaceable"><code>subpattern</code></em><code class="literal">)</code></p></td><td style="text-align: left" valign="top"><p>Positive
              lookahead<a id="I_indexterm4_id642973" class="indexterm"></a><a id="I_indexterm4_id642981" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">(?!</code><em class="replaceable"><code>subpattern</code></em><code class="literal">)</code></p></td><td style="text-align: left" valign="top"><p>Negative
              lookahead<a id="I_indexterm4_id643012" class="indexterm"></a><a id="I_indexterm4_id643018" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">(?&lt;=</code><em class="replaceable"><code>subpattern</code></em><code class="literal">)</code></p></td><td style="text-align: left" valign="top"><p>Positive
              lookbehind<a id="I_indexterm4_id643052" class="indexterm"></a><a id="I_indexterm4_id643059" class="indexterm"></a></p></td></tr><tr><td style="text-align: left" valign="top"><p><code class="literal">(?&lt;!</code><em class="replaceable"><code>subpattern</code></em><code class="literal">)</code></p></td><td style="text-align: left" valign="top"><p>Negative
              lookbehind<a id="I_indexterm4_id643094" class="indexterm"></a><a id="I_indexterm4_id643104" class="indexterm"></a></p></td></tr></tbody></table></div></div><p>A simple use of positive lookahead is splitting a Unix mbox mail
      file into individual messages. The word <code class="literal">"From"</code> starting a line by itself indicates the
      start of a new message, so you can split the mailbox into messages by
      specifying the separator as the point where the next text is <code class="literal">"From"</code> at the start of a line:</p><a id="I_programlisting4_id643126"></a><pre class="programlisting"><code class="nv">$messages</code> <code class="o">=</code> <code class="nb">preg_split</code><code class="p">(</code><code class="s1">'/(?=^From )/m'</code><code class="p">,</code> <code class="nv">$mailbox</code><code class="p">);</code></pre><p>A simple use of negative lookbehind is to extract quoted strings
      that contain quoted delimiters. For instance, here’s how to extract a
      single-quoted string (note that the regular expression is commented
      using the <code class="literal">x</code> modifier):</p><a id="I_programlisting4_id643144"></a><pre class="programlisting"><code class="nv">$input</code> <code class="o">=</code> <code class="o">&lt;&lt;&lt;</code> <code class="nx">END</code>
<code class="nx">name</code> <code class="o">=</code> <code class="s1">'Tim O\'Reilly'</code><code class="p">;</code>
<code class="nx">END</code><code class="p">;</code>

<code class="nv">$pattern</code> <code class="o">=</code> <code class="o">&lt;&lt;&lt;</code> <code class="nx">END</code>
<code class="s1">'             # opening quote</code>
<code class="s1">(             # begin capturing</code>
<code class="s1">  .*?         # the string</code>
<code class="s1">  (?&lt;! \\\\ ) # skip escaped quotes</code>
<code class="s1">)             # end capturing</code>
<code class="s1">'</code>             <code class="c1"># closing quote</code>
<code class="nx">END</code><code class="p">;</code>
<code class="nb">preg_match</code><code class="p">(</code> <code class="s2">"(</code><code class="si">$pattern</code><code class="s2">)x"</code><code class="p">,</code> <code class="nv">$input</code><code class="p">,</code> <code class="nv">$match</code><code class="p">);</code>
<code class="k">echo</code> <code class="nv">$match</code><code class="p">[</code><code class="mi">1</code><code class="p">];</code>
<span class="strong"><strong><code class="nx">Tim</code> <code class="nx">O\</code><code class="err">'</code><code class="nx">Reilly</code></strong></span></pre><p>The only tricky part is that to get a pattern that looks behind to
      see if the last character was a backslash, we need to escape the
      backslash to prevent the regular expression engine from seeing <code class="literal">\)</code>, which would mean a literal close
      parenthesis. In other words, we have to backslash that backslash:
      <code class="literal">\\)</code>. But PHP’s string-quoting rules
      say that <code class="literal">\\</code> produces a literal single
      backslash, so we end up requiring <span class="emphasis"><em>four</em></span> backslashes
      to get one through the regular expression! This is why regular
      expressions have a reputation for being hard to read.</p><p>Perl limits lookbehind to constant-width expressions. That is, the
      expressions cannot contain quantifiers, and if you use alternation, all
      the choices must be the same length. The Perl-compatible regular
      expression engine also forbids quantifiers in lookbehind, but does
      permit alternatives of different<a id="I_indexterm4_id643190" class="indexterm"></a><a id="I_indexterm4_id643198" class="indexterm"></a> lengths.</p></div><div class="sect2" title="Cut"><div class="titlepage"><div><div><h2 class="title"><a id="cut"></a>Cut</h2></div></div></div><p>The<a id="I_indexterm4_id643215" class="indexterm"></a><a id="I_indexterm4_id643220" class="indexterm"></a> rarely used once-only subpattern, or
      <span class="emphasis"><em>cut</em></span>, prevents worst-case behavior by the regular
      expression engine on some kinds of patterns. The subpattern is never
      backed out of once matched.</p><p>The common use for the once-only subpattern is when you have a
      repeated expression that may itself be repeated:</p><a id="I_programlisting4_id643238"></a><pre class="programlisting">/(a+|b+)*\.+/</pre><p>This code snippet takes several seconds to report failure:</p><a id="I_programlisting4_id643245"></a><pre class="programlisting"><code class="nv">$p</code> <code class="o">=</code> <code class="s1">'/(a+|b+)*\.+$/'</code><code class="p">;</code>
<code class="nv">$s</code> <code class="o">=</code> <code class="s1">'abababababbabbbabbaaaaaabbbbabbababababababbba..!'</code><code class="p">;</code>

<code class="k">if</code> <code class="p">(</code><code class="nb">preg_match</code><code class="p">(</code><code class="nv">$p</code><code class="p">,</code> <code class="nv">$s</code><code class="p">))</code> <code class="p">{</code>
  <code class="k">echo</code> <code class="s2">"Y"</code><code class="p">;</code>
<code class="p">}</code>
<code class="k">else</code> <code class="p">{</code>
  <code class="k">echo</code> <code class="s2">"N"</code><code class="p">;</code>
<code class="p">}</code></pre><p>This<a id="I_indexterm4_id643254" class="indexterm"></a><a id="I_indexterm4_id643263" class="indexterm"></a> is because the regular expression engine tries all the
      different places to start the match, but has to backtrack out of each
      one, which takes time. If you know that once something is matched it
      should never be backed out of, you should mark it with <code class="literal">(?&gt;</code> <em class="replaceable"><code>subpattern</code></em>
      <code class="literal">)</code>:</p><a id="I_programlisting4_id643287"></a><pre class="programlisting"><code class="nv">$p</code> <code class="o">=</code> <code class="s1">'/(?&gt;a+|b+)*\.+$/'</code><code class="p">;</code></pre><p>The cut never changes the outcome of the match; it simply makes it
      fail faster.</p></div><div class="sect2" title="Conditional Expressions"><div class="titlepage"><div><div><h2 class="title"><a id="conditional_expressions"></a>Conditional Expressions</h2></div></div></div><p>A <a id="I_indexterm4_id643304" class="indexterm"></a><a id="I_indexterm4_id643312" class="indexterm"></a><a id="I_indexterm4_id643318" class="indexterm"></a><a id="I_indexterm4_id643326" class="indexterm"></a>conditional expression is like an <code class="literal">if</code> statement in a regular expression. The
      general form is:</p><a id="I_programlisting4_id643343"></a><pre class="programlisting">(?(<em class="replaceable"><code>condition</code></em>)<em class="replaceable"><code>yespattern</code></em>)
(?(<em class="replaceable"><code>condition</code></em>)<em class="replaceable"><code>yespattern</code></em>|<em class="replaceable"><code>nopattern</code></em>)</pre><p>If the assertion succeeds, the regular expression engine matches
      the <em class="replaceable"><code>yespattern</code></em>. With the second form, if the
      assertion doesn’t succeed, the regular expression engine skips the
      <em class="replaceable"><code>yespattern</code></em> and tries to match the
      <em class="replaceable"><code>nopattern</code></em>.</p><p>The assertion can be one of two types: either a backreference, or
      a lookahead or lookbehind match. To reference a previously matched
      substring, the assertion is a number from 1–99 (the most backreferences
      available). The condition uses the pattern in the assertion only if the
      backreference was matched. If the assertion is not a backreference, it
      must be a positive or negative lookahead or lookbehind assertion.</p></div><div class="sect2" title="Functions"><div class="titlepage"><div><div><h2 class="title"><a id="functions-id1"></a>Functions</h2></div></div></div><p>There<a id="ch4-func" class="indexterm"></a><a id="ch4-func2" class="indexterm"></a> are five classes of functions that work with
      Perl-compatible regular expressions: matching, replacing, splitting,
      filtering, and a utility function for quoting text.</p><div class="sect3" title="Matching"><div class="titlepage"><div><div><h3 class="title"><a id="matching"></a>Matching</h3></div></div></div><p>The<a id="ch4-match" class="indexterm"></a> <code class="literal">preg_match()</code>
        function performs Perl-style pattern matching on a string. It’s the
        equivalent of the <code class="literal">m//</code> operator in
        Perl. The <code class="literal">preg_match()</code> function
        takes the same arguments and gives the same return value as the
        <code class="literal">preg_match()</code> function, except that
        it takes a Perl-style pattern instead of a standard pattern:</p><a id="I_programlisting4_id643466"></a><pre class="programlisting">$found = preg_match(<em class="replaceable"><code>pattern</code></em>, <em class="replaceable"><code>string</code></em> [, <em class="replaceable"><code>captured</code></em> ]);</pre><p>For example:</p><a id="I_programlisting4_id643482"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s1">'/y.*e$/'</code><code class="p">,</code> <code class="s1">'Sylvie'</code><code class="p">);</code>         <code class="c1">// returns true</code>
<code class="nb">preg_match</code><code class="p">(</code><code class="s1">'/y(.*)e$/'</code><code class="p">,</code> <code class="s1">'Sylvie'</code><code class="p">,</code> <code class="nv">$m</code><code class="p">);</code>   <code class="c1">// $m is array('ylvie', 'lvi')</code></pre><p>While there’s a <code class="literal">preg_match()</code>
        function to match case-insensitively, there’s no <code class="literal">preg_matchi()</code> function. Instead, use the
        <code class="literal">i</code> flag on the pattern:</p><a id="I_programlisting4_id643510"></a><pre class="programlisting"><code class="nb">preg_match</code><code class="p">(</code><code class="s1">'y.*e$/i'</code><code class="p">,</code> <code class="s1">'SyLvIe'</code><code class="p">);</code>   <code class="c1">// returns true</code></pre><p>The<a id="I_indexterm4_id643518" class="indexterm"></a> <code class="literal">preg_match_all()</code>
        function repeatedly matches from where the last match ended, until no
        more matches can be made:</p><a id="I_programlisting4_id643532"></a><pre class="programlisting">$found = preg_match_all(<em class="replaceable"><code>pattern</code></em>, <em class="replaceable"><code>string</code></em>, <em class="replaceable"><code>matches</code></em> [, <em class="replaceable"><code>order</code></em> ]);</pre><p>The <em class="replaceable"><code>order</code></em> value, either <code class="literal">PREG_PATTERN_ORDER</code> or <code class="literal">PREG_SET_ORDER</code>, determines the layout of
        <em class="replaceable"><code>matches</code></em>. We’ll look at both, using this
        code as a guide:</p><a id="I_programlisting4_id643570"></a><pre class="programlisting"><code class="nv">$string</code> <code class="o">=</code> <code class="o">&lt;&lt;&lt;</code> <code class="nx">END</code>
<code class="mi">13</code> <code class="nx">dogs</code>
<code class="mi">12</code> <code class="nx">rabbits</code>
<code class="mi">8</code> <code class="nx">cows</code>
<code class="mi">1</code> <code class="nx">goat</code>
<code class="nx">END</code><code class="p">;</code>
<code class="nb">preg_match_all</code><code class="p">(</code><code class="s1">'/(\d+) (\S+)/'</code><code class="p">,</code> <code class="nv">$string</code><code class="p">,</code> <code class="nv">$m1</code><code class="p">,</code> <code class="nx">PREG_PATTERN_ORDER</code><code class="p">);</code>
<code class="nb">preg_match_all</code><code class="p">(</code><code class="s1">'/(\d+) (\S+)/'</code><code class="p">,</code> <code class="nv">$string</code><code class="p">,</code> <code class="nv">$m2</code><code class="p">,</code> <code class="nx">PREG_SET_ORDER</code><code class="p">);</code></pre><p>With <code class="literal">PREG_PATTERN_ORDER</code> (the
        default), each element of the array corresponds to a particular
        capturing subpattern. So <code class="literal">$m1[0]</code> is
        an array of all the substrings that matched the pattern, <code class="literal">$m1[1]</code> is an array of all the substrings
        that matched the first subpattern (the numbers), and <code class="literal">$m1[2]</code> is an array of all the substrings
        that matched the second subpattern (the words). The array <code class="literal">$m1</code> has one more elements than
        subpatterns.</p><p>With <code class="literal">PREG_SET_ORDER</code>, each
        element of the array corresponds to the next attempt to match the
        whole pattern. So <code class="literal">$m2[0]</code> is an
        array of the first set of matches (<code class="literal">'13
        dogs'</code>, <code class="literal">'13'</code>, <code class="literal">'dogs'</code>), <code class="literal">$m2[1]</code> is an array of the second set of
        matches (<code class="literal">'12 rabbits'</code>, <code class="literal">'12'</code>, <code class="literal">'rabbits'</code>), and so on. The array <code class="literal">$m2</code> has as many elements as there were
        successful matches of the entire pattern.</p><p><a class="xref" href="https://www.oreilly.com/library/view/programming-php-3rd/9781449361068/ch04s08.html#extracting_urls_from_an_html_page" title="Example 4-1. Extracting URLs from an HTML page">Example&nbsp;4-1</a> fetches the
        HTML at a particular web address into a string and extracts the URLs
        from that HTML. For each URL, it generates a link back to the program
        that will display the URLs at that <a id="I_indexterm4_id643677" class="indexterm"></a>address.</p><div class="example"><a id="extracting_urls_from_an_html_page"></a><p class="title">Example&nbsp;4-1.&nbsp;Extracting URLs from an HTML page</p><div class="example-contents"><pre class="programlisting"><code class="o">&lt;?</code><code class="nx">php</code>
<code class="k">if</code> <code class="p">(</code><code class="nb">getenv</code><code class="p">(</code><code class="s1">'REQUEST_METHOD'</code><code class="p">)</code> <code class="o">==</code> <code class="s1">'POST'</code><code class="p">)</code> <code class="p">{</code>
  <code class="nv">$url</code> <code class="o">=</code> <code class="nv">$_POST</code><code class="p">[</code><code class="s1">'url'</code><code class="p">];</code>
<code class="p">}</code>
<code class="k">else</code> <code class="p">{</code>
  <code class="nv">$url</code> <code class="o">=</code> <code class="nv">$_GET</code><code class="p">[</code><code class="s1">'url'</code><code class="p">];</code>
<code class="p">}</code>
<code class="cp">?&gt;</code><code class="x"></code>

<code class="x">&lt;form action="</code><code class="cp">&lt;?php</code> <code class="k">echo</code> <code class="nv">$_SERVER</code><code class="p">[</code><code class="s1">'PHP_SELF'</code><code class="p">];</code> <code class="cp">?&gt;</code><code class="x">" method="POST"&gt;</code>
<code class="x">  &lt;p&gt;URL: &lt;input type="text" name="url" value="</code><code class="cp">&lt;?php</code> <code class="k">echo</code> <code class="nv">$url</code> <code class="cp">?&gt;</code><code class="x">" /&gt;&lt;br /&gt;</code>
<code class="x">  &lt;input type="submit"&gt;</code>
<code class="x">&lt;/form&gt;</code>

<code class="cp">&lt;?php</code>
<code class="k">if</code> <code class="p">(</code><code class="nv">$url</code><code class="p">)</code> <code class="p">{</code>
  <code class="nv">$remote</code> <code class="o">=</code> <code class="nb">fopen</code><code class="p">(</code><code class="nv">$url</code><code class="p">,</code> <code class="s1">'r'</code><code class="p">);</code> <code class="p">{</code>
    <code class="nv">$html</code> <code class="o">=</code> <code class="nb">fread</code><code class="p">(</code><code class="nv">$remote</code><code class="p">,</code> <code class="mi">1048576</code><code class="p">);</code> <code class="c1">// read up to 1 MB of HTML</code>
  <code class="p">}</code>
  <code class="nb">fclose</code><code class="p">(</code><code class="nv">$remote</code><code class="p">);</code>

  <code class="nv">$urls</code> <code class="o">=</code> <code class="s1">'(http|telnet|gopher|file|wais|ftp)'</code><code class="p">;</code>
  <code class="nv">$ltrs</code> <code class="o">=</code> <code class="s1">'\w'</code><code class="p">;</code>
  <code class="nv">$gunk</code> <code class="o">=</code> <code class="s1">'/#~:.?+=&amp;%@!\-'</code><code class="p">;</code>
  <code class="nv">$punc</code> <code class="o">=</code> <code class="s1">'.:?\-'</code><code class="p">;</code>
  <code class="nv">$any</code> <code class="o">=</code> <code class="s2">"</code><code class="si">{</code><code class="nv">$ltrs</code><code class="si">}{</code><code class="nv">$gunk</code><code class="si">}{</code><code class="nv">$punc</code><code class="si">}</code><code class="s2">"</code><code class="p">;</code>

  <code class="nb">preg_match_all</code><code class="p">(</code><code class="s2">"{</code>
<code class="s2">    \b          # start at word boundary</code>
<code class="s2">    </code><code class="si">{</code><code class="nv">$urls</code><code class="si">}</code><code class="s2">:    # need resource and a colon</code>
<code class="s2">    [</code><code class="si">{</code><code class="nv">$any</code><code class="si">}</code><code class="s2">] +? # followed by one or more of any valid</code>
<code class="s2">                # characters—but be conservative</code>
<code class="s2">                # and take only what you need</code>
<code class="s2">    (?=         # the match ends at</code>
<code class="s2">    [</code><code class="si">{</code><code class="nv">$punc</code><code class="si">}</code><code class="s2">]*  # punctuation</code>
<code class="s2">    [^</code><code class="si">{</code><code class="nv">$any</code><code class="si">}</code><code class="s2">]   # followed by a non-URL character</code>
<code class="s2">    |           # or</code>
<code class="s2">    </code><code class="se">\$</code><code class="s2">          # the end of the string</code>
<code class="s2">    )</code>
<code class="s2">  }x"</code><code class="p">,</code> <code class="nv">$html</code><code class="p">,</code> <code class="nv">$matches</code><code class="p">);</code>

  <code class="nb">printf</code><code class="p">(</code><code class="s2">"I found %d URLs&lt;P&gt;</code><code class="se">\n</code><code class="s2">"</code><code class="p">,</code> <code class="nb">sizeof</code><code class="p">(</code><code class="nv">$matches</code><code class="p">[</code><code class="mi">0</code><code class="p">]));</code>

  <code class="k">foreach</code> <code class="p">(</code><code class="nv">$matches</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="k">as</code> <code class="nv">$u</code><code class="p">)</code> <code class="p">{</code>
    <code class="nv">$link</code> <code class="o">=</code> <code class="nv">$_SERVER</code><code class="p">[</code><code class="s1">'PHP_SELF'</code><code class="p">]</code> <code class="o">.</code> <code class="s1">'?url='</code> <code class="o">.</code> <code class="nb">urlencode</code><code class="p">(</code><code class="nv">$u</code><code class="p">);</code>
    <code class="k">echo</code> <code class="s2">"&lt;a href=</code><code class="se">\"</code><code class="si">{</code><code class="nv">$link</code><code class="si">}</code><code class="se">\"</code><code class="s2">&gt;</code><code class="si">{</code><code class="nv">$u</code><code class="si">}</code><code class="s2">&lt;/a&gt;&lt;br /&gt;</code><code class="se">\n</code><code class="s2">"</code><code class="p">;</code>
  <code class="p">}</code>
<code class="p">}</code></pre></div></div></div><div class="sect3" title="Replacing"><div class="titlepage"><div><div><h3 class="title"><a id="replacing"></a>Replacing</h3></div></div></div><p>The<a id="ch4-replace" class="indexterm"></a> <code class="literal">preg_replace()</code>
        function behaves like the search-and-replace operation in your text
        editor. It finds all occurrences of a pattern in a string and changes
        those occurrences to something else:</p><a id="I_programlisting4_id643735"></a><pre class="programlisting">$new = preg_replace(<em class="replaceable"><code>pattern</code></em>, <em class="replaceable"><code>replacement</code></em>, <em class="replaceable"><code>subject</code></em> [, <em class="replaceable"><code>limit</code></em> ]);</pre><p>The most common usage has all the argument strings except for
        the integer <em class="replaceable"><code>limit</code></em>. The limit is the maximum
        number of occurrences of the pattern to replace (the default, and the
        behavior when a limit of <code class="literal">−1</code> is
        passed, is all occurrences):</p><a id="I_programlisting4_id643765"></a><pre class="programlisting"><code class="nv">$better</code> <code class="o">=</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="s1">'/&lt;.*?&gt;/'</code><code class="p">,</code> <code class="s1">'!'</code><code class="p">,</code> <code class="s1">'do &lt;b&gt;not&lt;/b&gt; press the button'</code><code class="p">);</code>
<code class="c1">// $better is 'do !not! press the button'</code></pre><p>Pass an array of strings as <em class="replaceable"><code>subject</code></em>
        to make the substitution on all of them. The new strings are returned
        from <code class="literal">preg_replace()</code>:</p><a id="I_programlisting4_id643785"></a><pre class="programlisting"><code class="nv">$names</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s1">'Fred Flintstone'</code><code class="p">,</code>
  <code class="s1">'Barney Rubble'</code><code class="p">,</code>
  <code class="s1">'Wilma Flintstone'</code><code class="p">,</code>
  <code class="s1">'Betty Rubble'</code><code class="p">);</code>
<code class="nv">$tidy</code>  <code class="o">=</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="s1">'/(\w)\w* (\w+)/'</code><code class="p">,</code> <code class="s1">'\1 \2'</code><code class="p">,</code> <code class="nv">$names</code><code class="p">);</code>
<code class="c1">// $tidy is array ('F Flintstone', 'B Rubble', 'W Flintstone', 'B Rubble')</code></pre><p>To perform multiple substitutions on the same string or array of
        strings with one call to <code class="literal">preg_replace()</code>, pass arrays of patterns and
        replacements:</p><a id="I_programlisting4_id643802"></a><pre class="programlisting"><code class="nv">$contractions</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s2">"/don't/i"</code><code class="p">,</code> <code class="s2">"/won't/i"</code><code class="p">,</code> <code class="s2">"/can't/i"</code><code class="p">);</code>
<code class="nv">$expansions</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s1">'do not'</code><code class="p">,</code> <code class="s1">'will not'</code><code class="p">,</code> <code class="s1">'can not'</code><code class="p">);</code>
<code class="nv">$string</code> <code class="o">=</code> <code class="s2">"Please don't yell—I can't jump while you won't speak"</code><code class="p">;</code>
<code class="nv">$longer</code> <code class="o">=</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="nv">$contractions</code><code class="p">,</code> <code class="nv">$expansions</code><code class="p">,</code> <code class="nv">$string</code><code class="p">);</code>
<code class="c1">// $longer is 'Please do not yell—I can not jump while you will not speak';</code></pre><p>If you give fewer replacements than patterns, text matching the
        extra patterns is deleted. This is a handy way to delete a lot of
        things at once:</p><a id="I_programlisting4_id643818"></a><pre class="programlisting"><code class="nv">$htmlGunk</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s1">'/&lt;.*?&gt;/'</code><code class="p">,</code> <code class="s1">'/&amp;.*?;/'</code><code class="p">);</code>
<code class="nv">$html</code> <code class="o">=</code> <code class="s1">'&amp;eacute; : &lt;b&gt;very&lt;/b&gt; cute'</code><code class="p">;</code>
<code class="nv">$stripped</code>  <code class="o">=</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="nv">$htmlGunk</code><code class="p">,</code> <code class="k">array</code><code class="p">(),</code> <code class="nv">$html</code><code class="p">);</code>
<code class="c1">// $stripped is ' : very cute'</code></pre><p>If you give an array of patterns but a single string
        replacement, the same replacement is used for every pattern:</p><a id="I_programlisting4_id643831"></a><pre class="programlisting"><code class="nv">$stripped</code> <code class="o">=</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="nv">$htmlGunk</code><code class="p">,</code> <code class="s1">''</code><code class="p">,</code> <code class="nv">$html</code><code class="p">);</code></pre><p>The replacement can use backreferences. Unlike backreferences in
        patterns, though, the preferred syntax for backreferences in
        replacements is <code class="literal">$1</code>, <code class="literal">$2</code>, <code class="literal">$3</code>,
        etc. For example:</p><a id="I_programlisting4_id643857"></a><pre class="programlisting"><code class="k">echo</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="s1">'/(\w)\w+\s+(\w+)/'</code><code class="p">,</code> <code class="s1">'$2, $1.'</code><code class="p">,</code> <code class="s1">'Fred Flintstone'</code><code class="p">)</code>
<code class="nx">Flintstone</code><code class="p">,</code> <code class="nx">F</code><code class="o">.</code></pre><p>The <code class="literal">/e</code> modifier makes
        <code class="literal">preg_replace()</code> treat the
        replacement string as PHP code that returns the actual string to use
        in the replacement. For example, this converts every Celsius
        temperature to Fahrenheit:</p><a id="I_programlisting4_id643879"></a><pre class="programlisting"><code class="nv">$string</code>  <code class="o">=</code> <code class="s1">'It was 5C outside, 20C inside'</code><code class="p">;</code>
<code class="k">echo</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="s1">'/(\d+)C\b/e'</code><code class="p">,</code> <code class="s1">'$1*9/5+32'</code><code class="p">,</code> <code class="nv">$string</code><code class="p">);</code>
<code class="nx">It</code> <code class="nx">was</code> <code class="mi">41</code> <code class="nx">outside</code><code class="p">,</code> <code class="mi">68</code> <code class="nx">inside</code></pre><p>This more complex example expands variables in a string:</p><a id="I_programlisting4_id643889"></a><pre class="programlisting"><code class="nv">$name</code> <code class="o">=</code> <code class="s1">'Fred'</code><code class="p">;</code>
<code class="nv">$age</code>  <code class="o">=</code> <code class="mi">35</code><code class="p">;</code>
<code class="nv">$string</code> <code class="o">=</code> <code class="s1">'$name is $age'</code><code class="p">;</code>
<code class="nb">preg_replace</code><code class="p">(</code><code class="s1">'/\$(\w+)/e'</code><code class="p">,</code> <code class="s1">'$$1'</code><code class="p">,</code> <code class="nv">$string</code><code class="p">);</code></pre><p>Each match isolates the name of a variable (<code class="literal">$name</code>, <code class="literal">$age</code>). The <code class="literal">$1</code> in the replacement refers to those names,
        so the PHP code actually executed is <code class="literal">$name</code> and <code class="literal">$age</code>. That code evaluates to the value of
        the variable, which is what’s used as the replacement. Whew!</p><p>A<a id="I_indexterm4_id643930" class="indexterm"></a> variation on <code class="literal">preg_replace()</code> is <code class="literal">preg_replace_callback()</code>. This calls a
        function to get the replacement string. The function is passed an
        array of matches (the zeroth element is all the text that matched the
        pattern, the first is the contents of the first captured subpattern,
        and so on). For <a id="I_indexterm4_id643949" class="indexterm"></a>example:</p><a id="I_programlisting4_id643958"></a><pre class="programlisting"><code class="k">function</code> <code class="nf">titlecase</code><code class="p">(</code><code class="nv">$s</code><code class="p">)</code>
<code class="p">{</code>
  <code class="k">return</code> <code class="nx">ucfirst</code><code class="p">(</code><code class="nx">strtolower</code><code class="p">(</code><code class="nv">$s</code><code class="p">[</code><code class="mi">0</code><code class="p">]));</code>
<code class="p">}</code>

<code class="nv">$string</code> <code class="o">=</code> <code class="s1">'goodbye cruel world'</code><code class="p">;</code>
<code class="nv">$new</code> <code class="o">=</code> <code class="nb">preg_replace_callback</code><code class="p">(</code><code class="s1">'/\w+/'</code><code class="p">,</code> <code class="s1">'titlecase'</code><code class="p">,</code> <code class="nv">$string</code><code class="p">);</code>
<code class="k">echo</code> <code class="nv">$new</code><code class="p">;</code>

<span class="strong"><strong><code class="nx">Goodbye</code> <code class="nx">Cruel</code> <code class="nx">World</code></strong></span></pre></div><div class="sect3" title="Splitting"><div class="titlepage"><div><div><h3 class="title"><a id="splitting"></a>Splitting</h3></div></div></div><p>Whereas<a id="ch4-split" class="indexterm"></a> you use <code class="literal">preg_match_all()</code> to extract chunks of a
        string when you know what those chunks are, use <code class="literal">preg_split()</code> to extract chunks when you know
        what <span class="emphasis"><em>separates</em></span> the chunks from each other:</p><a id="I_programlisting4_id644004"></a><pre class="programlisting"><code class="nv">$chunks</code> <code class="o">=</code> <code class="nb">preg_split</code><code class="p">(</code><em class="replaceable"><code><code class="nx">pattern</code></code></em><code class="p">,</code> <em class="replaceable"><code><code class="nx">string</code></code></em> <code class="p">[,</code> <em class="replaceable"><code><code class="nx">limit</code></code></em> <code class="p">[,</code> <em class="replaceable"><code><code class="nx">flags</code></code></em> <code class="p">]]);</code></pre><p>The <em class="replaceable"><code>pattern</code></em> matches a separator
        between two chunks. By default, the separators are not returned. The
        optional <em class="replaceable"><code>limit</code></em> specifies the maximum number
        of chunks to return (<code class="literal">−1</code> is the
        default, which means all chunks). The <em class="replaceable"><code>flags</code></em>
        argument is a bitwise OR combination of the flags <code class="literal">PREG_SPLIT_NO_EMPTY</code> (empty chunks are not
        returned) and <code class="literal">PREG_SPLIT_DELIM_CAPTURE</code> (parts of the
        string captured in the pattern are returned).</p><p>For example, to extract just the operands from a simple numeric
        expression, use:</p><a id="I_programlisting4_id644058"></a><pre class="programlisting"><code class="nv">$ops</code> <code class="o">=</code> <code class="nb">preg_split</code><code class="p">(</code><code class="s1">'{[+*/−]}'</code><code class="p">,</code> <code class="s1">'3+5*9/2'</code><code class="p">);</code>
<code class="c1">// $ops is array('3', '5', '9', '2')</code></pre><p>To extract the operands and the operators, use:</p><a id="I_programlisting4_id644069"></a><pre class="programlisting"><code class="nv">$ops</code> <code class="o">=</code> <code class="nb">preg_split</code><code class="p">(</code><code class="s1">'{([+*/−])}'</code><code class="p">,</code> <code class="s1">'3+5*9/2'</code><code class="p">,</code> <code class="err">−</code><code class="mi">1</code><code class="p">,</code> <code class="nx">PREG_SPLIT_DELIM_CAPTURE</code><code class="p">);</code>
<code class="c1">// $ops is array('3', '+', '5', '*', '9', '/', '2')</code></pre><p>An empty pattern matches at every boundary between characters in
        the string, and at the start and end of the string. This lets you
        split a string into an array of characters:</p><a id="I_programlisting4_id644081"></a><pre class="programlisting"><code class="nv">$array</code> <code class="o">=</code> <code class="nb">preg_split</code><code class="p">(</code><code class="s1">'//'</code><code class="p">,</code> <code class="nv">$string</code><code class="p">);</code></pre></div><div class="sect3" title="Filtering an array with a regular expression"><div class="titlepage"><div><div><h3 class="title"><a id="filtering_an_array_with_a_regular_expres"></a>Filtering an array with a regular expression</h3></div></div></div><p>The<a id="I_indexterm4_id644096" class="indexterm"></a> <code class="literal">preg_grep()</code> function
        returns those elements of an array that match a given pattern:</p><a id="I_programlisting4_id644108"></a><pre class="programlisting">$matching = preg_grep(<em class="replaceable"><code>pattern</code></em>, <em class="replaceable"><code>array</code></em>);</pre><p>For instance, to get only the filenames that end in <em class="filename">.txt</em>, <a id="I_indexterm4_id644127" class="indexterm"></a>use:</p><a id="I_programlisting4_id644136"></a><pre class="programlisting"><code class="nv">$textfiles</code> <code class="o">=</code> <code class="nb">preg_grep</code><code class="p">(</code><code class="s1">'/\.txt$/'</code><code class="p">,</code> <code class="nv">$filenames</code><code class="p">);</code></pre></div><div class="sect3" title="Quoting for regular expressions"><div class="titlepage"><div><div><h3 class="title"><a id="quoting_for_regular_expressions"></a>Quoting for regular expressions</h3></div></div></div><p>The<a id="I_indexterm4_id644151" class="indexterm"></a> <code class="literal">preg_quote()</code>
        function creates a regular expression that matches only a given
        string:</p><a id="I_programlisting4_id644164"></a><pre class="programlisting">$re = preg_quote(<em class="replaceable"><code>string</code></em> [, <em class="replaceable"><code>delimiter</code></em> ]);</pre><p>Every character in <em class="replaceable"><code>string</code></em> that has
        special meaning inside a regular expression (e.g., <code class="literal">*</code> or <code class="literal">$</code>)
        is prefaced with a backslash:</p><a id="I_programlisting4_id644192"></a><pre class="programlisting"><code class="k">echo</code> <code class="nb">preg_quote</code><code class="p">(</code><code class="s1">'$5.00 (five bucks)'</code><code class="p">);</code>
<code class="nx">\</code><code class="err">$</code><code class="mi">5</code><code class="nx">\</code><code class="o">.</code><code class="mo">00</code> <code class="nx">\</code><code class="p">(</code><code class="nx">five</code> <code class="nx">bucks\</code><code class="p">)</code></pre><p>The optional second argument is an extra character to be quoted.
        Usually, you pass your regular expression delimiter<a id="I_indexterm4_id644202" class="indexterm"></a><a id="I_indexterm4_id644210" class="indexterm"></a> here:</p><a id="I_programlisting4_id644219"></a><pre class="programlisting"><code class="nv">$toFind</code> <code class="o">=</code> <code class="s1">'/usr/local/etc/rsync.conf'</code><code class="p">;</code>
<code class="nv">$re</code> <code class="o">=</code> <code class="nb">preg_quote</code><code class="p">(</code><code class="nv">$toFind</code><code class="p">,</code> <code class="s1">'/'</code><code class="p">);</code>

<code class="k">if</code> <code class="p">(</code><code class="nb">preg_match</code><code class="p">(</code><code class="s2">"/</code><code class="si">{</code><code class="nv">$re</code><code class="si">}</code><code class="s2">/"</code><code class="p">,</code> <code class="nv">$filename</code><code class="p">))</code> <code class="p">{</code>
  <code class="c1">// found it!</code>
<code class="p">}</code></pre></div></div><div class="sect2" title="Differences from Perl Regular Expressions"><div class="titlepage"><div><div><h2 class="title"><a id="differences_from_perl_regular_expression"></a>Differences from Perl Regular Expressions</h2></div></div></div><p>Although<a id="I_indexterm4_id644235" class="indexterm"></a><a id="I_indexterm4_id644240" class="indexterm"></a> very similar, PHP’s implementation of Perl-style regular
      expressions has a few minor differences from actual Perl regular
      expressions:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The NULL character (ASCII 0) is not allowed as a literal
          character within a pattern string. You can reference it in other
          ways, however (<code class="literal">\000</code>, <code class="literal">\x00</code>, etc.).</p></li><li class="listitem"><p>The <code class="literal">\E</code>, <code class="literal">\G</code>, <code class="literal">\L</code>,
          <code class="literal">\l</code>, <code class="literal">\Q</code>, <code class="literal">\u</code>,
          and <code class="literal">\U</code> options are not
          supported.</p></li><li class="listitem"><p>The <code class="literal">(?{</code> <em class="replaceable"><code>some
          perl code</code></em> <code class="literal">})</code>
          construct is not supported.</p></li><li class="listitem"><p>The <code class="literal">/D</code>, <code class="literal">/G</code>, <code class="literal">/U</code>,
          <code class="literal">/u</code>, <code class="literal">/A</code>, and <code class="literal">/X</code> modifiers are supported.</p></li><li class="listitem"><p>The vertical tab <code class="literal">\v</code> counts
          as a whitespace character.</p></li><li class="listitem"><p>Lookahead and lookbehind assertions cannot be repeated using
          <code class="literal">*</code>, <code class="literal">+</code>, or <code class="literal">?</code>.</p></li><li class="listitem"><p>Parenthesized submatches within negative assertions are not
          remembered.</p></li><li class="listitem"><p>Alternation branches within a lookbehind assertion can be of
          different<a id="I_indexterm4_id644398" class="indexterm"></a> lengths.</p></li></ul></div></div></div></div>
    </div>
    
    <section class="t-bottom-cta bottom-cta bottom-cta-book free-chapter">
  <p>Get <em>Programming PHP, 3rd Edition</em> now with O’Reilly <span class="nowrap">online learning.</span></p>
  <p>O’Reilly members experience live online training, plus books, videos, and digital content from <span class="nowrap">200+ publishers.</span></p>

  <div class="controls">
      <a href="https://learning.oreilly.com/register/" class="button-primary" data-ga-label="Bottom CTA" onmousedown="dataLayer.push({&#39;event&#39;: &#39;eventTracker&#39;, &#39;eventCat&#39;: &#39;Outbound Links&#39;, &#39;eventAct&#39;:&#39;Oreilly&#39;, &#39;eventLbl&#39;: &#39;learning.oreilly.com/register/&#39;, &#39;eventVal&#39;: 0, &#39;nonInteraction&#39;: 0});">Start your free trial</a>
  </div>
</section>

</div>


</section>



  </div>
</main>


  <footer id="footer" class="footer">
  <div class="content">
    <div class="footer-main" aria-label="company info">
      <div class="footer-mainLeft">
        <div class="footer-mainLeftOne">
          <div class="footer-approach">
            <h2 class="footer-header"><a href="https://www.oreilly.com/about/">About O’Reilly</a></h2>
            <ul class="footer-links">
              <li><a href="https://www.oreilly.com/work-with-us.html">Teach/write/train</a></li>
              <li><a href="https://www.oreilly.com/careers/">Careers</a></li>
              <li><a href="https://www.oreilly.com/partner/signup.csp">Community partners</a></li>
              <li><a href="https://www.oreilly.com/affiliates/">Affiliate program</a></li>
              <li><a href="https://www.oreilly.com/diversity/">Diversity</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-mainLeftTwo">
          <div class="footer-contact">
            <h2 class="footer-header"><a href="https://www.oreilly.com/online-learning/support/">Support</a></h2>

            <ul class="footer-links">
              <li><a href="https://www.oreilly.com/about/contact.html">Contact us</a></li>
              <li><a href="https://www.oreilly.com/emails/newsletters/">Newsletters</a></li>
              <li><a href="https://www.oreilly.com/privacy.html">Privacy policy</a></li>
            </ul>
          
            <a href="https://twitter.com/oreillymedia" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 400 400" style="enable-background:new 0 0 400 400;" xml:space="preserve"><style type="text/css">.st0{fill:#ee0000;}.st1{fill:#FFFFFF;}</style><g id="Red"><circle class="st0" cx="200" cy="200" r="200"></circle></g><g id="Logo__x2014__FIXED"><path class="st1" d="M163.4,305.5c88.7,0,137.2-73.5,137.2-137.2c0-2.1,0-4.2-0.1-6.2c9.4-6.8,17.6-15.3,24.1-25 c-8.6,3.8-17.9,6.4-27.7,7.6c10-6,17.6-15.4,21.2-26.7c-9.3,5.5-19.6,9.5-30.6,11.7c-8.8-9.4-21.3-15.2-35.2-15.2 c-26.6,0-48.2,21.6-48.2,48.2c0,3.8,0.4,7.5,1.3,11c-40.1-2-75.6-21.2-99.4-50.4c-4.1,7.1-6.5,15.4-6.5,24.2 c0,16.7,8.5,31.5,21.5,40.1c-7.9-0.2-15.3-2.4-21.8-6c0,0.2,0,0.4,0,0.6c0,23.4,16.6,42.8,38.7,47.3c-4,1.1-8.3,1.7-12.7,1.7 c-3.1,0-6.1-0.3-9.1-0.9c6.1,19.2,23.9,33.1,45,33.5c-16.5,12.9-37.3,20.6-59.9,20.6c-3.9,0-7.7-0.2-11.5-0.7 C110.8,297.5,136.2,305.5,163.4,305.5"></path></g></svg></a>
            <a href="https://www.facebook.com/OReilly/" target="_blank"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.25 32.25"><defs><style>.cls-1{fill:#E00;fill-rule:evenodd;}</style></defs><title>facebook-logo</title><path class="cls-1" d="M16.13,0A16.13,16.13,0,1,0,32.25,16.12,16.13,16.13,0,0,0,16.13,0Zm5.12,9.54H19.57a1.52,1.52,0,0,0-1.51,1.51v1.14h3.19v3.42H18.06V26.12H13.57V15.61H10.69V12.19h2.88v-2a4,4,0,0,1,4-4h3.65Z"></path></svg></a>
            <a href="https://www.linkedin.com/company/oreilly-media" target="_blank"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.25 32.25"><defs><style>.cls-1{fill:#E00;fill-rule:evenodd;}</style></defs><title>linkedin-logo</title><path class="cls-1" d="M17.43,13.53v0l0,0ZM16.12,0A16.13,16.13,0,1,0,32.25,16.12,16.12,16.12,0,0,0,16.12,0ZM11.77,22.92H8.12v-11h3.65ZM9.94,10.44h0a1.89,1.89,0,0,1-2-1.89A1.91,1.91,0,0,1,10,6.65a1.9,1.9,0,1,1,0,3.79Zm15,12.48H21.28V17.05c0-1.48-.53-2.49-1.85-2.49a2,2,0,0,0-1.88,1.34,2.63,2.63,0,0,0-.12.89v6.13H13.79s.05-10,0-11h3.64V13.5a3.63,3.63,0,0,1,3.29-1.82c2.4,0,4.21,1.57,4.21,4.95Z"></path></svg></a>
            <a href="https://www.youtube.com/user/OreillyMedia" target="_blank"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.25 32.25"><defs><style>.cls-1{fill:#E00;fill-rule:evenodd;}</style></defs><title>youtube-logo</title><path class="cls-1" d="M18.35,18.68a.89.89,0,0,0-.86.63V16.94h-1v7.59h1v-.59a.92.92,0,0,0,.89.74c.52,0,.86-.36,1-1.07a8.56,8.56,0,0,0,.14-1.9,10.47,10.47,0,0,0-.12-1.93C19.21,19.05,18.87,18.68,18.35,18.68Zm.09,4.14c-.05.52-.2.77-.45.77s-.43-.21-.49-.63a7.22,7.22,0,0,1,0-1c0-.72,0-1.14,0-1.26.07-.58.23-.88.51-.88s.4.27.46.79c0,.09,0,.47,0,1.13S18.46,22.71,18.44,22.82ZM8.61,18.19H9.86v6.34H11V18.19H12.2V16.94H8.61Zm7.71-6.12c.27,0,.43-.22.49-.66,0-.09,0-.45,0-1.07V9.78c0-.58,0-.93,0-1-.07-.43-.23-.65-.48-.65s-.41.19-.48.57a8.79,8.79,0,0,0,0,1v.53c0,.71,0,1.09,0,1.16C15.88,11.82,16.05,12.07,16.32,12.07Zm-1.74,10.4a2.92,2.92,0,0,1-.06.71c-.07.25-.2.37-.4.37s-.32-.11-.38-.34a2.63,2.63,0,0,1-.05-.66V18.83h-1v4.48c0,.91.33,1.37,1,1.37A1,1,0,0,0,14.6,24v.57h1v-5.7h-1Zm7.1-3.79a1.35,1.35,0,0,0-1.22.59,2.48,2.48,0,0,0-.3,1.07c0,.23,0,.61,0,1.16s0,1.13,0,1.37a2.93,2.93,0,0,0,.35,1.27,1.25,1.25,0,0,0,1.14.54,1.36,1.36,0,0,0,1.13-.45,2.29,2.29,0,0,0,.37-1.43s0-.07,0-.11v-.12h-1c0,.75-.17,1.12-.51,1.12s-.38-.18-.45-.56a4.68,4.68,0,0,1-.06-.9c0-.18,0-.31,0-.37h2v-.43a4.86,4.86,0,0,0-.3-2.11A1.28,1.28,0,0,0,21.68,18.68ZM22.15,21h-1c0-.05,0-.11,0-.16v-.08a1.64,1.64,0,0,1,.11-.8.39.39,0,0,1,.38-.23.42.42,0,0,1,.43.33,2.32,2.32,0,0,1,.07.7Zm-6-21A16.13,16.13,0,1,0,32.25,16.12,16.12,16.12,0,0,0,16.12,0Zm2.51,7.2h1V11a2.52,2.52,0,0,0,.06.66c.06.23.18.34.38.34s.34-.12.41-.37a3.76,3.76,0,0,0,.05-.71V7.2h1v5.74h-1v-.57a1,1,0,0,1-.93.72c-.66,0-1-.46-1-1.38ZM15,8a1.29,1.29,0,0,1,1.33-.92A1.3,1.3,0,0,1,17.65,8a6.77,6.77,0,0,1,.23,2.1,6.77,6.77,0,0,1-.23,2.1,1.3,1.3,0,0,1-1.32.92A1.29,1.29,0,0,1,15,12.17a6.77,6.77,0,0,1-.23-2.1A6.86,6.86,0,0,1,15,8ZM11.45,5.3l.89,2.87.88-2.87H14.4L12.88,9.7v3.24h-1.1V9.7L10.24,5.3ZM24.93,23.91a3,3,0,0,1-3,3h-12a3,3,0,0,1-3-3V18.05a3,3,0,0,1,3-3h12a3,3,0,0,1,3,3Z"></path></svg></a>
          </div>
        </div>
      </div>

      <div class="footer-download" id="download-info">
        <h2 class="footer-header">Download the O’Reilly App</h2>

        <div class="footer-downloadLinks">
          <a href="https://itunes.apple.com/us/app/safari-to-go/id881697395"><img src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/app-store-logo.png" alt="Apple app store"></a>
          <a href="https://play.google.com/store/apps/details?id=com.safariflow.queue"><img src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/google-play-logo.png" alt="Google play store"></a>
        </div>

        <p>Take O’Reilly online learning with you and learn anywhere, anytime on your phone <span class="nowrap">and tablet.</span></p>

        <ul>
          <li>Get unlimited access to books, videos, and <span class="nowrap">live training.</span></li>
          <li>Sync all your devices and never lose your place.</li>
          <li>Learn even when there’s no signal with <span class="nowrap">offline access.</span></li>
        </ul>
      </div>

      <div class="footer-donotsell" id="donotsell-info">
        <h2 class="footer-header">Do not sell my personal information</h2>

        <p style="line-height: 1.5em;">Exercise your consumer rights by contacting us at <a href="mailto:donotsell@oreilly.com?subject=Do%20Not%20Sell%20My%20Personal%20Information%20Request" style="text-decoration:underline;">donotsell@oreilly.com</a>.</p>
      </div>
    </div>

    <div class="footer-subfooter">

      <a href="https://www.oreilly.com/" title="home page" aria-current="page">
        <img class="footer-subfooterLogo" id="footer-subfooterLogo" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/oreilly_logo_mark_red.svg" onerror="this.src=&#39;https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red_@2x.png&#39;; this.onerror=null;" alt="O&#39;Reilly home">
      </a>

      <p>© 2020, O’Reilly Media, Inc. All trademarks and registered trademarks appearing on oreilly.com are the property of their respective owners.</p>
      
      

      <p><a href="https://www.oreilly.com/terms/">Terms of service</a> • <a href="https://www.oreilly.com/privacy.html">Privacy policy</a> • <a href="https://www.oreilly.com/about/editorial_independence.html">Editorial independence</a></p>
    </div>

  </div>
</footer>




<script>
  var g = {
    
    position_cache: {},
    title: "Programming PHP, 3rd Edition",
    author_list: "Rasmus Lerdorf, Kevin Tatroe, Peter MacIntyre",
    format: "book",
    source: "application/epub+zip",
    is_system_book: true,
    is_public: true,
    loaded_from_server: true,
    allow_scripts: false,
    has_mathml: false
    
  };
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  window.dataLayer.push({
    'product.title': "Programming PHP, 3rd Edition",
    'product.type': "book",
    'product.identifier': "9781449361068",
    'content.identifier': "9781449361068/ch04s08.html",
    'content.publisher': "O'Reilly Media, Inc.",
    'content.free': "no",
    
    'content.subdirectory': "none",
    'content.subTopic': "none",
    'content.parentTopic': "none",
    'content.formatType': "book-chapter",
    'content.author': "Rasmus Lerdorf, Kevin Tatroe, Peter MacIntyre",
    'content.releaseDate': "2013-02-15",
    'content.title': "Regular Expressions",
  });
</script>






<script src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/output.ab35a2890501.js.download"></script>


<noscript> 
  <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
          height="0" width="0"
          style="display:none;visibility:hidden">
  </iframe>
</noscript>


<script async="" defer="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/pageview.js.download"></script>

<script src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/jquery.min.js.download"></script>

<script>
  jQuery(document).ready(function($) {
    //Toggle isActive and mobileHidden classes for mobileNavButton
    $('nav #mobileNavButton').on('click', function() {
      var expanded = $(this).attr('aria-expanded') === 'true' || false;
      $(this).attr('aria-expanded', !expanded);
      $(this).toggleClass("isActive");
      $(this).next().toggleClass("mobileHidden");
    });

    //Toggle isFocused class for keyboard navigation of submenus
    $('nav #menuList .menuList-subItem a').each(function(navItem) {
      $(this).on('focus', function() {
        $(this).parent().parent().toggleClass('isFocused');
      });
      $(this).on('blur', function() {
        $(this).parent().parent().toggleClass('isFocused');
      });
    });

    //Toggle mobileHidden class accordian elements
    $('.mobileAccordian').each(function() {
      var $btn = $(this).find('button');
      var $target =  $(this).next();
      $btn.on('click', function() {
        var expanded = $btn.attr('aria-expanded') === 'true' || false;

        $btn.attr('aria-expanded', !expanded);
        $target.toggleClass("mobileHidden");
      });
    });


    //Hide title page's long description behind disclosure button
    var titleDescriptionExtra = $('.title-description p:first-of-type').nextAll(':nth-child(3)').nextAll();
    titleDescriptionExtra.wrapAll('<div id="titleDescriptionExtra" />');
    if (titleDescriptionExtra.length > 0) {
      $('#titleDescriptionExtra').toggle();
      $('#showMoreDescription').removeClass('hidden');
      $('#showMoreDescription button').on('click', function() {
        $(this).toggleClass('more');
        $('#titleDescriptionExtra').slideToggle();
      });
    }

    //Hide title page's long TOC behind disclosure button
    var titleTOCShort = $('.sbo-reader-title .detail-toc').find('li').slice(0,4);
    var titleTOCExtra = $('.sbo-reader-title .detail-toc').find('li').not(titleTOCShort);
    if (titleTOCExtra.length > 0) {
      titleTOCExtra.toggle();
      $('#showMoreTOC').removeClass('hidden');
      $('#showMoreTOC button').on('click', function() {
        $(this).toggleClass('more');
        titleTOCExtra.toggle();
      });
    }

    //Hide product information on page load
    $('#product-information').toggle();
    $('#title-tabs button').on('click', function() {
      var $thisTab = $(this);
      if (!$thisTab.hasClass('title-tab-active')) {
        var lastTabTarget = $('#title-tabs .title-tab-active').removeClass('title-tab-active').attr('data-target');
        $('#' + lastTabTarget).toggle();

        $thisTab.addClass('title-tab-active');
        var $tabTarget = $(this).attr('data-target');
        $('#' + $tabTarget).toggle();
      }
    });


    //Trigger GA events for related products
    $('#recommendations .recommendations-item').each(function(i) {
      $(this).on('click', function(e) {
        var cardTitle = $(this).find('.recommendations-title').text().toLowerCase();
        var productType = $(this).find('.recommendations-format').text().toLowerCase();
        var contentID = $(this).attr('data-id');
        var eventLbl = String(i);

        dataLayer.push({
          'product.title': undefined,
          'content.formatType': undefined,
          'product.identifier': undefined,
          'content.title': undefined,
          'content.author': undefined,
          'content.publisher': undefined,
          'content.releaseDate': undefined,
          'content.free': undefined,
          'content.subdirectory': undefined,
          'content.parentTopic': undefined,
          'content.subTopic': undefined,
          'event': 'eventTracker',
          'eventCat': 'recommended titles',
          'eventAct': 'card click',
          'eventLbl': eventLbl,
          'eventVal': 0, 
          'nonInteraction': 0,
          'cardTitle': cardTitle,
          'product.type': productType,
          'content.identifier': contentID,
          'eventCallback': function() {
            dataLayer.push({'cardTitle': undefined});
          },
          'eventTimeout' : 2000
        });
      });
    });

  });

</script>



<!-- MARC Intercept Support -->

<script src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/thiss.js.download"></script>
<script type="text/javascript" id="">(function(){function b(){!1===c&&(c=!0,Munchkin.init("107-FMS-070"))}var c=!1,a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="//munchkin.marketo.net/munchkin.js";a.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||b()};a.onload=b;document.getElementsByTagName("head")[0].appendChild(a)})();</script><script type="text/javascript" id="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/digitalpi-utm-tracker-oreilly.com.js.download"></script><script type="text/javascript" id="">(function(){window.medalliaUserIdentifier=document.documentElement.dataset.userUuid;window.medalliaUserName=document.documentElement.dataset.username})();</script>
<script type="text/javascript" id="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/embed.js.download"></script><script type="text/javascript" id="">!function(){var a=window.driftt=window.drift=window.driftt||[];if(!a.init){if(a.invoked)return void(window.console&&console.error&&console.error("Drift snippet included twice."));a.invoked=!0;a.methods="identify config track reset debug show ping page hide off on".split(" ");a.factory=function(c){return function(){var b=Array.prototype.slice.call(arguments);return b.unshift(c),a.push(b),a}};a.methods.forEach(function(c){a[c]=a.factory(c)});a.load=function(c){var b=3E5,d=Math.ceil(new Date/b)*b;b=
document.createElement("script");b.type="text/javascript";b.async=!0;b.crossorigin="anonymous";b.src="https://js.driftt.com/include/"+d+"/"+c+".js";c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}}}();drift.SNIPPET_VERSION="0.3.1";drift.load("tvu7up89sc39");</script>
<div style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon801164899826"><img style="width:0px; height:0px; display:none; visibility:hidden;" id="batBeacon455916503875" width="0" height="0" alt="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/0"></div>

<script src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/output.36ccdd252c98.js.download"></script><div id="academic-modal"><!-- react-empty: 1 --></div>




<script type="text/javascript" id="">var domains_to_track,docHost=document.location.hostname;
if("conferences.oreilly.com"==docHost.toLowerCase()||"ai.oreilly.com.cn"==docHost.toLowerCase()){domains_to_track=["conference.oreilly.com"];var folders_to_track=google_tag_manager["GTM-5P4V6Z"].macro(13).split("/")[1]}else if("shop.oreilly.com"==docHost.toLowerCase())domains_to_track=["shop.oreilly.com"],folders_to_track=google_tag_manager["GTM-5P4V6Z"].macro(14).split("/")[1];else if("oreilly.com"==docHost.toLowerCase()||"www.oreilly.com"==docHost.toLowerCase())domains_to_track=["www.oreilly.com"],folders_to_track="";
var extDoc=".doc .docx .xls .xlsx .xlsm .ppt .pptx .exe .zip .pdf .js .txt .csv".split(" "),socSites="",isSubDomainTracker=!0,isSeparateDomainTracker=!0,isGTM=!0,eValues={downloads:{category:"Assets",action:"Download",label:"",value:0,nonInteraction:0},outbound_downloads:{category:"Outbound Assets",action:"Download",label:"",value:0,nonInteraction:0},outbounds_oreilly:{category:"Outbound Links",action:"Oreilly",label:"",value:0,nonInteraction:0},outbounds:{category:"Outbound Links",action:"Non-Oreilly",
label:"",value:0,nonInteraction:0},email:{category:"Email Clicks",action:"Click",label:"",value:0,nonInteraction:0},outbound_email:{category:"Outbound Email Clicks",action:"Click",label:"",value:0,nonInteraction:0},telephone:{category:"Telephone Clicks",action:"Click",label:"",value:0,nonInteraction:0},social:{category:"Social Profiles",action:"Click",label:"",value:0,nonInteraction:0}},mainDomain=document.location.hostname.match(/(([^.\/]+\.[^.\/]{2,3}\.[^.\/]{2})|(([^.\/]+\.)[^.\/]{2,4}))(\/.*)?$/)[1];
mainDomain=mainDomain.toLowerCase();1==isSubDomainTracker&&(mainDomain=document.location.hostname.replace("www.","").toLowerCase());var arr=document.getElementsByTagName("a");
for(i=0;i<arr.length;i++){var flag=0;if(!isExcluded(arr[i])){var mDownAtt=arr[i].getAttribute("onmousedown"),doname="",linkType="",mailPattern=/^mailto:[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/i,urlPattern=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i,telPattern=/^tel:(.*)([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/i,internalDomain=/(.*)(oreilly.com|safaribooksonline.com)(.*)/i;if(mailPattern.test(arr[i].href)||urlPattern.test(arr[i].href)||telPattern.test(arr[i].href)){try{!urlPattern.test(arr[i].href)||
mailPattern.test(arr[i].href)||telPattern.test(arr[i].href)?!mailPattern.test(arr[i].href)||telPattern.test(arr[i].href)||urlPattern.test(arr[i].href)?!telPattern.test(arr[i].href)||urlPattern.test(arr[i].href)||mailPattern.test(arr[i].href)||(doname=arr[i].href.toLowerCase(),linkType="tel"):(doname=arr[i].href.toLowerCase().split("@")[1],linkType="mail"):(doname=arr[i].hostname.toLowerCase().replace("www.",""),linkType="url")}catch(a){continue}if(null!=mDownAtt&&(mDownAtt=String(mDownAtt),-1<mDownAtt.indexOf("dataLayer.push")||
-1<mDownAtt.indexOf("('send'")))continue;var condition=!1;if(condition=isSeparateDomainTracker?doname==mainDomain:-1!=doname.indexOf(mainDomain))"mail"===linkType?(eValues.email.label=arr[i].href.toLowerCase().match(/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/i),_tagLinks(arr[i],eValues.email.category,eValues.email.action,eValues.email.label,eValues.email.value,eValues.email.nonInteraction,mDownAtt)):"url"===linkType&&(""==folders_to_track||_isInternalFolder(arr[i].href)?_isDownload(arr[i].href)&&
(_setDownloadData(arr[i].href,doname),_tagLinks(arr[i],eValues.downloads.category,eValues.downloads.action,eValues.downloads.label,eValues.downloads.value,eValues.downloads.nonInteraction,mDownAtt)):_isDownload(arr[i].href)?(_setDownloadData(arr[i].href,doname),_tagLinks(arr[i],eValues.outbound_downloads.category,eValues.outbound_downloads.action,eValues.outbound_downloads.label,eValues.outbound_downloads.value,eValues.outbound_downloads.nonInteraction,mDownAtt)):internalDomain.test(arr[i].href)?
(eValues.outbounds_oreilly.label=arr[i].href.replace("www.","").split("//")[1],_tagLinks(arr[i],eValues.outbounds_oreilly.category,eValues.outbounds_oreilly.action,eValues.outbounds_oreilly.label,eValues.outbounds_oreilly.value,eValues.outbounds_oreilly.nonInteraction,mDownAtt)):(eValues.outbounds.label=arr[i].href.toLowerCase().replace("www.","").split("//")[1],_tagLinks(arr[i],eValues.outbounds.category,eValues.outbounds.action,eValues.outbounds.label,eValues.outbounds.value,eValues.outbounds.nonInteraction,
mDownAtt)));else for(var k=0;k<domains_to_track.length;k++){var condition1=!1;condition1=isSeparateDomainTracker?doname==domains_to_track[k]:-1!=doname.indexOf(domains_to_track[k]);condition1?"mail"===linkType?(eValues.email.label=arr[i].href.toLowerCase().match(/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/i),_tagLinks(arr[i],eValues.email.category,eValues.email.action,eValues.email.label,eValues.email.value,eValues.email.nonInteraction,mDownAtt)):"url"===linkType&&(""==folders_to_track||_isInternalFolder(arr[i].href)?
_isDownload(arr[i].href)&&(_setDownloadData(arr[i].href,doname),_tagLinks(arr[i],eValues.downloads.category,eValues.downloads.action,eValues.downloads.label,eValues.downloads.value,eValues.downloads.nonInteraction,mDownAtt)):_isDownload(arr[i].href)?(_setDownloadData(arr[i].href,doname),_tagLinks(arr[i],eValues.outbound_downloads.category,eValues.outbound_downloads.action,eValues.outbound_downloads.label,eValues.outbound_downloads.value,eValues.outbound_downloads.nonInteraction,mDownAtt)):internalDomain.test(arr[i].href)?
(eValues.outbounds_oreilly.label=arr[i].href.replace("www.","").split("//")[1],_tagLinks(arr[i],eValues.outbounds_oreilly.category,eValues.outbounds_oreilly.action,eValues.outbounds_oreilly.label,eValues.outbounds_oreilly.value,eValues.outbounds_oreilly.nonInteraction,mDownAtt)):(eValues.outbounds.label=arr[i].href.replace("www.","").split("//")[1],_tagLinks(arr[i],eValues.outbounds.category,eValues.outbounds.action,eValues.outbounds.label,eValues.outbounds.value,eValues.outbounds.nonInteraction,
mDownAtt))):(flag++,flag==domains_to_track.length&&("mail"===linkType&&(eValues.outbound_email.label=arr[i].href.toLowerCase().match(/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/),_tagLinks(arr[i],eValues.outbound_email.category,eValues.outbound_email.action,eValues.outbound_email.label,eValues.outbound_email.value,eValues.outbound_email.nonInteraction,mDownAtt)),"tel"===linkType&&(eValues.telephone.label=arr[i].href.toLowerCase().split("tel:")[1],_tagLinks(arr[i],eValues.telephone.category,eValues.telephone.action,
eValues.telephone.label,eValues.telephone.value,eValues.telephone.nonInteraction,mDownAtt)),"url"===linkType&&(_isDownload(arr[i].href)?(_setDownloadData(arr[i].href,doname),_tagLinks(arr[i],eValues.outbound_downloads.category,eValues.outbound_downloads.action,eValues.outbound_downloads.label,eValues.outbound_downloads.value,eValues.outbound_downloads.nonInteraction,mDownAtt)):_isSocial(arr[i].href)?(eValues.social.label=arr[i].href.toLowerCase().replace("www.","").split("//")[1],eValues.social.action=
eValues.social.label.split(".")[0],_tagLinks(arr[i],eValues.social.category,eValues.social.action,eValues.social.label,eValues.social.value,eValues.social.nonInteraction,mDownAtt)):internalDomain.test(arr[i].href)?(eValues.outbounds_oreilly.label=arr[i].href.replace("www.","").split("//")[1],_tagLinks(arr[i],eValues.outbounds_oreilly.category,eValues.outbounds_oreilly.action,eValues.outbounds_oreilly.label,eValues.outbounds_oreilly.value,eValues.outbounds_oreilly.nonInteraction,mDownAtt)):(eValues.outbounds.label=
arr[i].href.toLowerCase().replace("www.","").split("//")[1],_tagLinks(arr[i],eValues.outbounds.category,eValues.outbounds.action,eValues.outbounds.label,eValues.outbounds.value,eValues.outbounds.nonInteraction,mDownAtt)))))}}}}function _isSocial(a){return""!=socSites?null!=a.toLowerCase().replace(/[+#]/,"").match(new RegExp("^(.*)("+socSites.toLowerCase()+")(.*)$"))?!0:!1:!1}
function _isInternalFolder(a){return""!=folders_to_track?null!=a.toLowerCase().match(new RegExp("^(.*)("+folders_to_track+")(.*)$"))?!0:!1:!1}function _isDownload(a){for(var c=0,b=0;b<extDoc.length;b++){var d=a.split(".");d=d[d.length-1].split(/[#?&?]/);if("."+d[0].toLowerCase()==extDoc[b])return!0;c++;if(c==extDoc.length)return!1}}
function _setDownloadData(a,c){var b=a.toLowerCase().split(".");b=b[b.length-1].split(/[#?&?]/);a=a.toLowerCase().split(c);a=a[1].split(/[#?&?]/);eValues.downloads.action=eValues.outbound_downloads.action=b;eValues.downloads.label=eValues.outbound_downloads.label=a}
function _tagLinks(a,c,b,d,g,e,f){isGTM?a.setAttribute("onmousedown",(null!=f?f+"; ":"")+"dataLayer.push({'event': 'eventTracker', 'eventCat': '"+c+"', 'eventAct':'"+b+"', 'eventLbl': '"+d+"', 'eventVal': "+g+", 'nonInteraction': "+e+"});"):(e=0==e?!1:!0,a.setAttribute("onmousedown",(null!=f?f+"; ":"")+"ga('send', 'event', '"+c+"', '"+b+"', '"+d+"', "+g+", { nonInteraction: "+e+"});"))}
function isExcluded(a){var c=document.getElementsByTagName("footer")[0];1<document.getElementsByTagName("footer").length&&(c=document.getElementsByTagName("footer")[document.getElementsByTagName("footer").length-1]);for(var b=a.parentNode;null!=b;){if(b==c)return!0;b=b.parentNode}c=/(.*)(conferences.oreilly.com|www.safaribooksonline.com|learning.oreilly.com|shop.oreilly.com)(.*)/i;b=/((.*)oreilly.com\/(learning|radar|idea)(.*))/i;return c.test(a.href)&&b.test(document.location.href)&&jQuery&&(jQuery(a).parents(".article-body").length||
jQuery(a).parents(".block-product").length||jQuery(this).closest("[data-type \x3d 'note']").length)?!0:!1};</script><div class="annotator-notice"></div><div class="drift-conductor-item drift-frame-controller drift-frame-controller-align-right" style="width: 76px; height: 0px;"><iframe class="drift-frame-controller" scrolling="no" title="controller" allow="autoplay; encrypted-media; fullscreen;" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/core.html"></iframe></div><div class="drift-conductor-item drift-frame-chat drift-frame-chat-align-right with-transition" style="width: 400px; max-height: 0px;"><iframe class="drift-frame-chat" scrolling="no" title="chat" allow="autoplay; encrypted-media; fullscreen;" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/chat.html" style="width: 400px;"></iframe></div><script type="text/javascript" async="" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/generic1602169621999.js.download" charset="UTF-8"></script><span></span><div style="display: none; visibility: hidden;"><script>(function(){if(null!==document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]')&&void 0!==document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]')){var a=!1;window.addEventListener("blur",function(){a&&dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"facebook",eventVal:0,nonInteraction:0})});document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]').addEventListener("mouseover",function(){window.focus();
a=!0});document.querySelector('iframe[title\x3d"fb:share_button Facebook Social Plugin"]').addEventListener("mouseout",function(){a=!1})}if(null!==document.querySelector("iframe.twitter-share-button")&&void 0!==document.querySelector("iframe.twitter-share-button")){var c=!1;window.addEventListener("blur",function(){c&&dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"twitter",eventVal:0,nonInteraction:0})});document.querySelector("iframe.twitter-share-button").addEventListener("mouseover",
function(){window.focus();c=!0});document.querySelector("iframe.twitter-share-button").addEventListener("mouseout",function(){c=!1})}try{window.twttr=function(b,d,e){var f,g=b.getElementsByTagName(d)[0];if(!b.getElementById(e))return b=b.createElement(d),b.id=e,b.src="//platform.twitter.com/widgets.js",g.parentNode.insertBefore(b,g),window.twttr||(f={_e:[],ready:function(h){f._e.push(h)}})}(document,"script","twitter-wjs"),twttr.ready(function(b){b.events.bind("tweet",trackTwitter)})}catch(b){}})();
null!==document.querySelector(".IN-widget")&&void 0!==document.querySelector(".IN-widget")&&document.querySelector(".IN-widget").addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"linkedin",eventVal:0,nonInteraction:0})});
function trackTwitter(a){a&&(a.target&&"IFRAME"==a.target.nodeName&&(opt_target=extractParamFromUri(a.target.src,"url")),dataLayer.push({event:"eventTracker",eventCat:"social",eventAct:"share",eventLbl:"twitter",eventVal:0,nonInteraction:0}))}function extractParamFromUri(a,c){if(a&&(c=new RegExp("[\\?\x26#]"+c+"\x3d([^\x26#]*)"),a=c.exec(a),null!=a))return unescape(a[1])};</script></div><script type="text/javascript" id="">function forceInputUppercase(a){var b=a.target.selectionStart,c=a.target.selectionEnd;a.target.value=a.target.value.toUpperCase();a.target.setSelectionRange(b,c)}void 0!=document.getElementById("id_promotion")&&null!=document.getElementById("id_promotion")&&document.getElementById("id_promotion").addEventListener("keyup",forceInputUppercase,!1);
void 0!=document.getElementsByName("promotionCode")[0]&&null!=document.getElementsByName("promotionCode")[0]&&document.getElementsByName("promotionCode")[0].addEventListener("keyup",forceInputUppercase,!1);</script><script type="text/javascript" id="">var nonwExpandable=document.querySelectorAll(".orm-ff-NavigationSubnav-headerListItem a, .orm-ff-NavigationView-headerListItem a");nonwExpandable.forEach(function(a,b){b+1!=nonwExpandable.length?a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.childNodes[1].textContent})}):b+1==nonwExpandable.length&&a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"user login",eventAct:"logout",eventLbl:"global nav | unified"})})});
var nonwExpandableFo=document.querySelectorAll(".drop-content li:not(.flyout-parent) a");
nonwExpandableFo.forEach(function(a,b){"drop-content"==a.parentNode.parentNode.parentNode.className&&b+1!=nonwExpandableFo.length?a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.childNodes[1].textContent})}):"drop-content"==a.parentNode.parentNode.parentNode.className&&b+1==nonwExpandableFo.length&&a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"user login",eventAct:"logout",eventLbl:"global nav | unified"})})});
var expandable=document.querySelectorAll(".orm-ff-NavigationSubnav-toggleControls a, .orm-ff-NavigationView-toggleControls a");expandable.forEach(function(a){a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.parentNode.parentNode.parentNode.querySelectorAll(".orm-Button-btnContentWrap span")[0].childNodes[1].textContent+" | "+a.textContent})})});var flyoutLinks=document.querySelectorAll(".flyout a");
flyoutLinks.forEach(function(a){a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.closest("li.flyout-parent").getElementsByTagName("a")[0].textContent+" | "+a.textContent})})});</script><iframe scrolling="no" frameborder="0" allowtransparency="true" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/widget_iframe.96fd96193cc66c3e11d4c5e4c7c7ec97.html" title="Twitter settings iframe" style="display: none;"></iframe><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./Regular Expressions - Programming PHP, 3rd Edition [Book]_files/saved_resource.html"></iframe></body></html>