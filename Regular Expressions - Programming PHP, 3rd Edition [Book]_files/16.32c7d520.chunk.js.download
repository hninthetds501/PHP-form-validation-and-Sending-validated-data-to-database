(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1b8i":function(e,t,n){"use strict";var r=n("s8DI"),c=n("da4L"),o=n("ERkP");t.a=function useTimedMessages(e,t){var n=Object(o.useState)(function(){return e}),a=Object(r.a)(n,2),u=a[0],i=a[1],s=Object(o.useRef)(t),l=Object(o.useRef)(null);return Object(o.useEffect)(function(){if(t&&e.length&&e!==u){var n=u.length;if(s.current!==t||n===e.length)return s.current=t,void i(e);var r=function pushMessage(){return i(e.slice(0,n+1))};if(!Object(c.h)(e[n]))return l.current=window.setTimeout(function(){l.current=null,r()},250),function(){l.current&&window.clearTimeout(l.current)};r()}},[e,u,t]),u}},"2uLe":function(e,t,n){"use strict";var r=n("mj2O"),c=n.n(r),o=n("7SM1"),a=n("8ZCy"),u=n("8Epr"),i=n("ERkP"),s=n("uDfI"),l=n("vTYT"),f=n("7oto");t.a=function useSetPreviewHeight(){var e=Object(i.useRef)(null),t=Object(s.c)(function(e){return!!e.conversations.activeConversation}),n=Object(s.c)(function(e){return e.embed.configuration}).showBranding,r=void 0!==n&&n,b=Object(u.a)().noPolicy,d=Object(s.c)(function(e){return e.session.gdpr}).hasConsent,v=Object(i.useCallback)(function(){var e=0,t=!r&&b;return t&&(e+=a.a),d||(e+=t?a.c:a.b),e},[d,b,r]),O=Object(i.useCallback)(function(){return e.current?e.current.clientHeight:200},[e]),g=Object(i.useCallback)(function(){var e=Object(o.a)(c.a.mark(function _callee(e){var n,r,o,u,i=arguments;return c.a.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!t||!d){c.next=3;break}return c.abrupt("return");case 3:r=v(),o=O(),u=e?"".concat(o+a.d-r,"px"):"0px",Object(f.a)({topic:"set-frame-height",message:{height:u,name:l.b.CHAT,transition:!0,transitionHeight:n}});case 7:case"end":return c.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),[t,d,v,O]),j=Object(i.useCallback)(Object(o.a)(c.a.mark(function _callee2(){var e;return c.a.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:e=O(),Object(f.a)({topic:"set-frame-height",message:{height:"".concat(e+a.e,"px"),name:l.b.SLIDER,transition:!0,transitionHeight:!1}});case 2:case"end":return t.stop()}},_callee2)})),[O]),p=Object(i.useCallback)(Object(o.a)(c.a.mark(function _callee3(){var e;return c.a.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:e=O(),Object(f.a)({topic:"set-frame-height",message:{height:"".concat(e,"px"),name:l.b.EMAIL_CAPTURE,transition:!0,transitionHeight:!1}});case 2:case"end":return t.stop()}},_callee3)})),[O]);return{previewRef:e,setChatHeight:g,setSliderHeight:j,setEmailCaptureHeight:p}}},"6fy/":function(e,t,n){"use strict";var r=n("kXeL"),c=n.n(r),o=n("LVcX"),a=n("ERkP"),u=n("liE7"),i=n("uDfI");t.a=function useUserResolution(){var e=Object(u.useTranslation)().t,t=Object(i.c)(function(e){return e.session.endUser});return Object(a.useMemo)(function(){return{id:t.id,name:Object(o.a)(e("user.self"),["name"],t),avatar:Object(o.a)(c.a,["socialProfile","avatar"],t),email:Object(o.a)(null,["socialProfile","email"],t)}},[t,e])}},"6rzO":function(e,t,n){"use strict";var r=n("WwEg"),c=n("s8DI"),o=n("0B8E"),a=n("ERkP");t.a=function usePasteFiles(e){var t=e.inputRef,n=Object(a.useState)([]),u=Object(c.a)(n,2),i=u[0],s=u[1],l=Object(a.useState)(null),f=Object(c.a)(l,2),b=f[0],d=f[1],v=Object(a.useCallback)(function(e){if(e.clipboardData&&e.clipboardData.files){var t=Object(r.a)(e.clipboardData.files);t.length&&s(Object(o.a)([].concat(Object(r.a)(i),Object(r.a)(t)))),t.length&&d(e.clipboardData.getData("Text"))}},[i]);return Object(a.useEffect)(function(){t&&(t.current.onpaste=v)},[t,v]),{pastedTextFromFiles:b,pastedFiles:i,clearFiles:function clearFiles(){s([]),d(null)}}}},"6wvX":function(e,t,n){"use strict";var r=n("uDfI"),c=n("0lfv");t.a=function useIsMobile(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(r.c)(function(t){return Object(c.i)(t.session.context.userAgent,e)})}},"7IKl":function(e,t,n){"use strict";var r=n("ERkP"),c=n("liE7"),o=n("uDfI"),a=n("F8vJ");t.a=function useAgentName(e){var t=Object(o.c)(function(e){return e.embed.configuration}).team,n=void 0===t?[]:t,u=Object(c.useTranslation)().t;return Object(r.useMemo)(function(){var t=n.find(function(t){return t.id===e});return t&&!Object(a.a)(t.name)?t.name:u("agent")},[n,e,u])}},"8Epr":function(e,t,n){"use strict";var r=n("LVcX"),c=n("uDfI"),o=n("Nlet");t.a=function useResolvePrivacy(){var e=Object(c.c)(function(e){return Object(r.a)({},["embed","configuration","dataProtection"])(e)}),t=Object(o.c)().locale,n=function resolvePolicy(){if(!e.policies)return{};var n=e.default||"en",c=t||n,o=e.policies[c]||{};return Object(r.a)(o,c)(e.policies)}(),a=n.privacyPolicyLink,u=n.privacyPolicyLinkText,i=n.privacyPolicyAlwaysOn;return{privacyPolicyLink:a,privacyPolicyLinkText:u,noPolicy:!a||!u||!(void 0!==i&&i)}}},MQZS:function(e,t,n){"use strict";var r=n("mj2O"),c=n.n(r),o=n("7SM1"),a=n("OE2q"),u=n("K7i0"),i=n("LVcX"),s=n("ERkP"),l=n("uDfI"),f=n("6lNa");t.a=function useActiveAgentStatus(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(l.b)(),r=Object(l.c)(function(t){return Object(i.a)(null,["conversations","agentPresence","".concat(e),"status"],t)});return Object(s.useEffect)(function(){t||!r&&e&&function(){var t=Object(o.a)(c.a.mark(function _callee(){var t,r;return c.a.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(a.d)(e);case 2:t=c.sent,r=t.data,n(Object(u.d)({agentId:e,availability:r.availability,lastActivity:r.lastActivityAt}));case 5:case"end":return c.stop()}},_callee)}));return function fetchAgentStatusById(){return t.apply(this,arguments)}}()()},[n,e,t,r]),t?f.a.ONLINE:r}},"P+wr":function(e,t,n){"use strict";var r=n("mj2O"),c=n.n(r),o=n("7SM1"),a=n("s8DI"),u=n("UXBQ"),i=n("K7i0"),s=n("LVcX"),l=n("ERkP"),f=n("uDfI"),b=n("vwUF");t.a=function useAttachmentUpload(e){var t=e.onAttachmentUploadComplete,n=e.activeConversation,r=Object(f.b)(),d=Object(l.useState)(b.b.NONE),v=Object(a.a)(d,2),O=v[0],g=v[1],j=Object(f.c)(function(e){return Object(s.a)(!1,["embed","configuration","theme"],e)}).allowEndUserFileUpload,p=Object(l.useCallback)(function(){var e=Object(o.a)(c.a.mark(function _callee(e){var o,a,s,l;return c.a.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(j){c.next=2;break}return c.abrupt("return");case 2:if(O!==b.b.ERROR){c.next=4;break}return c.abrupt("return");case 4:return g(b.b.PENDING),o=e.filter(function(e){return e.size<b.a.DEFAULT}).map(function(e){return Object(u.b)(e,n)}),c.prev=6,c.next=9,Promise.all(o);case 9:a=c.sent,s=a.map(function(e){return e.data}),l=s.map(function(e){return e.id}),r(Object(i.e)({attachments:s})),t(l),g(b.b.NONE),c.next=20;break;case 17:c.prev=17,c.t0=c.catch(6),g(b.b.ERROR);case 20:case"end":return c.stop()}},_callee,null,[[6,17]])}));return function(t){return e.apply(this,arguments)}}(),[n,j,O,r,t]);return{attachmentState:O,uploadAttachments:p,resetAttachmentState:function resetAttachmentState(){g(b.b.NONE)}}}},UAQ6:function(e,t,n){"use strict";var r=n("LVcX"),c=n("uDfI");t.a=function useEmbedLocale(){return Object(c.c)(function(e){return Object(r.a)("en",["embed","configuration","locale"],e)})}},Vk0e:function(e,t,n){"use strict";var r=n("mj2O"),c=n.n(r),o=n("7SM1"),a=n("s8DI"),u=n("TDUE"),i=n("ERkP"),s=n("uDfI"),l=n("gG69");t.a=function useTrackImpressionOnce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.c.LIVE_CHAT,t=Object(i.useState)(!1),n=Object(a.a)(t,2),r=n[0],f=n[1],b=Object(s.c)(function(e){return e.view}).chatOpen;Object(i.useEffect)(function(){!function(){var t=Object(o.a)(c.a.mark(function _callee(){var t;return c.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!b||r){n.next=5;break}return n.next=3,Object(u.d)(e);case 3:t=n.sent,f(t);case 5:case"end":return n.stop()}},_callee)}));return function trackImpression(){return t.apply(this,arguments)}}()()},[r,b,e])}},ey6Y:function(e,t,n){"use strict";var r=n("58kB"),c=n("liE7");t.a=function useMeetingRecipients(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(c.useTranslation)().t,o=Object(r.a)(e).recipient;return o.id?t.length?n("meeting.recipients",{name:o.name,others:t.length}):"".concat(o.name):""}},fJpD:function(e,t,n){"use strict";var r=n("da4L"),c=n("LVcX"),o=n("ERkP"),a=n("uDfI"),u=function getMeetingRecipientAgentId(e){return Object(r.a)(e,"presentSchedule")||Object(r.a)(e,"scheduleMeetingWith")};t.a=function useMeetingMessageInfo(e){var t=Object(a.c)(function(t){var n=t.conversations.activeConversation;return Object(c.a)(null,["messages",n,e],t.conversations)});return Object(o.useMemo)(function(){var e=Object(r.a)(t,"appointmentInfo");return{shouldPresentSchedulingCard:!!Object(r.a)(t,"presentSchedule"),shouldPresentConfirmationCard:!!e,additionalAgents:Object(r.a)(t,"additionalAgents")||Object(c.a)([],["additionalAgents"],e),meetingRecipientAgentId:u(t),meetingType:Object(r.a)(t,"meetingType"),orgMeetingType:Object(r.a)(t,"meetingSlug"),meetingSource:Object(r.a)(t,"meetingSource"),schedulingAgentId:Object(r.a)(t,"bookedByUserId")||Object(r.a)(t,"offerSchedule"),appointmentInfo:Object(r.a)(t,"appointmentInfo")}},[t])}},fJrp:function(e,t,n){"use strict";var r=n("ERkP");t.a=function usePrevious(e){var t=Object(r.useRef)();return Object(r.useEffect)(function(){t.current=e},[e]),t.current}},fpJs:function(e,t,n){"use strict";var r=n("uDfI"),c=n("8Epr"),o=function showBrandingSelector(e){return e.embed.configuration.showBranding||!1};t.a=function useHasFooter(){var e=Object(r.c)(o),t=Object(c.a)().noPolicy;return e||!t}},fw6E:function(e,t,n){"use strict";var r=n("SFoa"),c=n("g6eD"),o=n("ERkP"),a=n("uDfI");t.a=function useConversationHistoryToggle(){var e=Object(a.b)(),t=Object(a.c)(function(e){return Object(r.d)(e.embed,"conversationHistoryEnabled",!0)}),n=Object(a.c)(function(e){return e.view.conversationHistoryOpen});return{onToggleConversationHistory:Object(o.useCallback)(function(t){e(Object(c.b)({conversationHistoryOpen:t}))},[e]),conversationHistoryOpen:n,conversationHistoryEnabled:t}}},hhdZ:function(e,t,n){"use strict";var r=n("da4L"),c=n("LVcX"),o=n("i9gz"),a=n("TbSn"),u=n("uDfI");t.a=function useLastMessage(e){var t=Object(u.c)(function(t){return Object(c.a)(null,["conversations","conversations",e,"lastMessage"],t)}),n=Object(u.c)(function(t){var n=Object(c.a)({},["conversations","messages",e],t);if(!Object(o.a)(n)){var u=Object(r.m)(n);if(u.length)return Object(a.a)(u)}return null});return t||n||{}}},jITz:function(e,t,n){"use strict";var r=n("s8DI"),c=n("ERkP");t.a=function useKeyPress(e){var t=e.targetKey,n=e.onKeyDown,o=void 0===n?function(){}:n,a=e.onKeyUp,u=void 0===a?function(){}:a,i=Object(c.useState)(!1),s=Object(r.a)(i,2),l=s[0],f=s[1],b=Object(c.useCallback)(function(e){e.key===t&&(f(!0),o())},[t,o]),d=Object(c.useCallback)(function(e){e.key===t&&(f(!1),u())},[t,u]);return Object(c.useEffect)(function(){return window.addEventListener("keydown",b),window.addEventListener("keyup",d),function(){window.removeEventListener("keydown",b),window.removeEventListener("keyup",d)}},[b,d]),l}},"kJB/":function(e,t,n){"use strict";var r=n("NFvl"),c=n("liE7"),o=n("uDfI");t.a=function useDefaultGreeting(){var e=Object(c.useTranslation)().t,t=Object(o.c)(function(t){var n=Object(r.a)(["embed","configuration","theme","welcomeMessage"],t);return n||e("greeting.onlineMessage")}),n=Object(o.c)(function(e){return e.view.matchedHours}),a=Object(o.c)(function(t){var n=Object(r.a)(["embed","configuration","theme","awayMessage"],t);return n||e("greeting.awayMessage")});return n?t:a}},lE29:function(e,t,n){"use strict";var r=n("nfbA"),c=n("F5GS"),o=n("DboL"),a=n("l6A5"),u=n("uDfI"),i={textColor:"353f45",backgroundColor:"0071EB",foregroundColor:"ffffff",widgetBackgroundColor:"0071EB",activeColor:"blue"},s=function resolveBackgroundStyles(e){return{background:"#".concat(e.backgroundColor),color:"#".concat(e.textColor)}},l=function resolveSvgStyles(e){return{fill:"#".concat(e.textColor)}},f=function resolveBorderStyles(e){return{borderColor:"#".concat(e.backgroundColor)}},b=function resolveTextColorStyles(e){return{color:"#".concat(e.foregroundColor)}},d=function resolveInlineImageStyles(e){return{background:"#".concat(e.foregroundColor),border:"4px solid #".concat(e.foregroundColor)}},v=function resolveHeaderTextStyles(e){return{color:"#".concat(e.foregroundColor)}},O=function resolveInlineFileStyles(e){return{color:"#".concat(e.foregroundColor)}},g=function resolveButtonStyles(e){return{color:"#".concat(e.backgroundColor),borderColor:"#".concat(e.backgroundColor),backgroundColor:"#".concat(e.foregroundColor)}},j=function resolveForegroundColors(e){return{backgroundColor:"#".concat(e.backgroundColor),color:"#".concat(e.foregroundColor),border:"1px solid #".concat(e.backgroundColor)}},p=function resolvePrimaryTextColor(e){return{color:"#".concat(e.backgroundColor)}},m=function resolveWidgetBackgroundStyles(e){return{background:"#".concat(e.widgetBackgroundColor)}},h=function resolveWidgetAlphaBackground(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".8";return{background:function convertHex(e){var n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),c=parseInt(e.substring(4,6),16);return"rgba(".concat(n,", ").concat(r,", ").concat(c,", ").concat(t,")")}(e.widgetBackgroundColor)}},k=Object(c.a)(["activeColor","foregroundColor","backgroundColor","textColor","widgetBackgroundColor"]),y=Object(a.a)(function memoIdentity(e){return Object(o.a)(k(e)).join(";")},function(e){var t=Object(r.a)(Object(r.a)({},i),e);return{backgroundStyles:s(t),borderStyles:f(t),svgStyles:l(t),textColorStyles:b(t),buttonStyles:g(t),foregroundStyles:j(t),inlineImageStyles:d(t),widgetBackgroundStyles:m(t),conversationHeaderTextStyles:v(t),inlineFileStyles:O(t),activeColor:t.activeColor,widgetSecondaryColor:"#".concat(t.foregroundColor),widgetBackgroundColor:t.widgetBackgroundColor,widgetBackgroundAlpha:h(t),primaryTextColor:p(t)}});t.a=function useThemeColors(){var e=Object(u.c)(function(e){return e.embed.configuration.theme});return y(e)}},mZ4K:function(e,t,n){"use strict";var r=n("s8DI"),c=n("LVcX"),o=n("ERkP"),a=n("uDfI"),u=n("xNFZ"),i=n("nedb"),s=function useActiveConversation(){var e=Object(a.c)(function(e){return e.conversations}).activeConversation;return Object(a.c)(function(t){return Object(c.a)(null,["conversations","conversations",e,"conversation"],t)})},l=function useEmbedThemeProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(a.c)(function(e){return Object(c.a)({},["embed","configuration","theme"],e)});return e.map(function(e){return t[e]})},f=n("tLIi");t.a=function useActiveSenderId(){var e=s(),t=Object(f.a)(),n=Object(i.a)(),b=l(["userList","userListMode"]),d=Object(r.a)(b,2),v=d[0],O=void 0===v?[]:v,g=d[1],j=void 0===g?"RANDOM":g,p=Object(a.c)(function(e){return e.embed}).configuration,m=(void 0===p?{}:p).autoAssigneeId,h=Object(o.useMemo)(function(){return Object(c.a)(null,["authorId"],t)},[t]),k=Object(o.useMemo)(function(){return Object(c.a)(null,["attributes","senderId"],n)},[n]),y=Object(o.useMemo)(function(){return Object(c.a)(null,["authorId"],n)},[n]),C=Object(o.useMemo)(function(){return!!Object(c.a)(null,["attributes","automaticSender"],n)},[n])&&!!y,I=function getSenderIdFromConversation(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t||(e&&e.assigneeId?e.assigneeId:null)}(e,h);return I||(C?y:k?function getWelcomeMessageSenderId(e){return 0===e?Object(u.a)():e}(k):function getSenderIdFromEmbedTheme(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RANDOM",n=arguments.length>2?arguments[2]:void 0;return n||("RANDOM"===t?Object(u.a)():!e.length||e.includes(null)?Object(u.a)():e.length?e[0]:null)}(O,j,m))}},nedb:function(e,t,n){"use strict";var r=n("LVcX"),c=n("uDfI"),o=function activeCampaignSelector(e){return Object(r.a)(null,["campaigns","activeCampaign"],e)};t.a=function useActiveCampaign(){return Object(c.c)(o)}},nvPd:function(e,t,n){"use strict";var r=n("s8DI"),c=n("ERkP");t.a=function useInputValue(e){var t=Object(c.useState)(e),n=Object(r.a)(t,2),o=n[0],a=n[1];return{value:o,onChange:Object(c.useCallback)(function(e){a(e.currentTarget.value)},[])}}},o3t1:function(e,t,n){"use strict";var r=n("s8DI"),c=n("ERkP"),o=n("0lfv"),a=n("6wvX");t.a=function useOnHover(){var e=Object(a.a)(),t=Object(c.useState)(!1),n=Object(r.a)(t,2),u=n[0],i=n[1];return Object(c.useMemo)(function(){return e?{}:{hoverProps:{onMouseOver:function onMouseOver(){return i(!0)},onMouseOut:function onMouseOut(){return i(!1)},onFocus:o.l,onBlur:o.l},isHovered:u}},[e,u])}},rAhV:function(e,t,n){"use strict";var r=n("OE2q"),c=n("K7i0"),o=n("bYXQ"),a=n("uDfI"),u=n("0lfv");t.a=function useMarkAsRead(){var e=Object(a.c)(function(e){return e.conversations}).unreadAgentMessages,t=void 0===e?{}:e,n=Object(a.b)();return{markAsRead:function markAsRead(e){var a=t[e]||[];if(a.length)try{Object(o.c)(e)||Object(r.g)(e,a),n(Object(c.l)({conversationId:e}))}catch(i){Object(u.e)(new Error(i))}}}}},tLIi:function(e,t,n){"use strict";var r=n("da4L"),c=n("LVcX"),o=n("i9gz"),a=n("TbSn"),u=n("uDfI");t.a=function useLastAgentMessage(){var e=Object(u.c)(function(e){return e.conversations}).activeConversation,t=Object(u.c)(function(t){return Object(c.a)(null,["conversations","conversations",e,"lastAgentMessage"],t)}),n=Object(u.c)(function(t){var n=Object(c.a)({},["conversations","messages",e],t);if(Object(o.a)(n))return{};var u=Object(r.m)(n).filter(function(e){return"USER"===Object(c.a)(null,["authorType"],e)});return u.length?Object(a.a)(u):void 0});return t||n||{}}},uQkC:function(e,t,n){"use strict";var r=n("qwiD"),c=n("ERkP"),o=n("uDfI"),a=n("7VeV");t.a=function useTypingIndicators(e){var t=e.activeConversationId,n=Object(o.b)(),u=Object(c.useRef)(),i=Object(o.c)(function(e){return e.session.endUser.type}),s=Object(o.c)(function(e){return e.session.endUser.id}),l=Object(c.useCallback)(function(e){n(Object(r.d)("chat","user","typing:".concat(e),{userId:s,userType:i,conversationId:t,participants:[]}))},[t,n,s,i]),f=Object(c.useMemo)(function(){return Object(a.throttle)(5e3,!1,function(){return l("started")})},[l]);return{sendTypingStarted:function sendTypingStarted(){f(),u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(function(){return l("finished")},5e3)},sendTypingFinished:function sendTypingFinished(){u.current&&(window.clearTimeout(u.current),u.current=null),l("finished")}}}},"xqp/":function(e,t,n){"use strict";var r=n("ERkP"),c=n("7VeV");t.a=function useScroll(e,t){var n=Object(r.useRef)(),o=Object(r.useMemo)(function(){return Object(c.throttle)(250,!1,function(e){n.current&&n.current(e)})},[n]);Object(r.useEffect)(function(){n.current=e},[e]),Object(r.useEffect)(function(){var e=t.current;if(e)return e.addEventListener("scroll",o),function(){e&&e.removeEventListener("scroll",o)}},[t,o])}}}]);