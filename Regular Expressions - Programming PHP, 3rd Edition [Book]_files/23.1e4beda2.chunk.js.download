(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"1I2J":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("ERkP");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{fill:"#9DA9B0",fillRule:"nonzero",d:"M7.92 11.13c-1.94 0-3.5-1.37-3.5-3.46 0-2.1 1.56-3.45 3.5-3.45 1.3 0 2.15.62 2.68 1.38l-.95.55c-.36-.5-.99-.89-1.73-.89-1.32 0-2.3 1-2.3 2.41 0 1.39.98 2.41 2.3 2.41.68 0 1.28-.31 1.58-.6V8.45h-2V7.42h3.16v2.49c-.65.73-1.59 1.22-2.74 1.22zm5.016-.13h-1.17V4.33h1.17V11zm2.475 0h-1.17V4.33h4.57v1.03h-3.4v1.72h3.33v1.03h-3.33V11zM3 0h17a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3zm0 1.3A1.7 1.7 0 0 0 1.3 3v10A1.7 1.7 0 0 0 3 14.7h17a1.7 1.7 0 0 0 1.7-1.7V3A1.7 1.7 0 0 0 20 1.3H3z"});function SvgGif(e,t){return a.createElement("svg",_extends({width:23,height:16,viewBox:"0 0 23 16",ref:t},e),r)}var c=a.forwardRef(SvgGif);n.p},"97O6":function(e,t){e.exports="data:image/png;base64,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"},NCI6:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("mj2O"),r=n.n(a),c=n("7SM1"),i=n("7oto"),o=function(){var e=Object(c.a)(r.a.mark(function _callee(){var e,t,n,a,c=arguments;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"",r.next=3,Object(i.a)({topic:"access-host-window",message:{key:"location"}});case 3:return t=r.sent,n=t.data,a=void 0===n?{}:n,r.abrupt("return","https://drift.com?utm_source=".concat(a.host,"&utm_medium=web-widget&utm_campaign=widget-referral&utm_content=").concat(e));case 7:case"end":return r.stop()}},_callee)}));return function getDriftUrl(){return e.apply(this,arguments)}}()},SrLZ:function(e,t,n){"use strict";n.r(t);var a=n("mj2O"),r=n.n(a),c=n("7SM1"),i=n("s8DI"),o=n("OE2q"),s=n("mssF"),u=n("O94r"),l=n.n(u),f=n("Rqwx"),d=n("fTFZ"),b=n("vkRn"),v=n("CwrG"),p=n("8eKL"),O=n("slYP"),m=n("BY8A"),g=n("+/Je"),j=n("fw6E"),A=n("1b8i"),E=n("fpJs"),h=n("fJrp"),w=n("lE29"),C=n("+Kbs"),R=n("nQD+"),y=n("sxX9"),M=n("6wvX"),S=n("2uLe"),D=n("g6eD"),T=n("ERkP"),B=n.n(T),N=n("uDfI"),I=(n("SwvN"),function HeaderLayout(e){var t=e.activeConversation,n=e.chatHidden,a=Object(N.b)(),r=Object(w.a)(),c=r.backgroundStyles,o=r.conversationHeaderTextStyles,s=Object(N.c)(function(e){return e.campaigns.activeCampaign}).id,u=Object(N.c)(function(e){return e.session.gdpr}).hasConsent,f=Object(M.a)(),d=Object(S.a)(),b=d.setChatHeight,v=d.previewRef,p=Object(N.c)(function(e){return e.view}).chatOpen,O=Object(T.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return u?e?y.b.CONVERSATION:s?y.b.WELCOME_MESSAGE:y.b.GREETING:y.b.GDPR},[t,u,s]),m=Object(T.useState)(O()),g=Object(i.a)(m,2),j=g[0],A=g[1],E=Object(h.a)(j),I=j!==E;Object(T.useLayoutEffect)(function(){p&&!n&&b(p,I)},[p,n,b,I]),Object(T.useEffect)(function(){var e=O(t);e!==j&&A(e)},[t,s,u,O,j]);var x=y.a[j],k=j!==y.b.CONVERSATION;return B.a.createElement("header",{className:l()("drift-widget-header",{"drift-widget-header--collapsed":k})},B.a.createElement("div",{className:"drift-widget-header-top-line",style:c}),B.a.createElement("div",{className:"drift-widget-header--content"},B.a.createElement(x,{previewRef:v})),f&&B.a.createElement(R.a,{onClick:function doToggleChat(){a(Object(D.a)({chatOpen:!1}))},className:"drift-widget-mobile-close","aria-label":"Close chat",style:o},B.a.createElement(C.j,{width:16,height:16})))}),x=n("SsZN"),k=n("vjCh"),L=n("K7i0"),P=n("bYXQ"),F=n("da4L"),_=n("LVcX"),G=n("TbSn"),V=n("kNJ0"),H=n("oPI6"),U=n("MFhO"),W=n("6lNa"),Z=n("0lfv"),z=n("VpmR"),Q=n("7oto"),X=n("HSQL"),q=(n("sXTY"),null),K=function ChatLayout(){var e=Object(N.b)(),t=Object(T.useState)(!0),n=Object(i.a)(t,2),a=n[0],u=n[1],f=Object(T.useState)(!1),C=Object(i.a)(f,2),R=C[0],y=C[1],M=Object(N.c)(function(e){return e.view}).chatOpen,S=Object(N.c)(function(e){return e.conversations.activeConversation}),D=Object(h.a)(S),H=Object(N.c)(function(e){return e.conversations.conversations}),z=Object(N.c)(function(e){return e.conversations.messages}),K=Object(N.c)(function(e){return Object(_.a)({},["conversations","messages",e.conversations.activeConversation],e)}),Y=Object(N.c)(function(e){return Object(_.a)(!1,["conversations","conversationStatus",e.conversations.activeConversation,"permaclosed"],e)}),J=Object(T.useMemo)(function(){return Object(F.m)(K)},[K]),$=Object(N.c)(function(e){return e.campaigns.activeCampaign}),ee=Object(T.useMemo)(function(){return Object(_.a)(null,["attributes","campaignDisplayType"],$)===U.a.WELCOME_MESSAGE},[$]),te=Object(N.c)(function(e){return e.session.gdpr}).hasConsent,ne=Object(j.a)(),ae=ne.conversationHistoryOpen,re=ne.conversationHistoryEnabled,ce=Object(w.a)().widgetBackgroundStyles,ie=Object(T.useCallback)(function(){var t=Object(c.a)(r.a.mark(function _callee(t){var n,a,c,i,o,u;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.limit,a=void 0===n?30:n,c=t.from,i=void 0===c?null:c,S&&S!==g.a){r.next=3;break}return r.abrupt("return");case 3:return r.prev=3,r.next=6,Object(s.d)({conversationId:S,limit:a,from:i});case 6:return o=r.sent,u=o.data,e(Object(L.j)({messages:u.data,hasMoreMessages:Object(_.a)(!1,["pagination","more"],u),nextPageMessageId:Object(_.a)(null,["pagination","next"],u),conversationId:S})),r.abrupt("return",u);case 12:r.prev=12,r.t0=r.catch(3),Object(Z.e)("Failed to fetch messages",r.t0);case 15:case"end":return r.stop()}},_callee,null,[[3,12]])}));return function(e){return t.apply(this,arguments)}}(),[S,e]);Object(T.useEffect)(function(){(function(){var t=Object(c.a)(r.a.mark(function _callee2(){var t,n,a,c,i;return r.a.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(t=!S||S===g.a,n=D===S,a=!!H[S]&&!!z[S],!(t||n||a||Object(P.c)(S))){r.next=5;break}return r.abrupt("return");case 5:return r.prev=5,r.next=8,Object(o.f)(S);case 8:c=r.sent,i=c.data,e(Object(L.g)({conversation:i})),ie({}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(5),Object(Z.e)("Failed to fetch messages or active conversation",r.t0);case 17:case"end":return r.stop()}},_callee2,null,[[5,14]])}));return function fetchInfoForActiveConversation(){return t.apply(this,arguments)}})()()},[S,e,ie,D,H,z]),Object(T.useEffect)(function(){M?(function(){var e=Object(c.a)(r.a.mark(function _callee3(){return r.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)({topic:"focus-frame",message:{name:"chat"}});case 2:case"end":return e.stop()}},_callee3)}));return function focus(){return e.apply(this,arguments)}}()(),q&&clearTimeout(q),u(!1)):q=setTimeout(function delaySetReflowHidden(){u(!0)},300)},[M]),Object(T.useEffect)(function(){if($.id&&!S){var e=!!Object(_.a)(null,["attributes","cta"],$),t="CHAT_RESPONSE"!==Object(_.a)(null,["attributes","cta","CtaType"],$);e&&t&&y(!0)}else y(!1)},[$,S,e]),Object(T.useEffect)(function(){Object(X.b)("WIDGET_CHAT_FRAME.start")},[]);var oe=Object(T.useMemo)(function(){if(Y)return d.a.UNAVAILABLE;var e=Object(G.a)(J);if(!e)return d.a.AVAILABLE;var t=Object(V.a)(-2,J);return Object(F.f)(e)||Object(F.f)(t)&&Object(F.h)(e)?d.a.UNAVAILABLE_BUTTONS:d.a.AVAILABLE},[J,Y]),se=Object(A.a)(J,S),ue=Object(T.useMemo)(function(){return Object(F.d)(se)},[se]),le=Object(T.useMemo)(function(){return B.a.createElement(p.a,{activeConversation:S,messageGroups:ue,messages:se,fetchMessages:ie,reflowHidden:a,disabled:ae})},[S,ue,se,ie,a,ae]),fe=Object(E.a)(),de=Object(T.useMemo)(function(){if(se&&se.length){var e=Object(G.a)(se);if(e&&Object(F.j)(e))return e}return null},[se]);return B.a.createElement("main",{className:"drift-widget-chat-layout",role:"main","aria-label":"Chat window"},B.a.createElement(m.a,null),B.a.createElement("div",{className:l()("drift-widget-chat-wrapper",{"drift-widget-chat-wrapper__open":M,"drift-widget-chat-wrapper__closed":!M,"drift-widget-chat-wrapper__reflow-hidden":a,"drift-widget-chat-wrapper__active-conversation":!!S&&te})},B.a.createElement(I,{activeConversation:S,chatHidden:a}),re&&B.a.createElement(b.a,null),S&&te&&B.a.createElement("div",{className:l()("drift-widget-message-history",{"drift-widget-message-history--with-footer":fe}),style:ce},le),B.a.createElement("div",{className:"drift-widget-chat-bottom"},!R&&te&&B.a.createElement(d.b,{state:oe,disabled:ae,onSubmit:function doSendMessage(t){if(ee&&!S){var n=Object(_.a)(null,["attributes","playbookId"],$);!function sendSubmittedEventForChatResponseCampaign(){$&&"CHAT_RESPONSE"===Object(_.a)(null,["attributes","cta","CtaType"],$)&&Object(x.c)(W.b.SUBMITTED,$.id)}(),Object(k.g)($.id,n)}e(Object(L.m)(t))},activeConversationId:S}),B.a.createElement(v.a,null)),S&&!!de&&B.a.createElement(O.a,{message:de})))};t.default=function(e){var t=Object(T.useState)(!1),n=Object(i.a)(t,2),a=n[0],o=n[1],s=Object(N.c)(function(e){return e.view.initComplete}),u=Object(N.c)(function(e){return Object(_.a)("en",["embed","configuration","locale"],e)});return Object(T.useEffect)(function(){s&&!a&&function(){var e=Object(c.a)(r.a.mark(function _callee4(){return r.a.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(z.a)(u);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Z.k)({data:["i18n failed to load - ".concat(e.t0.message),e.t0],type:"warn"});case 8:o(!0);case 9:case"end":return e.stop()}},_callee4,null,[[0,5]])}));return function runAsync(){return e.apply(this,arguments)}}()()},[s,a,u]),B.a.createElement(H.a,null,s&&a?B.a.createElement(K,e):B.a.createElement(f.a,null))}},SwvN:function(e,t,n){},g6eD:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o});var a=n("Cpup"),r=function toggleChat(e){return Object(a.a)({type:"TOGGLE_CHAT",payload:e})},c=function toggleConversationHistory(e){return Object(a.a)({type:"TOGGLE_CONVERSATION_HISTORY",payload:e})},i=function toggleInitComplete(e){return Object(a.a)({type:"INIT_COMPLETE",payload:e})},o=function toggleMatchedWidgetTargeting(e){return Object(a.a)({type:"TOGGLE_WIDGET_TARGETING_MATCHED",payload:e})}},hNWd:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("ERkP");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{fill:"#9DA9B0",fillRule:"evenodd",d:"M8 16c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zM8 1.333A6.674 6.674 0 0 0 1.333 8 6.674 6.674 0 0 0 8 14.667 6.674 6.674 0 0 0 14.667 8 6.674 6.674 0 0 0 8 1.333zm0 12c-1.942 0-3.705-1.167-4.601-3.046A.666.666 0 1 1 4.6 9.713C5.275 11.123 6.577 12 8 12c1.431 0 2.733-.875 3.397-2.285a.666.666 0 1 1 1.206.57c-.886 1.88-2.65 3.048-4.603 3.048zM10.667 8a1.335 1.335 0 0 1-1.334-1.333 1.335 1.335 0 0 1 2.667 0C12 7.402 11.402 8 10.667 8zM5.333 8A1.335 1.335 0 0 1 4 6.667c0-.736.599-1.334 1.333-1.334a1.335 1.335 0 0 1 0 2.667z"});function SvgEmoji(e,t){return a.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",ref:t},e),r)}var c=a.forwardRef(SvgEmoji);n.p},qixE:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return p});var a=n("mj2O"),r=n.n(a),c=n("7SM1"),i=n("OE2q"),o=n("QtlZ"),s=n("PCkZ"),u=n("DboL"),l=n("M7cN"),f=n("6lNa"),d=n("PjZB"),b=function(){var e=Object(c.a)(r.a.mark(function _callee(e){var t,n,a;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(e.email&&e.conversationId){r.next=2;break}return r.abrupt("return");case 2:return t={conversationId:e.conversationId,type:f.b.LEAD_CAPTURED,email:e.email,leadCapture:{email:e.email,integrations:Object(s.c)(),context:v()}},r.next=5,Object(i.h)(t);case 5:return n=r.sent,a=n.data,r.abrupt("return",a);case 8:case"end":return r.stop()}},_callee)}));return function createLeadCapturedConversationEvent(t){return e.apply(this,arguments)}}(),v=function hydrateConversationEventContext(){var e=o.a.getState().session,t=(void 0===e?{}:e).context||{},n=t.userAgent,a=t.locale,r=t.timezone,c=t.page;return{page:void 0===c?{}:c,locale:a,timezone:r,userAgent:n}},p=function getUnreadMostRecentConversation(e,t){var n=t.sessionStarted,a=parseInt(n),r=Object(u.a)(e).filter(function(e){return O(e,a)});return r.length?Object(l.a)(function(e){return e.lastMessage.createdAt},r)[0]:null},O=function isUnreadRecentConversation(e,t){return!!e.lastMessage&&null!==e.lastReadMessage&&e.lastMessage.viewerRecipientStatus!==d.f.READ&&e.conversation.type===f.c.CHAT&&e.lastMessage.authorType===d.b.USER&&e.lastMessage.createdAt>=1e3*t}},sXTY:function(e,t,n){},vwUF:function(e,t,n){"use strict";var a,r;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),function(e){e.NONE="NONE",e.PENDING="PENDING",e.ERROR="ERROR",e.SIZE_ERROR="SIZE_ERROR"}(a||(a={})),function(e){e[e.DEFAULT=26214400]="DEFAULT"}(r||(r={}))},xNFZ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("QtlZ"),r=n("LVcX"),c=n("0lfv"),i=function getRandomTeamMemberId(){var e=a.a.getState(),t=e.embed,n=void 0===t?{}:t,i=e.session,o=void 0===i?{}:i,s=Object(r.a)([],["configuration","team"],n);if(!s)return null;var u=s.map(function(e){return e.id});return u[Object(c.f)(u.length,o.sessionStarted)]}},y0on:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("0lfv"),r=function getNewMessageAriaLabel(e,t){return Object(a.j)(t)?null:"Chat message".concat(e?" from "+e:"",': "').concat(t,'"')}}}]);