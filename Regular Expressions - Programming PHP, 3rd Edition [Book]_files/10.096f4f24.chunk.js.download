(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+GZi":function(e,t,a){},"2VrW":function(e,t,a){},"8ZCy":function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return c}),a.d(t,"e",function(){return o});var n=155,i=18,r=7,c=r+7,o=80},"8eKL":function(e,t,a){"use strict";var n=a("mj2O"),i=a.n(n),r=a("7SM1"),c=a("s8DI"),o=a("O94r"),s=a.n(o),l=a("HXmn"),u=a("tGI+"),m=a("WwEg"),d=a("nfbA"),g=a("dZmz"),f=a("ERkP"),b=a.n(f),p=function Retry(e){var t=e.height,a=void 0===t?24:t,n=e.width,i=void 0===n?24:n;return b.a.createElement("svg",{className:"drift-default-icon drift-default-icon--retry",width:i,height:a,viewBox:"0 0 28 24"},b.a.createElement("path",{d:"M27.82 19.074c-0.17 0.085-0.353 0.126-0.53 0.126-0.436 0-0.854-0.244-1.063-0.664l-0.994-2.010c-1.762 4.469-5.996 7.474-11.002 7.474-5.438 0-10.298-3.548-11.82-8.628-0.19-0.635 0.164-1.304 0.792-1.496 0.624-0.193 1.29 0.166 1.48 0.8 1.222 4.076 5.148 6.924 9.548 6.924 4.128 0 7.481-2.436 8.838-6.126l-2.372 1.199c-0.588 0.298-1.3 0.056-1.592-0.536s-0.055-1.313 0.53-1.609l4.748-2.401c0.589-0.296 1.301-0.055 1.594 0.538l2.374 4.8c0.294 0.593 0.055 1.314-0.53 1.61zM25.259 10.126c-0.626 0.191-1.291-0.167-1.481-0.802-1.223-4.076-5.148-6.924-9.547-6.924-4.132 0-7.486 2.437-8.842 6.127l2.375-1.201c0.588-0.296 1.301-0.055 1.592 0.538 0.294 0.593 0.056 1.314-0.53 1.61l-4.748 2.399c-0.17 0.086-0.352 0.127-0.529 0.127-0.437 0-0.856-0.242-1.063-0.662l-2.375-4.801c-0.293-0.593-0.055-1.314 0.532-1.61 0.589-0.296 1.3-0.055 1.592 0.538l0.994 2.008c1.759-4.468 5.994-7.471 11.003-7.471 5.436 0 10.296 3.548 11.819 8.628 0.191 0.635-0.164 1.304-0.791 1.498z"}))},A=a("nQD+"),v=a("+Kbs"),E=a("8pzW"),j=a("liE7"),h=a("A5mO"),O=a("0lfv"),w=function MessageFooter(e){var t=e.message,a=e.isLastGroup,n=e.isLastMessage,i=e.delivered,r=e.generated,o=e.messageTimedOut,u=e.deliveryFailed,m=e.resolveMessageHeight,d=Object(j.useTranslation)().t,g=Object(f.useState)(!1),p=Object(c.a)(g,2),A=p[0],w=p[1];return Object(f.useEffect)(function(){(o||i)&&Object(O.d)(function(){return w(!1)},500),i||A||w(!0)},[i,o,A]),Object(f.useLayoutEffect)(function(){m()},[m,i,A,a,n,u]),!i||A?b.a.createElement("li",{key:"".concat(r,"-message-status"),className:s()("drift-widget-message drift-widget-message--meta-date drift-no-op",{"drift-widget-message-failed-status":u})},b.a.createElement("span",{className:"drift-widget-message--meta-status"},!A&&u?d("status.sendMessageFailed"):b.a.createElement(l.a,{size:"small",className:"drift-widget-message--meta-status__sending"}))):a||i?n&&a?b.a.createElement("li",{key:"".concat(t.createdAt,"-message-status"),className:"drift-widget-message--meta-date drift-widget-message"},b.a.createElement("div",{className:"drift-widget-message--meta-status"},b.a.createElement(v.i,{className:"drift-widget-message-sent",height:10,width:12}),b.a.createElement("span",{className:"drift-widget-message--meta-date-stamp"},Object(h.a)(i).unixFmt(E.c)))):null:b.a.createElement("li",{key:"".concat(r,"-message-status"),className:"drift-widget-message drift-widget-message--meta-date drift-no-op"})},y=a("lE29"),k=a("K7i0"),N=a("da4L"),M=a("LVcX"),C=a("uDfI"),S=a("PjZB"),T=a("EQxi"),_=a("58kB"),I=a("oPI6"),P=a("y0on"),z=/<a href=/gi,R=/(\s|^)(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/){1}[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/\S*)?/gm,x=/src\s*=\s*"(.+?)"/g,L=function HtmlMessage(e){var t=e.body,a=e.attributes,n=e.isLastMessage,i=e.authorId,r=e.isLastGroup,c=e.style,o=void 0===c?{}:c,l=e.resolveMessageHeight,u=void 0===l?function(){}:l,m=e.className,d=e.viewerRecipientStatus,g=e.authorType;Object(f.useLayoutEffect)(function(){u()},[u,t]);var p=Object(_.a)(i),A=Object(f.useMemo)(function(){return{images:t.match(x)||[],linkedBody:t.replace(z,'<a target="_blank" rel="noopener noreferrer" href=').replace(R,function(e,t){return"".concat(t,'<a href="').concat(e.trim(),'" target="_blank" rel="noopener noreferrer">').concat(e.trim(),"</a>")}).replace(/<img .*?>/g,"")}},[t]),v=A.images,E=A.linkedBody,j=n&&r&&g===S.b.USER&&d!==S.f.READ,h=j?Object(P.a)(p.recipient.name,a&&""!==a.preview?a.preview:t):null;return b.a.createElement("div",{className:s()("drift-widget-message--box drift-widget-message--HTML",m),style:o},j&&b.a.createElement(I.b,{message:h,"aria-live":"polite",clearOnUnmount:!0}),b.a.createElement("div",{dangerouslySetInnerHTML:{__html:E}}),v&&v.map(function(e,t){return b.a.createElement("img",{key:"drift-html-message-".concat(e,"-").concat(t),alt:"drift message",onLoad:u,src:e.replace('"',"").replace("src=","").replace('"',"")})}))},D=function(e){return Object(N.g)(e.body)?null:b.a.createElement(L,e)},B=(a("Wkzb"),function BotMessage(e){return b.a.createElement(D,Object.assign({},e,{className:"drift-widget-message--bot"}))}),G=(a("vYbd"),function Card(e){return b.a.createElement("div",Object.assign({},e,{className:s()("drift-widget-card",e.className)}),e.children)}),H=a("rmQ0"),F=a("Mur8"),K=a("i9gz"),V=(a("BZgG"),function ConversationRatingMessage(e){var t=(e.attributes||{}).conversationRating,a=(t=void 0===t?{}:t).ratingPrompt,n=(a=void 0===a?{}:a).ratingAcknowledgement,i=void 0===n?null:n,r=a.ratingPromptMessage,c=void 0===r?null:r,o=t.ratingText,l=void 0===o?null:o,u=t.ratingValue,m=void 0===u?null:u,d=l&&!Object(K.a)(l);return b.a.createElement(G,{className:"drift-widget-conversation-rating"},b.a.createElement(H.a,null,c),b.a.createElement("div",{className:"drift-widget-conversation-rating--rating"},b.a.createElement("div",{className:s()("drift-widget-conversation-rating--value",{"drift-widget-conversation-rating--value--with-text":d})},function getEmojiFromRatingValue(e){var t=F.a.find(function(t){return t.value===e});return t?t.emoji:null}(m)),l&&!Object(K.a)(l)&&b.a.createElement("div",{className:"drift-widget-conversation-rating--text"},l)),b.a.createElement("div",{className:"drift-widget-conversation-rating--footer"},i))}),U=a("NJA7"),J=function EmailSuccess(e){e.height,e.width;return b.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},b.a.createElement("path",{fill:"#0076FF",fillRule:"nonzero",d:"M21 24H3c-1.654 0-3-1.403-3-3.13V10.435c0-.009.004-.016.005-.024.002-.08.026-.156.045-.233.006-.03.008-.058.017-.087l.007-.013a1.02 1.02 0 0 1 .092-.186c.02-.037.03-.078.056-.113.011-.014.028-.02.04-.034.006-.006.014-.01.019-.017.019-.02.026-.047.046-.065l3.276-3.108a.97.97 0 0 1 1.413.07 1.075 1.075 0 0 1-.068 1.473l-2.412 2.289 5.73 4.823 2.71-2.317a1.604 1.604 0 0 1 2.04-.008l2.718 2.325 5.729-4.822-2.39-2.269a1.076 1.076 0 0 1-.07-1.473.971.971 0 0 1 1.413-.071l3.256 3.088c.02.018.028.044.045.064.007.007.014.01.02.018.013.014.03.02.04.034.028.036.037.077.058.114.036.06.068.12.091.184l.007.014c.01.03.012.061.019.092.018.075.04.15.043.227.001.008.005.016.005.025V20.87c0 1.727-1.346 3.13-3 3.13zM1.95 12.575v8.032l4.736-4.047-4.735-3.985zM12 14.715l-8.422 7.198h16.844L12 14.715zm10.142-2.217l-4.827 4.062 4.827 4.126v-8.188zM7.775 4.38l3.363 3.48L17.402.361a.987.987 0 0 1 1.424-.108c.422.376.47 1.035.105 1.471l-6.975 8.348a.988.988 0 0 1-1.478.056L6.347 5.855a1.068 1.068 0 0 1 0-1.476.987.987 0 0 1 1.428.001z"}))},Z=a("nvPd"),W=a("qixE"),Q=a("qwiD"),q=a("NFvl"),X=(a("n/d+"),function SuccessCapture(){var e=Object(j.useTranslation)().t;return b.a.createElement("div",{className:"drift-widget-offline-email-input-wrapper drift-widget-email-success"},b.a.createElement(J,null),b.a.createElement("p",{className:"drift-widget-success-message"},e("automessage.emailCapturedSuccess")))}),Y=function EmailCaptureMessage(e){var t=Object(j.useTranslation)().t,a=Object(C.b)(),n=Object(Z.a)(""),c=Object(C.c)(function(e){return e.session}).endUser,o=!!c.email&&!Object(K.a)(c.email),s=Object(C.c)(function(e){return e.conversations}).activeConversation,l=Object(C.c)(function(e){return Object(q.a)(["embed","configuration","theme","emailCaptureMessage"],e)}),u=Object(f.useMemo)(function(){return l&&!Object(K.a)(l)?l:t("automessage.emailCaptureMessage")},[l,t]),m=function(){var e=Object(r.a)(i.a.mark(function _callee(e){return i.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a(Object(Q.c)({email:n.value})),Object(W.a)({email:n.value,conversationId:s});case 3:case"end":return t.stop()}},_callee)}));return function submitEmail(t){return e.apply(this,arguments)}}(),d=t("form.label.emailAddress");return b.a.createElement(b.a.Fragment,null,b.a.createElement(D,Object.assign({},e,{body:u})),o?b.a.createElement(X,null):b.a.createElement("form",{className:"drift-widget-offline-email-capture",onSubmit:m},b.a.createElement("label",{htmlFor:"drift-widget-offline-email-capture-input",className:"drift-widget-offline-email-capture-label"},b.a.createElement("span",null,d,":"),b.a.createElement("fieldset",null,b.a.createElement("div",{className:"drift-widget-offline-email-capture-input-container"},b.a.createElement("input",Object.assign({id:"drift-widget-offline-email-capture-input",type:"email",placeholder:d},n,{required:!0}))),b.a.createElement(U.a,{className:"drift-widget-offline-email-button",invertColors:!0,type:"submit"},t("form.label.submit"))))))},$=a("fJpD"),ee=a("NCI6"),te=a("pgTp"),ae=a("jm9a"),ne=(a("Q0X4"),function LoadingDots(e){var t=e.size,a=void 0===t?null:t;return b.a.createElement("div",{className:s()("widget-loading-dots",Object(ae.a)({},"widget-loading-dots--".concat(a),!!a))},b.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-1"},"."),b.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-2"},"."),b.a.createElement("span",{className:"widget-loading-dot widget-loading-dot-delay-3"},"."))}),ie=a("7IKl"),re=a("fw6E"),ce=a("SsZN"),oe=a("+oIK"),se=function translateErrorMessage(e){if(!e||!e.message)return"meeting.scheduleAMeetingError";switch(e.message){case"The requested slot cannot be in the past":return"meeting.scheduleAMeetingTimePassedError";case"The requested slot does not fall within agent-configured availability":case"The requested slot does not respect the agent-configured minimum notice time":case"The requested slot--padded by buffer time on both sides--conflicts with an existing event":case"The requested slot--padded by buffer time on both sides--conflicts with an existing point-in-time event":return"meeting.scheduleAMeetingAlreadyBookedError";default:return"meeting.scheduleAMeetingError"}},le=function getTimeZoneGroupI18nKey(e){return"tz.group.".concat(e)},ue=function getTimeZoneI18nKey(e){return"tz.".concat(e)},me=a("noex"),de=a("ey6Y"),ge=function MeetingRecipients(e){var t=e.avatarSize,a=void 0===t?"SMALL":t,n=e.additionalRecipientIds,i=void 0===n?[]:n,r=e.primaryRecipientId,c=void 0===r?null:r,o=Object(de.a)(c,i);return b.a.createElement("div",{className:"drift-meeting-recipients"},b.a.createElement("div",{className:"drift-meeting-scheduler--avatar"},[c].concat(Object(m.a)(i)).map(function(e,t){return b.a.createElement(me.a,{size:a,id:e,key:"agent-avatar-".concat(t)})})),b.a.createElement("p",{className:"drift-meeting-recipient-name"},o))},fe=function MeetingConfirmation(e){var t=e.meetingTime,a=e.meetingAgentId,n=e.additionalAgents,i=e.meetingDuration,r=e.timezone,c=e.onBackClicked,o=e.onConfirmClicked,s=e.isBookingPending,l=e.resolveMessageHeight,u=e.isConfirmed,m=void 0!==u&&u,d=e.disabled,g=void 0!==d&&d,p=Object(j.useTranslation)(),E=p.t,O=p.i18n,w=Object(h.a)(t).format("{month} {".concat("en"===O.lang?"date-ordinal":"date","}, {year}")),y=Object(h.a)(t).format("time"),k=Object(h.a)(t).add(i,"minute").format("time"),N=E(ue(r));return Object(f.useEffect)(l,[s,m]),b.a.createElement("div",{className:"drift-meeting-card-body"},!m&&b.a.createElement(A.a,{className:"drift-meeting-back-button",onClick:c,"aria-label":"back",disabled:g},b.a.createElement(v.b,null)),b.a.createElement(ge,{additionalRecipientIds:n,avatarSize:"LARGE",primaryRecipientId:a}),b.a.createElement("div",{className:"drift-meeting-confirmation"},b.a.createElement("span",{className:"drift-meeting-confirmation--time"},y," - ",k),b.a.createElement("span",{className:"drift-meeting-confirmation--date"},w),b.a.createElement("span",{className:"drift-meeting-confirmation--timezone"},N)),!m&&b.a.createElement(U.a,{className:"drift-meeting-confirmation__confirm",onClick:o,invertColors:!0,invertOnHover:!0,disabled:g},E("meeting.schedule")))},be=a("jITz"),pe=a("o3t1"),Ae=a("hm8b"),ve=function TimezoneChangeButton(e){var t=e.onClick,a=e.timezoneName,n=e.disabled,i=void 0!==n&&n,r=Object(y.a)().primaryTextColor;return b.a.createElement(A.a,{onClick:t,style:r,"aria-label":"".concat(a," - Activate to change time zone"),disabled:i},"(",a,")")},Ee=(a("fmuz"),function MeetingSlotListItem(e){var t=e.meetingSlot,a=e.onItemClicked,n=e.disabled,i=Object(pe.a)(),r=i.hoverProps,c=i.isHovered,o=Object(y.a)(),s=o.borderStyles,l=o.primaryTextColor;return b.a.createElement("li",Object.assign({className:"drift-meeting-day-picker--list-item"},r,{style:c?Object(d.a)({},s):{}}),b.a.createElement(A.a,{onClick:a,disabled:n},b.a.createElement("span",{style:c?Object(d.a)({},l):{}},t.day),b.a.createElement("span",{style:c?Object(d.a)({},l):{}},t.date)))}),je=function MeetingDayPicker(e){var t=e.timezone,a=e.meetingInfo,n=e.meetingSlotSets,i=e.onMeetingDateChosen,r=e.onTimezoneLinkClick,o=e.resolveMessageHeight,s=e.disabled,l=void 0!==s&&s,u=Object(j.useTranslation)().t,m=Object(f.useState)(0),d=Object(c.a)(m,2),g=d[0],p=d[1],v=Object(f.useCallback)(function(){g!==n.length&&p(g+1)},[g,n]),E=Object(f.useCallback)(function(){g>0&&p(g-1)},[g]),h=Object(be.a)({targetKey:"ArrowRight"}),O=Object(be.a)({targetKey:"ArrowLeft"}),w=Object(y.a)().primaryTextColor;return Object(f.useEffect)(function(){h&&v(),O&&E()},[h,O,E,v]),Object(f.useEffect)(o,[n]),Object(Ae.a)(n)?null:b.a.createElement("div",{className:"drift-meeting-day-picker"},b.a.createElement(ge,{primaryRecipientId:a.meetingRecipientAgentId,additionalRecipientIds:a.additionalAgents}),b.a.createElement("div",{className:"drift-meeting-day-picker--timezone"},b.a.createElement("span",{className:"drift-meeting-day-picker--timezone-label"},u("meeting.selectADay")),b.a.createElement(ve,{onClick:r,timezoneName:t.name,disabled:l})),b.a.createElement("ul",{className:"drift-meeting-day-picker--slots"},n[g].map(function(e,t){return b.a.createElement(Ee,{key:"meeting-slot-".concat(t),meetingSlot:e,onItemClicked:function onItemClicked(){return i(e)},disabled:l})})),b.a.createElement("div",{className:"drift-meeting-day-picker--slot-nav"},g>0&&b.a.createElement(A.a,{className:"drift-meeting-day-picker--slot-prev",onClick:function onClick(){return E()},style:w,disabled:l},u("meeting.prev")),g!==n.length-1&&b.a.createElement(A.a,{className:"drift-meeting-day-picker--slot-next",onClick:function onClick(){return v()},style:w,disabled:l},u("meeting.next"))))},he=function MeetingError(e){var t=e.message,a=e.onRetryClicked,n=e.disabled,i=Object(j.useTranslation)().t;return b.a.createElement("div",{className:"drift-meeting-error"},b.a.createElement(v.d,null),b.a.createElement("div",{className:"drift-meeting-error-message"},b.a.createElement("span",null,t)),b.a.createElement(U.a,{onClick:a,disabled:n},i("meeting.chooseNewTime")))},Oe=function MeetingPoweredByDrift(e){var t=e.redirectUrl;return b.a.createElement("div",{className:"drift-meeting-confirmed-text"},b.a.createElement("a",{href:t},b.a.createElement(j.Trans,{i18nKey:"composer.footer.meetingPoweredByDrift",components:[b.a.createElement(v.c,{height:12,width:12})]})))},we=function MeetingSchedulerCard(e){var t=e.duration,a=e.children,n=Object(j.useTranslation)().t;return b.a.createElement(G,{className:"drift-meeting-scheduler"},b.a.createElement(H.a,{className:"drift-meeting-scheduler--header"},b.a.createElement("span",null,n("meeting.scheduleAMeeting")),t&&b.a.createElement("span",null,n("meeting.duration",{duration:t}))),b.a.createElement("div",{className:"drift-meeting-scheduler--content"},a))},ye=a("KwHb"),ke=function MeetingTimeSlot(e){var t=e.onMeetingTimeChosen,a=e.index,n=e.timeSlot,i=e.timezone,r=e.disabled,c=Object(pe.a)(),o=c.hoverProps,s=c.isHovered,l=Object(y.a)(),u=l.borderStyles,m=l.primaryTextColor;return b.a.createElement("li",Object.assign({className:"drift-meeting-time-picker--slot",key:"slot-".concat(a)},o,{style:s?Object(d.a)({},u):{}}),b.a.createElement(A.a,{onClick:function onClick(){return t(n)},disabled:r},b.a.createElement("span",{style:s?Object(d.a)({},m):{}},Object(h.a)(n,i.value).format("time"))))},Ne=function MeetingTimePicker(e){e.additionalAgents,e.meetingAgentId;var t=e.timezone,a=e.meetingSlot,n=e.onBackClicked,i=e.onMeetingTimeChosen,r=e.onTimezoneLinkClick,o=e.resolveMessageHeight,s=e.disabled,l=void 0!==s&&s,u=Object(j.useTranslation)().t,m=Object(f.useState)(0),d=Object(c.a)(m,2),g=d[0],p=d[1],E=Object(ye.a)(6,a.slots),h=Object(f.useCallback)(function(){g!==E.length-1&&p(g+1)},[g,E]),O=Object(f.useCallback)(function(){g>0&&p(g-1)},[g]),w=Object(be.a)({targetKey:"ArrowRight"}),k=Object(be.a)({targetKey:"ArrowLeft"}),N=Object(y.a)().primaryTextColor;return Object(f.useEffect)(function(){w&&h(),k&&O()},[w,k,h,O]),Object(f.useEffect)(o,[g]),b.a.createElement("div",{className:"drift-meeting-time-picker"},b.a.createElement("header",{className:"drift-meeting-time-picker--header"},b.a.createElement(A.a,{className:"drift-meeting-back-button",onClick:n,"aria-label":"back",disabled:l},b.a.createElement(v.b,null)),b.a.createElement("span",{className:"drift-meeting-time-picker--header-day"},a.day," ",a.date)),b.a.createElement("div",{className:"drift-meeting-day-picker--timezone"},b.a.createElement("span",{className:"drift-meeting-day-picker--timezone-label"},u("meeting.selectATime")),b.a.createElement(ve,{onClick:r,timezoneName:t.name,disabled:l})),b.a.createElement("ul",{className:"drift-meeting-time-picker--timeslots"},E[g].map(function(e,a){return b.a.createElement(ke,{key:"drift-meeting-time-slot-".concat(a),onMeetingTimeChosen:i,index:a,timeSlot:e,timezone:t,disabled:l})})),b.a.createElement("div",{className:"drift-meeting-day-picker--slot-nav"},g>0&&b.a.createElement(A.a,{className:"drift-meeting-day-picker--slot-prev",onClick:function onClick(){return O()},style:N,disabled:l},u("meeting.prev")),g!==E.length-1&&b.a.createElement(A.a,{className:"drift-meeting-day-picker--slot-next",onClick:function onClick(){return h()},style:N,disabled:l},u("meeting.next"))))},Me=a("oxCZ"),Ce=a.n(Me),Se=[{group:"us",zones:["America/Puerto_Rico","America/New_York","America/Chicago","America/Denver","America/Phoenix","America/Los_Angeles","America/Anchorage","Pacific/Honolulu"]},{group:"america",zones:["America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Atka","America/Bahia","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Ensenada","America/Fortaleza","America/Fort_Wayne","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Knox_IN","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Porto_Acre","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Rosario","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Shiprock","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Virgin","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","US/Eastern"]},{group:"europe",zones:["Europe/Amsterdam","Europe/Andorra","Europe/Athens","Europe/Belfast","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Nicosia","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Tiraspol","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich"]},{group:"asia",zones:["Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Ashkhabad","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Choibalsan","Asia/Chongqing","Asia/Chungking","Asia/Colombo","Asia/Dacca","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Gaza","Asia/Harbin","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Istanbul","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kashgar","Asia/Kathmandu","Asia/Katmandu","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macao","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Tel_Aviv","Asia/Thimbu","Asia/Thimphu","Asia/Tokyo","Asia/Ujung_Pandang","Asia/Ulaanbaatar","Asia/Ulan_Bator","Asia/Urumqi","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan"]},{group:"africa",zones:["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Timbuktu","Africa/Tripoli","Africa/Tunis","Africa/Windhoek"]},{group:"australia",zones:["Australia/ACT","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Canberra","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/LHI","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/North","Australia/NSW","Australia/Perth","Australia/Queensland","Australia/South","Australia/Sydney","Australia/Tasmania","Australia/Victoria","Australia/West","Australia/Yancowinna"]},{group:"indian",zones:["Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion"]},{group:"atlantic",zones:["Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Faroe","Atlantic/Jan_Mayen","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Atlantic/St_Helena"]},{group:"pacific",zones:["Pacific/Apia","Pacific/Auckland","Pacific/Chatham","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Samoa","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis","Pacific/Yap"]},{group:"antarctica",zones:["Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/South_Pole","Antarctica/Syowa","Antarctica/Vostok"]},{group:"arctic",zones:["Arctic/Longyearbyen"]}],Te={threshold:.4,keys:["value","name"]},_e=function TimezoneList(e){var t=e.timezoneOptions,a=e.onTimezoneSelect,n=e.disabled,i=t.filter(function(e){return!!e.zones.length});return b.a.createElement("ul",{className:"drift-meeting-timezone-picker__list"},i.map(function(e,t){var i=b.a.createElement("li",{className:"drift-meeting-timezone-picker-group",key:"timezone-option-group-".concat(t)},e.group),r=e.zones.map(function(e,t){return b.a.createElement("li",{className:"drift-meeting-timezone-picker-list-item",key:"timezone-option-".concat(t)},b.a.createElement(A.a,{onClick:function onClick(){return a(e)},disabled:n},e.name))});return[i].concat(Object(m.a)(r))}))},Ie=function TimezonePicker(e){var t=e.onBack,a=e.onTimezoneSelect,n=e.resolveMessageHeight,i=e.disabled,r=void 0!==i&&i,o=Object(j.useTranslation)().t,s=Object(f.useMemo)(function(){return function translateTimeZones(e){return Se.map(function(t){return{group:e(le(t.group)),zones:t.zones.map(function(t){return{name:e(ue(t)),value:t}})}})}(o)},[o]),l=Object(f.useState)(s),u=Object(c.a)(l,2),m=u[0],d=u[1],g=Object(Z.a)("");return Object(f.useEffect)(function(){if(""!==g.value){var e=s.map(function(e){var t=new Ce.a(e.zones,Te);return{group:e.group,zones:t.search(g.value)}});d(e)}else d(s)},[g,s]),Object(f.useEffect)(n,[]),b.a.createElement("div",{className:"drift-meeting-timezone-picker"},b.a.createElement("div",{className:"drift-meeting-timezone__header"},b.a.createElement(A.a,{className:"drift-meeting-back-button drift-meeting-timezone-back-button",onClick:t,"aria-label":"back",disabled:r},b.a.createElement(v.b,null)),b.a.createElement("span",{className:"drift-meeting-timezone__title"},o("meeting.timeZone"))),b.a.createElement("div",{className:"drift-meeting-timezone-picker--container"},b.a.createElement("div",{className:"drift-meeting-timezone-picker-input"},b.a.createElement(v.m,{width:10,height:10}),b.a.createElement("input",Object.assign({type:"text",placeholder:o("meeting.timeZoneSearchPlaceholder")},g,{disabled:r}))),b.a.createElement(_e,{timezoneOptions:m,onTimezoneSelect:a,disabled:r})))},Pe=function MeetingScheduler(e){var t=e.messageId,a=e.resolveMessageHeight,n=e.redirectUrl,o=void 0===n?"":n,s=e.isScheduled,l=void 0!==s&&s,u=Object(j.useTranslation)(),m=u.t,d=u.i18n,g=Object(f.useState)(),p=Object(c.a)(g,2),A=p[0],v=p[1],E=Object(f.useState)([]),w=Object(c.a)(E,2),y=w[0],N=w[1],S=Object(f.useState)(!1),T=Object(c.a)(S,2),_=T[0],I=T[1],P=Object(f.useState)(null),z=Object(c.a)(P,2),R=z[0],x=z[1],L=Object(f.useState)(null),D=Object(c.a)(L,2),B=D[0],G=D[1],H=Object(f.useState)(null),F=Object(c.a)(H,2),K=F[0],V=F[1],U=Object(f.useState)(l),J=Object(c.a)(U,2),Z=J[0],W=J[1],Q=Object(f.useState)(!1),q=Object(c.a)(Q,2),X=q[0],Y=q[1],ee=Object(f.useState)(!1),ae=Object(c.a)(ee,2),le=ae[0],me=ae[1],de=Object(f.useState)(!1),be=Object(c.a)(de,2),pe=be[0],Ae=be[1],ve=Object(f.useState)(null),Ee=Object(c.a)(ve,2),ye=Ee[0],ke=Ee[1],Me=Object(C.c)(function(e){return e.conversations}).activeConversation,Ce=Object($.a)(t),Se=Object(ie.a)(Ce.meetingRecipientAgentId),Te=Object(re.a)().conversationHistoryOpen,_e=Object(C.b)(),Pe=Object(f.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(M.a)([],["slots"],e);return a.reduce(function(e,a){var n;try{n=Object(h.a)(a,t.value)}catch(r){Object(O.k)({data:["Unable to translate non-IANA timezone",r,t.value]}),n=Object(h.a)(a,"America/New_York")}var i=n.format("{iso-month}_{date}_{year}");return e[i]?e[i].slots.push(a):e[i]=function createMeetingSlot(e,t,a){return{day:t.format("{day}"),date:t.format("{month} {".concat("en"===d.lang?"date-ordinal":"date","}, {year}")),slots:[a]}}(0,n,a),e},{})},[d]),ze=Object(f.useCallback)(Object(r.a)(i.a.mark(function _callee(){var e,t,a;return i.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Y(!0),n.next=4,Object(te.a)({agentId:Ce.meetingRecipientAgentId,additionalAgents:Ce.additionalAgents,orgMeetingType:Ce.orgMeetingType});case 4:e=n.sent,t=e.data,v(t),x({name:m(ue(t.agentTimezone)),value:t.agentTimezone}),Y(!1),n.next=17;break;case 11:n.prev=11,n.t0=n.catch(0),a=Object(M.a)({},["response","data"],n.t0),Ae(!0),ke(se(a)),Y(!1);case 17:case"end":return n.stop()}},_callee,null,[[0,11]])})),[Ce.additionalAgents,Ce.meetingRecipientAgentId,Ce.orgMeetingType,m]);Object(f.useEffect)(function(){if(A&&R){var e=Pe(A,R),t=Object(O.b)(3,e);N(t)}},[R,A,Pe]),Object(f.useEffect)(function(){ze()},[ze]);var Re=function sendMeetingMessage(e){var t={id:e.id,url:e.url,availabilitySlot:K,slotDuration:A.slotDuration,agentId:Ce.meetingRecipientAgentId,bookingAgentId:Ce.schedulingAgentId,conversationId:Me,endUserTimezone:R.value,agentTimezone:A.agentTimezone};_e(Object(k.m)({message:Object(oe.a)({activeConversation:Me,message:"",attributes:{scheduleMeetingFlow:!0,meetingType:Ce.meetingType,scheduleMeetingWith:Ce.meetingRecipientAgentId,widgetGuid:Object(O.n)(),appointmentInfo:t},isMetaMessage:!0})}))},xe=function(){var e=Object(r.a)(i.a.mark(function _callee2(){var e,t;return i.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return me(!0),a.prev=1,a.next=4,Object(te.b)({endUserTimeZone:R.value,availabilitySlot:K,agentId:Ce.meetingRecipientAgentId,meetingType:Ce.meetingType,meetingSource:Ce.meetingSource,conversationId:Me,bookedByUserId:Ce.schedulingAgentId,orgMeetingType:Ce.orgMeetingType});case 4:e=a.sent,Object(ce.k)({agentId:Ce.meetingRecipientAgentId,meetingTime:K,duration:A.slotDuration,timeZone:R.value,conversationId:Me}),W(!0),me(!1),Re(e.data),a.next=18;break;case 11:a.prev=11,a.t0=a.catch(1),t=Object(M.a)({},["response","data"],a.t0),Ae(!0),me(!1),t&&"Conflict"===t.key&&v(null),ke(se(t));case 18:case"end":return a.stop()}},_callee2,null,[[1,11]])}));return function bookMeeting(){return e.apply(this,arguments)}}(),Le=function onTimezoneLinkClick(){return I(!0)},De=!!B&&!K&&!_,Be=!B&&!K&&!_,Ge=!!B&&!!K&&!_,He=X||!y.length,Fe=function clearMeetingSlot(){return G(null)},Ke=function clearMeetingTime(){return V(null)};return Object(f.useEffect)(function(){return function(){}},[_e,t,Z]),Object(f.useLayoutEffect)(a,[He,pe]),pe?b.a.createElement(we,null,b.a.createElement(he,{message:m(ye,{agent:Se}),onRetryClicked:function onMeetingScheduleRetry(){Ae(!1),Fe(),Ke(),A&&!Be||ze()},disabled:Te})):He||le?b.a.createElement(we,null,b.a.createElement("div",{className:"drift-meeting-card-body loading-state"},b.a.createElement(ge,{additionalRecipientIds:Ce.additionalAgents,avatarSize:"LARGE",primaryRecipientId:Ce.meetingRecipientAgentId}),b.a.createElement(ne,{size:"LARGE"}),b.a.createElement(Oe,{redirectUrl:o}))):b.a.createElement(we,{duration:A.slotDuration},b.a.createElement("div",{className:"drift-meeting-scheduler--meeting-info"},Be&&b.a.createElement(je,{timezone:R,onMeetingDateChosen:function onMeetingDateChosen(e){G(e)},meetingSlotSets:y,meetingInfo:Ce,onTimezoneLinkClick:Le,resolveMessageHeight:a,disabled:Te}),De&&b.a.createElement(Ne,{meetingAgentId:Ce.meetingRecipientAgentId,additionalAgents:Ce.additionalAgents,timezone:R,meetingSlot:B,onBackClicked:Fe,onMeetingTimeChosen:function onMeetingTimeChosen(e){V(e)},onTimezoneLinkClick:Le,resolveMessageHeight:a,disabled:Te}),Ge&&b.a.createElement(fe,{meetingDuration:A.slotDuration,meetingAgentId:Ce.meetingRecipientAgentId,additionalAgents:Ce.additionalAgents,meetingTime:K,timezone:R.value,onBackClicked:Ke,onConfirmClicked:xe,isBookingPending:le,isConfirmed:Z,resolveMessageHeight:a,disabled:Te}),_&&b.a.createElement(Ie,{onTimezoneSelect:function onTimezoneSelected(e){x(e),I(!1)},onBack:function onTimezoneSelectBack(){return I(!1)},resolveMessageHeight:a,disabled:Te})))},ze=function MeetingMessage(e){var t=e.attributes,a=e.id,n=e.body,o=void 0===n?"":n,s=e.resolveMessageHeight,l=e.nextMessage,u=Object(M.a)(a,["widgetGuid"],t),m=Object($.a)(u),d=m.shouldPresentConfirmationCard,g=m.shouldPresentSchedulingCard,p=m.appointmentInfo,A=m.additionalAgents,v=Object(f.useState)(""),E=Object(c.a)(v,2),j=E[0],h=E[1],w=!!Object(M.a)(null,["attributes","appointmentInfo"],l);return Object(f.useEffect)(function(){!function(){var e=Object(r.a)(i.a.mark(function _callee(){var e;return i.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ee.a)("scheduling-card");case 3:e=t.sent,h(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(O.k)({data:["Failed to get referral URL: ".concat(t.t0)]});case 10:case"end":return t.stop()}},_callee,null,[[0,7]])}));return function getDriftReferralUrl(){return e.apply(this,arguments)}}()()},[]),g?b.a.createElement(b.a.Fragment,null,b.a.createElement(D,Object.assign({},e,{body:o})),!w&&b.a.createElement(Pe,{messageId:a,redirectUrl:j,resolveMessageHeight:s})):d?b.a.createElement(we,{duration:p.slotDuration},b.a.createElement("div",{className:"drift-meeting-scheduler--meeting-info"},b.a.createElement(fe,{meetingDuration:p.slotDuration,meetingTime:p.availabilitySlot,meetingAgentId:p.agentId,additionalAgents:A,timezone:p.endUserTimezone,resolveMessageHeight:s,isConfirmed:!0}),b.a.createElement(Oe,{redirectUrl:j}))):null},Re=D,xe=a("UXBQ"),Le=a("ggb3"),De=a.n(Le),Be=function FileAttachmentMessage(e){var t=e.attachment,a=void 0===t?{}:t,n=e.multi,i=Object(y.a)(),r=i.buttonStyles,c=i.inlineFileStyles;return a.fileName?b.a.createElement(b.a.Fragment,null,b.a.createElement(A.a,{className:"drift-widget-message--file",style:n?r:c,onClick:function onClick(){return function downloadFile(e){var t=document.createElement("a");t.style.display="none",t.href=e.publicUrl,t.download=e.fileName,t.click()}(a)},"aria-label":"download file"},b.a.createElement(v.k,{width:16,height:16}),b.a.createElement("span",{className:"drift-widget-attachment--filename",title:a.fileName},a.fileName))):null},Ge=a("7oto"),He=function ImageAttachmentMessage(e){var t=e.attachment,a=void 0===t?{}:t,n=e.resolveMessageHeight,i=void 0===n?function(){}:n,r=Object(f.useState)(!1),o=Object(c.a)(r,2),s=o[0],l=o[1];return b.a.createElement(b.a.Fragment,null,b.a.createElement(A.a,{className:"drift-widget-attachment--img","aria-label":"fullscreen file",onClick:function onClick(){return function triggerFullScreen(e){Object(Ge.a)({topic:"generate-new-content-box",message:{type:"image",media:e}})}(a.publicUrl)}},b.a.createElement("img",{src:a.publicUrl,alt:a.fileName,onLoad:function onLoad(){!s&&i(),!s&&l(!0)}})))},Fe=(a("Qp3a"),function AttachmentMessage(e){var t=e.attachmentIds,a=void 0===t?[]:t,n=e.style,c=e.resolveMessageHeight,o=Object(C.b)(),l=Object(C.c)(function(e){return e.conversations.attachments}),u=De.a.CancelToken.source();Object(f.useEffect)(function(){var e=a.filter(function(e){return!l[e]}),t=function(){var t=Object(r.a)(i.a.mark(function _callee(){var t,a;return i.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(xe.a)(e,u.token);case 3:t=n.sent,a=t.data,o(Object(k.e)({attachments:a})),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},_callee,null,[[0,8]])}));return function fetchAttachmentsForMessage(){return t.apply(this,arguments)}}();return e.length&&t(),function(){u.cancel()}},[l,a,u,o]);var m=Object(f.useMemo)(function(){return a&&a.map(function(e){return l[e]?function isImage(e){var t=e.mimeType;return/image/.test(t)&&"image/svg+xml"!==t}(l[e])?b.a.createElement(He,{attachment:l[e],key:"drift-widget-attachment--".concat(e),resolveMessageHeight:c}):b.a.createElement(Be,{multi:a.length>1,attachment:l[e],key:"drift-widget-attachment--".concat(e)}):null})},[a,l,c]);return b.a.createElement("div",{style:n,className:s()("drift-widget-attachment drift-widget-message--box",{"drift-widget-attachment--multi":a&&a.length>1})},m)}),Ke=(a("mQ2C"),function UnfurlMessage(e){var t=e.unfurlData,a=e.style,n=void 0===a?{}:a,i=e.resolveMessageHeight,r=void 0===i?function(){}:i,c=e.sender,o=t.html,l=t.meta,u=void 0===l?{}:l,m=t.links,d=void 0===m?{}:m,g=t.url,p=void 0===g?"":g,A=t.rel,v=void 0===A?[]:A;Object(f.useLayoutEffect)(function(){r()},[r,o]);var E=Object(f.useMemo)(function(){return!!u.title||!!u.description||!!u.site},[u]),j=Object(f.useMemo)(function(){return Object(M.a)(null,["thumbnail",0],d)},[d]),h=Object(f.useMemo)(function(){return Object(M.a)(p,["site"],u)},[p,u]),O=Object(f.useMemo)(function(){return v[0]},[v]),w=Object(f.useMemo)(function(){return"player"===O},[O]),y=Object(f.useMemo)(function(){return"summary"===O},[O]);return Object(f.useMemo)(function(){return y||w||E},[y,w,E])?b.a.createElement("li",{className:"drift-widget-message drift-widget-message--unfurl drift-widget-message-sender--".concat(c)},b.a.createElement("div",{className:s()("drift-widget-message--box drift-widget-message--unfurl-container"),style:n},w&&b.a.createElement("div",{className:"drift-widget-message--unfurl-video",dangerouslySetInnerHTML:{__html:o}}),y&&j&&b.a.createElement("div",{className:"drift-widget-message--unfurl-image"},b.a.createElement("img",{alt:"".concat(h," - thumbnail"),src:j.href})),E&&b.a.createElement("div",{className:"drift-widget-message--unfurl_meta"},u.title&&b.a.createElement("h3",{className:"drift-widget-message--unfurl_title"},b.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:p,title:u.title},u.title)),u.description&&b.a.createElement("p",{className:"drift-widget-message--unfurl_description"},u.description),u.site&&b.a.createElement("p",{className:"drift-widget-message--unfurl_site"},u.site)))):null}),Ve=(a("ZP32"),function MessageSentTimestamp(e){var t=e.sender,a=e.deliveredAt;return b.a.createElement("span",{className:"drift-widget-message-timestamp drift-widget-message-timestamp--".concat(t)},Object(h.a)(a).unixFmt(E.c))}),Ue=function MessageComponent(e){var t=e.message,a=e.nextMessage,n=e.isLastGroup,i=e.isLastMessage,r=e.resolveMessageHeight,o=Object(f.useState)([]),l=Object(c.a)(o,2),u=l[0],v=l[1],E=Object(f.useState)(null),j=Object(c.a)(E,2),_=j[0],I=j[1],P=Object(C.b)(),z=Object(C.c)(function(e){return Object(M.a)(!1,["embed","configuration","theme","showUnfurl"],e)}),R=Object(y.a)(),x=R.backgroundStyles,L=R.borderStyles,D=R.textColorStyles,G=function resolveMessageComponent(e){var t=e.attributes,a=t.isBot,n=void 0!==a&&a,i=t.show_email_capture_card,r=t.conversationRating;return i?Y:Object(N.i)(e)?ze:n?B:r?V:Re}(t),H=Object(N.h)(t)?S.d.END_USER:S.d.AGENT;Object(f.useEffect)(function(){if(!Object(N.e)(t,"instantMeeting")){var e=Object(m.a)(Object(T.a)(t.body));e.length&&v(e)}},[t]),Object(f.useEffect)(function(){if(u.length>0){var e=document.createElement("textarea");e.innerHTML=u[0],Object(g.a)(e.value.replace("#61;","")).then(function(e){var t=e.data;t.html&&I(t)}).catch(function(e){return Object(O.k)({data:["Failed to unfurl url: ".concat(u[0]),e]})})}},[u]),Object(f.useLayoutEffect)(function(){r()},[r,n]);var F=!!t.attributes.appointmentInfo||!!t.attributes.conversationRating||t.type===S.e.EMAIL_CAPTURE_CARD,K=!!t.body||F,U=z&&_,J=t.attachments&&t.attachments.length>0;if(!K&&!U&&!J)return null;var Z=Object(M.a)(null,["createdAt"])(t),W=Object(M.a)(null,["attributes","generatedAt"])(t),Q=!Z&&h.a.now().isAfter(Object(h.a)(W).add(30,"second")),q=!Z&&Q;return b.a.createElement(b.a.Fragment,null,K&&b.a.createElement("li",{className:s()("drift-widget-message drift-widget-message-sender--".concat(H),{"drift-widget-message-failed":q})},b.a.createElement(G,Object.assign({},t,{isLastGroup:n,isLastMessage:i,nextMessage:a,resolveMessageHeight:r,style:H===S.d.END_USER?Object(d.a)(Object(d.a)({},x),D):{}})),!F&&Z&&b.a.createElement(Ve,{sender:H,deliveredAt:Z}),q&&b.a.createElement(A.a,{onClick:function doSendMessage(){P(Object(k.m)({message:Object(d.a)(Object(d.a)({},t),{},{attributes:Object(d.a)(Object(d.a)({},t.attributes),{},{generatedAt:(new Date).valueOf()})})}))}},b.a.createElement(p,{height:12,width:12}))),U&&b.a.createElement(Ke,{unfurlData:_,resolveMessageHeight:r,style:H===S.d.END_USER?Object(d.a)({},L):{},sender:H}),J&&b.a.createElement("li",{className:"drift-widget-message drift-widget-message-sender--".concat(H)},b.a.createElement(Fe,{attachmentIds:t.attachments,resolveMessageHeight:r,style:H===S.d.END_USER?Object(d.a)(Object(d.a)({},x),D):{}}),b.a.createElement(Ve,{sender:H,deliveredAt:Z})),b.a.createElement(w,{message:t,isLastGroup:n,isLastMessage:i,delivered:Z,generated:W,messageTimedOut:Q,deliveryFailed:q,resolveMessageHeight:r}))},Je=a("yEsl"),Ze=(a("UwV1"),function getAvatarPositionClassName(e){var t=Object(N.i)(e),a=e.attributes.show_email_capture_card;return"message-group-avatar-".concat(void 0!==a&&a||t?"top":"bottom")}),We=function MessageGroupHeader(e){var t=e.senderType,a=e.senderId,n=Object(ie.a)(a);return t!==S.d.AGENT?null:b.a.createElement("li",{className:"drift-widget-message-sender"},b.a.createElement("span",{className:"drift-widget-message--meta-author"},n))},Qe=function MessageGroup(e){var t=e.messages,a=void 0===t?[]:t,n=e.isLastGroup,i=void 0!==n&&n,r=e.showTimestamp,o=void 0!==r&&r,l=e.role,m=void 0===l?"cell":l,d=e.resolveMessageHeight,g=void 0===d?function(){}:d,p=Object(j.useTranslation)().t;Object(f.useLayoutEffect)(function(){g()},[g,i,o]);var A=Object(c.a)(a,1)[0],v=Object(N.h)(A)?S.d.END_USER:S.d.AGENT,O=A.authorId,w=a[a.length-1],y=i&&Object(N.e)(w,"buttons");return b.a.createElement("div",{role:m,className:s()("drift-widget-message-group-wrapper",{"drift-widget-message-group-wrapper--last":i})},o&&b.a.createElement("p",{className:"drift-widget-message-group-timestamp"},function formatTimestamp(e,t){return e>0?Object(h.a)(e).isSame(h.a.now(),"date")?"".concat(t("dt.today")," ").concat(Object(h.a)(e).unixFmt(E.c)):Object(h.a)(e).unixFmt(E.b):""}(a[0].createdAt,p)),b.a.createElement("ul",{className:"drift-widget-message-group drift-widget-message-group-type--".concat(v)},b.a.createElement(We,{senderType:v,senderId:O}),a.map(function(e,t){var n=t===a.length-1,r=n?null:a[t+1];return b.a.createElement(f.Fragment,{key:e.attributes.generatedAt||e.id||e.attributes.widgetGuid},n&&v===S.d.AGENT&&b.a.createElement("li",{className:s()("drift-widget-message-group-avatar",Ze(e))},b.a.createElement(Je.a,{id:O,size:"SMALL"})),b.a.createElement(Ue,{resolveMessageHeight:g,message:e,nextMessage:r,isLastMessage:n,isLastGroup:i}))})),y&&b.a.createElement(u.a,{message:w}))},qe=a("6wvX"),Xe=a("rAhV"),Ye=a("fJrp"),$e=a("xqp/"),et=a("TbSn"),tt=a("mfas"),at=a("XuDI"),nt=(a("P6Di"),function shouldShowTimestamp(e,t){if(!e)return!0;var a=e?e[e.length-1].createdAt:0;return Object(h.a)(t[0].createdAt).isAfter(Object(h.a)(a).add(2,"hour"))}),it=function setScrollTop(e,t,a){if(e.scrollTop!==t){var n=e.style;a&&(n["-webkit-overflow-scrolling"]="auto",n.overflow="hidden"),e.scrollTop=t,a&&(n.overflow="scroll",n["-webkit-overflow-scrolling"]="touch")}};t.a=function MessageGroupList(e){var t=e.reflowHidden,a=e.messageGroups,n=e.messages,o=e.fetchMessages,u=e.activeConversation,m=e.disabled,d=void 0!==m&&m,g=Object(y.a)().widgetBackgroundStyles,p=Object(C.c)(function(e){return e.view}).chatOpen,A=Object(C.c)(function(e){return Object(M.a)({},["conversations","conversations",u],e)}),v=A.hasMoreMessages,E=A.nextPageMessageId,j=Object(qe.a)(),h=Object(f.useState)(!0),w=Object(c.a)(h,2),k=w[0],T=w[1],_=Object(f.useState)(!1),I=Object(c.a)(_,2),P=I[0],z=I[1],R=Object(f.useState)(!1),x=Object(c.a)(R,2),L=x[0],D=x[1],B=Object(f.useState)(!1),G=Object(c.a)(B,2),H=G[0],F=G[1],K=Object(f.useRef)(null),V=Object(f.useRef)(0),U=Object(f.useRef)(!1),J=Object(Xe.a)().markAsRead,Z=Object(f.useMemo)(function(){return Object(et.a)(n)},[n]),W=Object(Ye.a)(Z),Q=!!W&&Z!==W,q=a.length,X=!P&&v&&p,Y=Object(f.useMemo)(function(){return a.map(function(e,t){var n=t===a.length-1,i=t>0?a[t-1]:null,r=e[0].attributes.widgetGuid||e[0].id;return b.a.createElement(Qe,{key:"messageGroup-".concat(r),role:"listitem",messages:e,isLastGroup:n,showTimestamp:nt(i,e)})})},[a]),$=Object(f.useCallback)(function(){var e=Object(r.a)(i.a.mark(function _callee(e){return i.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return z(!0),D(!0),t.next=4,o({from:e});case 4:F(!0),z(!1),Object(O.d)(function(){return D(!1)},1e3);case 7:case"end":return t.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),[o]),ee=Object(f.useCallback)(function(e){e.target.scrollTop<=200&&X&&!H&&$(E)},[$,E,X,H]);Object($e.a)(ee,K),Object(f.useLayoutEffect)(function(){if(!(q<1))if(!p||P||t)!p&&Q&&(U.current=!0);else{var e=Object(M.a)(0,["current","scrollHeight"],K),a=V.current,n=Q||k||U.current;K.current&&(n?(it(K.current,e,j),U.current=!1):H&&it(K.current,e-a,j)),(n||H)&&(V.current=e),T(!1),F(!1)}},[q,p,k,P,Q,H,t,j]),Object(f.useEffect)(function(){F(!1),T(!0)},[u]),Object(f.useEffect)(function(){Z&&p&&Z.viewerRecipientStatus!==S.f.READ&&!Object(N.h)(Z)&&J(u)},[Z,u,J,p]);return b.a.createElement("div",{className:"drift-widget-message-group-list-container","aria-hidden":d},b.a.createElement("div",{style:g,className:s()("drift-widget-message-group-list-loader",{"drift-widget-message-group-list-loader--loading":L})},b.a.createElement(l.a,{visible:L})),b.a.createElement(at.Scrollbars,{ref:function setScrollContainerRef(e){e&&K&&(K.current=e.view)},hideTracksWhenNotNeeded:!0,renderView:function renderScrollbarsView(e){var a=Object(tt.a)(["WebkitOverflowScrolling"],e.style);return b.a.createElement("div",Object.assign({},e,{role:"list",style:a,className:s()("drift-widget-message-group-list",{"drift-widget-message-group-list--hidden":t})}))}},Y))}},"8pzW":function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return r});var n="M/d/yyyy h:mm a",i="h:mm a",r="M/d/yyyy"},"9Hpm":function(e,t,a){},"9wXn":function(e,t,a){},BY8A:function(e,t,a){"use strict";var n=a("s8DI"),i=a("ERkP"),r=a.n(i),c=a("uDfI"),o=a("rTkt");a("zoZM");t.a=function ThemeStyleSheets(){var e=Object(i.useState)(!1),t=Object(n.a)(e,2),a=t[0],s=t[1],l=Object(c.c)(function(e){return e.embed});return Object(i.useEffect)(function(){a||(Object(o.a)(l),Object(o.b)(l),s(!0))},[l,a]),r.a.createElement("div",{className:"drift-widget-preload-fonts","aria-hidden":"true"},r.a.createElement("span",null,"A"),r.a.createElement("strong",null,"B"))}},BZgG:function(e,t,a){},CwrG:function(e,t,a){"use strict";var n=a("O94r"),i=a.n(n),r=a("+Kbs"),c=a("SFoa"),o=a("LVcX"),s=a("ERkP"),l=a.n(s),u=a("liE7"),m=a("uDfI"),d=(a("p0+K"),function Drift(){var e=Object(o.a)("",["context","page","hostname"],Object(m.c)(function(e){return e.session})),t=Object(s.useMemo)(function(){return Object(c.e)()<=1?"":"?utm_source=".concat(e,"&utm_medium=web-widget&utm_campaign=widget-referral&utm_version=v2")},[e]);return l.a.createElement("a",{href:"https://www.drift.com/powered-by".concat(t),className:"drift-widget-power",rel:"noopener noreferrer",target:"_blank",title:"Drift","aria-label":"Chat powered by Drift"},l.a.createElement(u.Trans,{i18nKey:"composer.footer.poweredByDrift",components:[l.a.createElement(r.c,{height:12,width:12}),l.a.createElement("span",{className:"drift-widget-power-brand"},"Drift")]}))}),g=a("8Epr");a("2VrW"),t.a=function Footer(){var e=Object(m.c)(function(e){return e.view}).chatOpen,t=Object(m.c)(function(e){return e.embed.configuration}).showBranding,a=void 0!==t&&t,n=Object(g.a)(),r=n.privacyPolicyLink,c=n.privacyPolicyLinkText,o=n.noPolicy;return!e||!a&&o?null:l.a.createElement("div",{className:i()("drift-widget-footer",{"drift-widget-footer--with-branding":a})},a&&l.a.createElement(d,null),!o&&l.a.createElement("span",{className:"drift-widget-footer-privacy"},l.a.createElement("a",{href:r,rel:"noopener noreferrer",target:"_blank",title:c,className:"drift-widget-footer-privacy--link"},c)))}},Jrg8:function(e,t,a){},Jwn2:function(e,t,a){},Mur8:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=[{emoji:"\ud83d\ude20",value:1},{emoji:"\ud83d\ude41",value:2},{emoji:"\ud83d\ude10",value:3},{emoji:"\ud83d\ude0a",value:4},{emoji:"\ud83d\ude0d",value:5}]},NJA7:function(e,t,a){"use strict";var n=a("nfbA"),i=a("jm9a"),r=a("hX/4"),c=a("O94r"),o=a.n(c),s=a("o3t1"),l=a("lE29"),u=a("ERkP"),m=a.n(u),d=a("0lfv");a("Jwn2");t.a=function Button(e){var t=e.children,a=e.className,c=e.invertColors,u=e.invertOnHover,g=Object(r.a)(e,["children","className","invertColors","invertOnHover"]),f=Object(l.a)(),b=f.buttonStyles,p=f.foregroundStyles,A=Object(s.a)(),v=A.hoverProps,E=A.isHovered,j=c?p:b,h=c?b:p;return m.a.createElement("button",Object.assign({className:o()("drift-widget-button",Object(i.a)({},a,!!a)),style:E&&u?Object(n.a)({},h):Object(n.a)({},j),onTouchStart:d.l},v,g),t)}},P6Di:function(e,t,a){},Q0X4:function(e,t,a){},Q80r:function(e,t,a){},Qp3a:function(e,t,a){},RJSH:function(e,t,a){},Uo75:function(e,t,a){},UwV1:function(e,t,a){},Wkzb:function(e,t,a){},ZGTz:function(e,t,a){"use strict";var n=a("mj2O"),i=a.n(n),r=a("7SM1"),c=a("s8DI"),o=a("O94r"),s=a.n(o),l=a("HXmn"),u=a("LVcX"),m=a("ERkP"),d=a.n(m),g=a("liE7"),f=a("uDfI"),b=a("oFTC"),p=(a("uqJV"),a("Q80r"),Object(m.lazy)(function(){return Promise.all([a.e(9),a.e(33)]).then(a.bind(null,"tBak"))})),A=function EmojiPickerLoader(e){var t=e.loadingText;return d.a.createElement("div",{className:"drift-widget-emoji-picker--loader"},d.a.createElement("p",null,t),d.a.createElement(l.a,null))};t.a=function EmojiPicker(e){var t=e.open,n=e.onAddEmoji,o=e.onClickOutside,l=Object(g.useTranslation)().t,v=Object(f.c)(function(e){return e.conversations}).activeConversation,E="en"!==Object(f.c)(function(e){return Object(u.a)("en",["embed","configuration","locale"],e)}),j=Object(m.useMemo)(function(){return function createEmojiMartI18nProp(e){return{search:e("emoji.search"),clear:e("emoji.clear"),notfound:e("emoji.notfound"),skintext:e("emoji.skintext"),categories:{search:e("emoji.category.search"),recent:e("emoji.category.recent"),smileys:e("emoji.category.smileys"),people:e("emoji.category.smileys"),nature:e("emoji.category.nature"),foods:e("emoji.category.foods"),activity:e("emoji.category.activity"),places:e("emoji.category.places"),objects:e("emoji.category.objects"),symbols:e("emoji.category.symbols"),flags:e("emoji.category.flags"),custom:e("emoji.category.custom")},categorieslabel:e("emoji.categorieslabel"),skintones:{1:e("emoji.skintone1"),2:e("emoji.skintone2"),3:e("emoji.skintone3"),4:e("emoji.skintone4"),5:e("emoji.skintone5"),6:e("emoji.skintone6")}}}(l)},[l]),h=Object(m.useRef)(null),O=Object(m.useState)(null),w=Object(c.a)(O,2),y=w[0],k=w[1];Object(m.useEffect)(function(){t&&!y&&function(){var e=Object(r.a)(i.a.mark(function _callee(){return i.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(35).then(a.t.bind(null,"8ozv",3)).then(function(e){return k(e.default)});case 2:case"end":return e.stop()}},_callee)}));return function fetchEmojiData(){return e.apply(this,arguments)}}()()},[t,y]),Object(b.a)(h,function(e){o(e)});return d.a.createElement("div",{ref:h,className:s()("drift-widget-composer-emoji-picker",{"drift-widget-composer-emoji-picker--open":t,"drift-widget-composer-emoji-picker--full":v,"drift-widget-composer-emoji-picker--mini":!v,"drift-widget-composer-emoji-picker--hide-search":E})},d.a.createElement(m.Suspense,{fallback:d.a.createElement(A,{loadingText:l("status.loading")})},!!y&&d.a.createElement(p,{darkMode:!1,onSelect:function addEmojiToMessage(e){var t=e.native;n(function(e){return"".concat(e," ").concat(t)})},sheetSize:64,set:"apple",data:y,exclude:["flags","symbols","objects"],perLine:6,emojiTooltip:!E,i18n:j,showPreview:!1,showSkinTones:!1})))}},ZP32:function(e,t,a){},fmuz:function(e,t,a){},mQ2C:function(e,t,a){},"n/d+":function(e,t,a){},noex:function(e,t,a){"use strict";var n=a("O94r"),i=a.n(n),r=a("f/zS"),c=a("MQZS"),o=a("58kB"),s=a("LVcX"),l=a("ERkP"),u=a.n(l),m=a("liE7"),d=a("6lNa");a("t/7O");t.a=function PresenceAvatar(e){var t=e.size,a=void 0===t?"LARGE":t,n=e.id,g=void 0===n?null:n,f=e.className,b=e.image,p=Object(m.useTranslation)().t,A=Object(o.a)(g).recipient,v=Object(l.useMemo)(function(){return Object(s.a)(null,["avatarUrl"],A)},[A]),E=Object(c.a)(g,A.bot),j=Object(l.useMemo)(function(){return E?E===d.a.ONLINE?p("user.status.active"):E===d.a.OFFLINE?p("user.status.away"):null:null},[E,p]);return v?u.a.createElement("div",{className:i()("drift-widget-presence-avatar",f),title:E?j:""},u.a.createElement(r.a,{size:a,image:b||v,"aria-label":"".concat(A.name," avatar")}),E&&E===d.a.ONLINE&&u.a.createElement("div",{className:i()("drift-widget-agent-status","drift-widget-agent-status--online"),"aria-label":"agent status ".concat(j)}),E&&E===d.a.OFFLINE&&u.a.createElement("div",{className:i()("drift-widget-agent-status","drift-widget-agent-status--offline"),"aria-label":"agent status ".concat(j)},u.a.createElement("div",{className:"drift-widget-agent-status--offline-dot"}))):null}},oImb:function(e,t,a){"use strict";var n=a("mj2O"),i=a.n(n),r=a("7SM1"),c=a("s8DI"),o=a("KA4J"),s=a("O94r"),l=a.n(s),u=a("UAQ6"),m=a("nvPd"),d=a("6wvX"),g=a("1I2J"),f=a("97O6"),b=a.n(f),p=a("ERkP"),A=a.n(p),v=a("liE7"),E=a("oFTC"),j=a("0lfv");a("RJSH");t.a=function GiphyPicker(e){var t=e.onAddGiphy,a=e.disabled,n=void 0!==a&&a,s=Object(v.useTranslation)().t,f=Object(u.a)(),h=Object(p.useState)([]),O=Object(c.a)(h,2),w=O[0],y=O[1],k=Object(p.useState)(!1),N=Object(c.a)(k,2),M=N[0],C=N[1],S=Object(p.useState)(!1),T=Object(c.a)(S,2),_=T[0],I=T[1],P=Object(p.useRef)(null),z=Object(p.useRef)(null),R=Object(m.a)(""),x=R.value,L=R.onChange,D=Object(d.a)(),B=Object(p.useMemo)(function(){return Object(j.c)(function(){var e=Object(r.a)(i.a.mark(function _callee(e){var t,a;return i.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.a)(e,51,{locale:f});case 2:t=n.sent,a=t.data,y(a.data);case 5:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),200,!1)},[f]),G=Object(p.useCallback)(Object(r.a)(i.a.mark(function _callee2(){var e,t;return i.a.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.b)(51);case 2:e=a.sent,t=e.data,y(t.data);case 5:case"end":return a.stop()}},_callee2)})),[]);Object(E.a)(P,function(){M&&(C(!1),I(!0))}),Object(p.useEffect)(function(){M&&!D&&z.current.focus(),M&&G()},[M,D,G]),Object(p.useEffect)(function(){M&&(x.length>0?B(x):G())},[x,M,B,G]),Object(p.useEffect)(function(){if(_){var e=window.setTimeout(function(){I(!1)},200);return function(){window.clearTimeout(e)}}},[_]);return A.a.createElement(A.a.Fragment,null,A.a.createElement("button",{className:"drift-widget-composer-giphy-toggle",onClick:function openGiphy(){_||M||C(!0)},"aria-label":"Add GIF - Click to toggle",disabled:n},A.a.createElement(g.a,null)),A.a.createElement("div",{className:l()("drift-widget-composer-giphy-picker",{"drift-widget-composer-giphy-picker--show":M,"drift-widget-composer-giphy-picker--mobile":D}),ref:P},A.a.createElement("div",{className:"drift-widget-composer-giphy-picker-search"},A.a.createElement("input",{className:"drift-widget-input",ref:z,type:"search",placeholder:s("gifPicker.searchPlaceholder"),value:x,onChange:L,onFocus:function onInputFocus(e){D&&e.stopPropagation()},"aria-label":"Search GIFs"})),A.a.createElement("div",{className:"drift-widget-composer-giphy-picker-list-wrapper"},A.a.createElement("ul",{className:"drift-widget-composer-giphy-list"},w.map(function(e){return A.a.createElement("li",{key:e.id,className:"drift-widget-composer-giphy-list-item"},A.a.createElement("button",{onClick:function onClick(){return function addGiphyToMessage(e){t('<img src="'.concat(e.url,'" alt="gif" />')),C(!1)}(e.images.original)}},A.a.createElement("img",{src:e.images.preview_gif.url,alt:e.title})))}))),A.a.createElement("span",{className:"drift-widget-composer-giphy-picker-power"},A.a.createElement("img",{src:b.a,alt:s("gifPicker.poweredBy")}))))}},oY6K:function(e,t,a){},"p0+K":function(e,t,a){},rmQ0:function(e,t,a){"use strict";var n=a("nfbA"),i=a("O94r"),r=a.n(i),c=a("lE29"),o=a("ERkP"),s=a.n(o);a("9wXn");t.a=function CardHeader(e){var t=Object(c.a)(),a=t.backgroundStyles,i=t.conversationHeaderTextStyles;return s.a.createElement("header",Object.assign({},e,{className:r()("drift-widget-card-header",e.className),style:Object(n.a)(Object(n.a)(Object(n.a)({},a),i),e.style)}),s.a.createElement("div",{className:"drift-widget-card-header--content"},e.children))}},sZBt:function(e,t,a){},slYP:function(e,t,a){"use strict";var n=a("s8DI"),i=a("O94r"),r=a.n(i),c=a("rmQ0"),o=a("+Kbs"),s=a("nQD+"),l=a("hX/4"),u=a("ZGTz"),m=a("6wvX"),d=a("hNWd"),g=a("ERkP"),f=a.n(g),b=(a("+GZi"),function TextArea(e){var t=e.value,a=e.onValueChange,i=Object(l.a)(e,["value","onValueChange"]),c=Object(m.a)(!0),o=Object(g.useState)(!1),b=Object(n.a)(o,2),p=b[0],A=b[1],v=Object(g.useRef)(null),E=Object(g.useRef)(null);return f.a.createElement(f.a.Fragment,null,!c&&f.a.createElement(u.a,{open:p,onAddEmoji:function onAddEmoji(e){A(!p),i.disabled||(a&&a(e),E.current&&E.current.focus())},onClickOutside:function onEmojiPickerClickOutside(e){v.current&&v.current.contains(e.target)||A(!1)}}),f.a.createElement("div",{className:"drift-widget-textarea"},f.a.createElement("pre",null,t&&t.length?t:" "),f.a.createElement("textarea",Object.assign({},i,{className:r()("drift-widget-input",i.className),value:t,ref:E,onChange:function onTextAreaChange(e){a&&a(e.target.value),i.onChange&&i.onChange(e)},disabled:i.disabled})),!i.disabled&&!c&&f.a.createElement(s.a,{ref:v,className:"drift-widget-textarea--emoji-toggle",onClick:function onEmojiButtonClick(){i.disabled||A(!p)},disabled:i.disabled,"aria-expanded":p,"aria-label":"emojis"},f.a.createElement(d.a,null))))}),p=a("Mur8"),A=a("jITz"),v=a("fJrp"),E=a("lE29"),j=a("K7i0"),h=a("+oIK"),O=a("da4L"),w=a("liE7"),y=a("uDfI"),k=a("PjZB");a("Jrg8"),t.a=function RateConversation(e){var t=e.message,a=Object(w.useTranslation)().t,i=Object(E.a)(),l=i.activeColor,u=i.widgetSecondaryColor,m=Object(v.a)(t),d=Object(y.b)(),N=Object(y.c)(function(e){return e.session}).endUser,M=Object(g.useState)(!0),C=Object(n.a)(M,2),S=C[0],T=C[1],_=Object(g.useState)(""),I=Object(n.a)(_,2),P=I[0],z=I[1],R=Object(g.useState)(0),x=Object(n.a)(R,2),L=x[0],D=x[1],B=Object(g.useMemo)(function(){return Object(O.a)(t,"ratingPrompt")},[t]),G=B.ratingPromptMessage,H=B.ratingAcknowledgement,F=Object(A.a)({targetKey:"Enter"}),K=Object(g.useCallback)(function(){var e=Object(h.a)({message:"",activeConversation:t.conversationId,authorId:N.id,attributes:{conversationRating:{ratingPrompt:{ratingAcknowledgement:H,ratingPromptMessage:G.trim()},ratingValue:L,ratingText:P}},contentType:k.c.BOT_CONVERSATION_RATING,type:k.e.BOT_CONVERSATION_RATING});d(Object(j.m)({message:e})),T(!1)},[t,d,N.id,H,G,P,L]);Object(g.useEffect)(function(){F&&function isValidMessage(e){return e&&e.trim().length>0}(P)&&K()},[F,P,K]),Object(g.useEffect)(function(){m&&m!==t&&!S&&T(!0)},[t,m,S]);var V=Object(g.useMemo)(function(){return p.a.map(function(e){var t=e.emoji,a=e.value;return f.a.createElement(s.a,{className:r()("drift-widget-rate-conversation--rating",{"drift-widget-rate-conversation--rating--selected":a===L}),key:"rating_".concat(a),"aria-label":"rate ".concat(a),onClick:function onClick(){return D(a)}},t)})},[L]);if(!S)return null;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"drift-widget-rate-conversation--cover"}),f.a.createElement("div",{className:"drift-widget-rate-conversation"},f.a.createElement(c.a,null,f.a.createElement("span",null,G),f.a.createElement(s.a,{className:"drift-widget-rate-conversation--close-button","aria-label":"close rating",onClick:function onClick(){return T(!1)}},f.a.createElement(o.j,{width:20,height:20,fill:u}))),f.a.createElement("div",{className:"drift-widget-rate-conversation--body"},f.a.createElement("div",{className:"drift-widget-rate-conversation--ratings"},V),!!L&&f.a.createElement("div",{className:"drift-widget-rate-conversation--composer"},f.a.createElement("div",{className:"drift-widget-rate-conversation--actions"},f.a.createElement(s.a,{className:"drift-widget-rate-conversation--send-button",onClick:K},f.a.createElement(o.n,{color:"#".concat(l)}))),f.a.createElement(b,{"aria-label":"rating input",maxLength:4096,placeholder:a("form.placeholder.tellUsMore"),onValueChange:function onTextAreaValueChange(e){F||z(e)},value:P})))))}},sxX9:function(e,t,a){"use strict";var n,i=a("jm9a"),r=a("mj2O"),c=a.n(r),o=a("7SM1"),s=a("jKoD"),l=a("yEsl"),u=a("58kB"),m=a("ERkP"),d=a.n(m),g=a("liE7"),f=a("uDfI"),b=a("F8vJ"),p=(a("oY6K"),function SenderInfo(e){var t=e.senderId,a=e.messageText,n=void 0===a?null:a,i=Object(g.useTranslation)().t,r=Object(f.c)(function(e){return e.embed.configuration.organizationName}),c=Object(u.a)(t).recipient,o=Object(m.useMemo)(function(){return n||(c.name?r&&r.length&&!Object(b.a)(r)?i("header.senderInfo",{name:c.name,orgName:r}):"".concat(c.name):"")},[c,r,n,i]);return d.a.createElement("div",{className:"drift-widget-greeting-agent-header"},d.a.createElement("h1",{className:"drift-widget-greeting-recipient-name"},o),d.a.createElement(l.a,{id:t}))}),A=a("NJA7"),v=a("Vk0e"),E=a("qwiD"),j=a("g6eD"),h=a("LVcX"),O=a("SWQ0"),w=a("gG69"),y=a("0lfv"),k=a("Nlet"),N=a("wNJw"),M=(a("sZBt"),function GDPR(e){var t=e.previewRef,a=Object(f.b)(),n=Object(f.c)(function(e){return e.embed.configuration.dataProtection}),i=n.policies,r=n.default,l=Object(f.c)(function(e){return e.embed.configuration}).team,u=void 0===l?[]:l,g=Object(f.c)(function(e){return e.session}).endUser,b=Object(m.useCallback)(function(){return a(Object(j.a)({chatOpen:!1}))},[a]),M=Object(k.c)().locale,C=Object(m.useMemo)(function(){return u.find(function(e){return e.bot})||{}},[u]),S=Object(m.useMemo)(function(){var e=Object(h.a)(null,[M],i);if(e)return e;var t=Object(h.a)(null,["".concat(r)],i);return t||(Object(y.k)({data:["No locale matched and unable to find default policy: ".concat(t)]}),null)},[M,i,r]);if(Object(v.a)(w.c.GDPR),!S)return null;var T=function doRecordConsent(e){return Object(o.a)(c.a.mark(function _callee(){return c.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Object(N.a)(O.b.GDPR_CLICKED,{accepted:e,endUser:g.id}),!e){t.next=5;break}return t.next=5,Object(s.a)(g.id,S.message);case 5:a(Object(E.n)({hasConsent:e})),!e&&b(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.warn(t.t0);case 12:case"end":return t.stop()}},_callee,null,[[0,9]])}))};return d.a.createElement("div",{className:"drift-widget-gdpr-consent drift-widget-greeting"},d.a.createElement(p,{messageText:"Data Privacy Bot",senderId:C.id}),d.a.createElement("div",{ref:t,className:"drift-widget-gdpr-body"},d.a.createElement("div",{className:"drift-widget-greeting-content"},d.a.createElement("p",{className:"drift-widget-gdpr-consent--copy"},S.message)),d.a.createElement("div",{className:"drift-gdpr-actions"},d.a.createElement(A.a,{className:"drift-gdpr-action--allow-consent",onClick:T(!0)},d.a.createElement("span",{className:"drift-gdpr-action--text"},S.giveConsentLabel)),d.a.createElement(A.a,{className:"drift-gdpr-action--deny-consent",onClick:T(!1)},d.a.createElement("span",{className:"drift-gdpr-action--text"},S.declineConsentLabel)))))}),C=a("O94r"),S=a.n(C),T=a("GtSE"),_=function Time(e){var t=e.height,a=void 0===t?24:t,n=e.width,i=void 0===n?24:n,r=e.fill,c=void 0===r?"#FFF":r;return d.a.createElement("svg",{className:"drift-default-icon drift-default-icon--Time",width:i,height:a,viewBox:"0 0 20 20"},d.a.createElement("path",{d:"M3.55,10.3l.79-.78a.77.77,0,0,1,1.09,1.09L3.3,12.74a.79.79,0,0,1-1.11,0l-2-2.13A.77.77,0,1,1,1.33,9.54l.69.73V10a9,9,0,1,1,3.07,6.77.77.77,0,1,1,1-1.16A7.45,7.45,0,1,0,3.56,10C3.56,10.08,3.56,10.18,3.55,10.3Zm7.72-4.93v4.87h3.34a.77.77,0,0,1,0,1.54H10.5A.76.76,0,0,1,9.73,11V5.37a.77.77,0,0,1,1.54,0Z",fill:c}))},I=a("nQD+"),P=a("noex"),z=a("mZ4K"),R=a("fw6E"),x=a("6wvX"),L=a("lE29"),D=(a("9Hpm"),function ConversationHeader(){var e=Object(g.useTranslation)().t,t=Object(z.a)(),a=Object(u.a)(t).recipient,n=Object(f.c)(function(e){return e.conversations.conversations}),i=Object(L.a)(),r=i.backgroundStyles,c=i.conversationHeaderTextStyles,o=i.widgetSecondaryColor,s=Object(R.a)().conversationHistoryEnabled,l=Object(x.a)(),b=Object(R.a)(),p=b.conversationHistoryOpen,A=b.onToggleConversationHistory,v=Object(m.useRef)();return Object(m.useEffect)(function(){v.current&&v.current.focus()},[p]),d.a.createElement("div",{className:"drift-widget-active-conversation-header"},d.a.createElement(P.a,{size:"SMALL",id:a.id}),d.a.createElement("h1",{"aria-hidden":p,className:"drift-widget-recipient-name",style:c},a.name),d.a.createElement("div",{className:S()("drift-widget-conversation-history-header",{"drift-widget-conversation-history-header--open":p}),style:r,"aria-hidden":!p},d.a.createElement(I.a,{ref:v,className:"drift-widget-history-back-button",onClick:function onClick(){return A(!p)},"aria-label":"Back to conversation",disabled:!p},d.a.createElement(T.a,{color:o,width:20,height:20})),d.a.createElement("h1",{style:c},e("history.headerTitle"))),s&&Object.keys(n).length>1&&d.a.createElement(I.a,{className:S()("drift-widget-history",{"drift-widget-history--mobile":l,"drift-widget-history--open":p}),"aria-label":"Open conversation history",disabled:p,onClick:function onClick(){return A(!p)}},d.a.createElement(_,{fill:o,height:20,width:20})))}),B=a("kJB/"),G=a("fJrp"),H=a("SsZN"),F=a("hm8b"),K=(a("txDs"),function GreetingMessage(e){var t=e.previewRef,a=Object(B.a)(),n=Object(z.a)(),i=Object(f.c)(function(e){return e.view}).chatOpen,r=Object(G.a)(i),c=Object(f.c)(function(e){return e.view.matchedHours});return Object(m.useEffect)(function(){Object(F.a)(r)||i===r||(c?Object(H.t)(i):Object(H.a)(i))},[r,i,c]),Object(v.a)(),d.a.createElement("div",{className:"drift-widget-greeting"},d.a.createElement(p,{senderId:n}),d.a.createElement("p",{ref:t,className:"drift-widget-greeting-content"},a))}),V=a("xyhj"),U=a("hSLT"),J=a("vjCh"),Z=a("Wjfv"),W=a("PjZB"),Q=(a("Uo75"),function WelcomeMessage(e){var t=e.previewRef,a=Object(f.b)(),n=Object(f.c)(function(e){return e.view}).chatOpen,i=Object(z.a)(),r=Object(U.a)();if(!n)return null;var s=function(){var e=Object(o.a)(c.a.mark(function _callee(){return c.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:Object(J.g)(r.id,r.playbookId),a(Object(Z.a)());case 2:case"end":return e.stop()}},_callee)}));return function onCtaClicked(){return e.apply(this,arguments)}}();return d.a.createElement("div",{className:"drift-widget-greeting"},d.a.createElement(p,{senderId:i}),d.a.createElement("div",{ref:t,className:"drift-widget-welcome-message-content"},d.a.createElement("div",{dangerouslySetInnerHTML:{__html:'\n              <div class="drift-welcome-message-content--body">\n                '.concat(r.body,"\n              </div>\n            ")}})),r.ctaCopy&&r.ctaType!==W.a.CHAT_RESPONSE&&d.a.createElement("div",{className:"drift-widget-greeting-cta-wrapper"},d.a.createElement(V.a,{ctaUrl:r.ctaUrl,ctaType:r.ctaType,ctaCopy:r.ctaCopy,onClick:s})))});a.d(t,"b",function(){return q}),a.d(t,"a",function(){return X});var q={GREETING:"GREETING",CONVERSATION:"CONVERSATION",GDPR:"GDPR",WELCOME_MESSAGE:"WELCOME_MESSAGE"},X=(n={},Object(i.a)(n,q.WELCOME_MESSAGE,function(e){return d.a.createElement(Q,e)}),Object(i.a)(n,q.GREETING,function(e){return d.a.createElement(K,e)}),Object(i.a)(n,q.CONVERSATION,function(e){return d.a.createElement(D,e)}),Object(i.a)(n,q.GDPR,function(e){return d.a.createElement(M,e)}),n)},"t/7O":function(e,t,a){},txDs:function(e,t,a){},vYbd:function(e,t,a){},zoZM:function(e,t,a){}}]);